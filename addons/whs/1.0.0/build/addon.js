var addon=function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=1)}([,function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{staticClass:"whs-main-page"},[i("f7-navbar",[i("tommy-nav-menu"),t._v(" "),i("f7-nav-title",{class:!0===t.loaded.settings?"":"skeleton-effect-blink skeleton-text "},[t._v(t._s(t.settings.main.name))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"","popover-open":".whs-popover-add"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""}},[i("f7-icon",{attrs:{f7:"bell"}})],1),t._v(" "),i("f7-link",{attrs:{href:"/whs/settings/","icon-only":""}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"main-subnavbar"},[i("f7-searchbar",{staticClass:"whs-searchbar",attrs:{placeholder:t.$t("whs.common.search_placeholder"),customSearch:"",backdrop:!1,disableButton:!1,value:t.search},on:{input:function(e){return t.onSearchbarSearch(e.target.value)},"searchbar:clear":t.onSearchbarClear,"searchbar:enable":function(e){t.searchEnabled=!0},"searchbar:disable":function(e){t.searchEnabled=!1}}},[i("f7-link",{attrs:{"icon-only":""}},[i("i",{staticClass:"icon whs-icon-barcode"})]),t._v(" "),i("f7-link",{attrs:{"icon-only":""}},[i("i",{staticClass:"icon whs-icon-sort-black"})])],1),t._v(" "),t.searchEnabled?t._e():i("div",{class:"whs-menubar "+(!0===t.loaded.settings?"":"skeleton-effect-blink skeleton-text skeleton-icon")},[i("a",{class:"link "+("items"===t.activeTab?"whs-menubar-active":""),on:{click:function(e){t.activeTab="items"}}},[i("i",{staticClass:"icon whs-icon whs-icon-box"}),t._v(" "),i("span",[t._v(t._s(t.settings.item.plural_name))])]),t._v(" "),i("a",{class:"link "+("locations"===t.activeTab?"whs-menubar-active":""),on:{click:function(e){t.activeTab="locations"}}},[i("i",{staticClass:"icon whs-icon whs-icon-drawer"}),t._v(" "),i("span",[t._v(t._s(t.settings.location.plural_name))])]),t._v(" "),i("a",{class:"link "+("tags"===t.activeTab?"whs-menubar-active":""),on:{click:function(e){t.activeTab="tags"}}},[i("i",{staticClass:"icon whs-icon whs-icon-tag"}),t._v(" "),i("span",[t._v(t._s(t.settings.tag.plural_name))])]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-active":""),on:{click:function(e){t.activeTab="activity"}}},[i("i",{staticClass:"icon whs-icon whs-icon-clock"}),t._v(" "),i("span",[t._v(t._s(t.settings.activity.plural_name))])])]),t._v(" "),t.searchEnabled?i("div",{staticClass:"whs-menubar"},[i("a",{class:"link "+("all"===t.activeSearchFilter?"whs-menubar-active":""),on:{click:function(e){t.activeSearchFilter="all"}}},[i("i",{staticClass:"icon whs-icon whs-icon-all"}),t._v(" "),i("span",[t._v("All")])]),t._v(" "),i("a",{class:"link "+("items"===t.activeSearchFilter?"whs-menubar-active":""),on:{click:function(e){t.activeSearchFilter="items"}}},[i("i",{staticClass:"icon whs-icon whs-icon-box"}),t._v(" "),i("span",[t._v(t._s(t.settings.item.plural_name))])]),t._v(" "),i("a",{class:"link "+("locations"===t.activeSearchFilter?"whs-menubar-active":""),on:{click:function(e){t.activeSearchFilter="locations"}}},[i("i",{staticClass:"icon whs-icon whs-icon-drawer"}),t._v(" "),i("span",[t._v(t._s(t.settings.location.plural_name))])]),t._v(" "),i("a",{class:"link "+("tags"===t.activeSearchFilter?"whs-menubar-active":""),on:{click:function(e){t.activeSearchFilter="tags"}}},[i("i",{staticClass:"icon whs-icon whs-icon-tag"}),t._v(" "),i("span",[t._v(t._s(t.settings.tag.plural_name))])])]):t._e()],1)],1),t._v(" "),i("f7-popover",{staticClass:"whs-popover whs-popover-add",attrs:{backdrop:!1}},[i("f7-list",{attrs:{"no-chevron":""}},[i("f7-list-item",{attrs:{link:"/whs/item-add/","popover-close":""}},[i("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.common.new",{text:t.settings.item.name})))])]),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/location-add/","popover-close":""}},[i("i",{staticClass:"whs-icon whs-icon-drawer",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.common.new",{text:t.settings.location.name})))])]),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/tag-add/","popover-close":""}},[i("i",{staticClass:"whs-icon whs-icon-tag",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.common.new",{text:t.settings.tag.name})))])]),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/activity-add/","popover-close":""}},[i("i",{staticClass:"whs-icon whs-icon-clock",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.common.new",{text:t.settings.activity.name})))])])],1)],1),t._v(" "),"items"!==t.activeTab||t.searchEnabled?t._e():i("main-list",{attrs:{type:"item",data:t.items,detailUrl:"/whs/item/",styleImage:t.itemStyle,loaded:t.loaded.item,rows:[{name:"Quantity",link:"quantity"}]}}),t._v(" "),"locations"!==t.activeTab||t.searchEnabled?t._e():i("main-list",{attrs:{type:"location",data:t.locations,detailUrl:"/whs/location/",styleImage:t.locationStyle,loaded:t.loaded.location,rows:[{name:"Capacity",link:"pallet_capacity"}]}}),t._v(" "),"tags"!==t.activeTab||t.searchEnabled?t._e():i("main-list",{attrs:{type:"tag",data:t.tags,detailUrl:"/whs/tag/",styleImage:t.tagStyle,loaded:t.loaded.tag,rows:[{name:"Count",link:"taggings_count"}]}}),t._v(" "),"activity"!==t.activeTab||t.searchEnabled?t._e():[i("f7-popover",{staticClass:"whs-popover whs-popover-activity",attrs:{backdrop:!1}},[i("f7-list",{attrs:{"no-chevron":""}},[i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("all")}}},[i("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.popover.activity.all")))])]),t._v(" "),i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("item")}}},[i("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.settings.item.plural_name))])]),t._v(" "),i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("location")}}},[i("i",{staticClass:"whs-icon whs-icon-drawer",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.settings.location.plural_name))])]),t._v(" "),i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("tag")}}},[i("i",{staticClass:"whs-icon whs-icon-tag",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.settings.tag.plural_name))])]),t._v(" "),i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("role")}}},[i("i",{staticClass:"whs-icon whs-icon-roles",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.popover.activity.role")))])]),t._v(" "),i("f7-list-item",{on:{click:function(e){return t.activityPopoverClick("team")}}},[i("i",{staticClass:"whs-icon whs-icon-team",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.popover.activity.team")))])])],1)],1),t._v(" "),i("f7-list",{staticClass:"whs-list whs-main-activity",attrs:{"media-list":""}},[i("f7-list-item",{staticClass:"filter",attrs:{divider:""}},[i("f7-link",{attrs:{"popover-open":".whs-popover-activity"}},[t._v("\n          "+t._s(t.activityFilterTitle)+"\n          "),i("i",{staticClass:"whs-main-icon whs-icon-triangle"})]),t._v(" "),i("f7-button",{attrs:{fill:""}},[t._v(t._s(t.$t("whs.common.dashboard")))])],1)],1),t._v(" "),"all"===t.activity_filter?i("f7-list",{staticClass:"whs-list whs-main-activity all",attrs:{"media-list":""}},[i("f7-list-item",{staticClass:"more",attrs:{divider:""}},[i("f7-link",{on:{click:function(e){return t.actionMoreClick("item")}}},[t._v(t._s(t.$t("whs.common.more")))])],1),t._v(" "),i("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:"item",data:t.activities_main.items,detailUrl:"/whs/item/",styleImage:t.itemStyle,loaded:t.loaded.activity.item,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),t._v(" "),i("f7-list-item",{staticClass:"more",attrs:{divider:""}},[i("f7-link",{on:{click:function(e){return t.actionMoreClick("location")}}},[t._v(t._s(t.$t("whs.common.more")))])],1),t._v(" "),i("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[t._v(t._s(t.settings.location.plural_name))]),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:"location",data:t.activities_main.locations,detailUrl:"/whs/location/",styleImage:t.locationStyle,loaded:t.loaded.activity.location,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),t._v(" "),i("f7-list-item",{staticClass:"more",attrs:{divider:""}},[i("f7-link",{on:{click:function(e){return t.actionMoreClick("tag")}}},[t._v(t._s(t.$t("whs.common.more")))])],1),t._v(" "),i("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[t._v(t._s(t.settings.tag.plural_name))]),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:"tag",data:t.activities_main.tags,detailUrl:"/whs/tag/",styleImage:t.tagStyle,loaded:t.loaded.activity.tag,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),t._v(" "),i("f7-list-item",{staticClass:"more",attrs:{divider:""}},[i("f7-link",{on:{click:function(e){return t.actionMoreClick("role")}}},[t._v(t._s(t.$t("whs.common.more")))])],1),t._v(" "),i("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[t._v(t._s(t.$t("whs.popover.activity.role")))]),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:"role",data:t.activities_main.roles,detailUrl:"/whs/role/",styleImage:t.roleStyle,loaded:t.loaded.activity.role,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),t._v(" "),i("f7-list-item",{staticClass:"more",attrs:{divider:""}},[i("f7-link",{on:{click:function(e){return t.actionMoreClick("team")}}},[t._v(t._s(t.$t("whs.common.more")))])],1),t._v(" "),i("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[t._v(t._s(t.$t("whs.popover.activity.team")))]),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:"team",data:t.activities_main.team,detailUrl:"/whs/team/",styleImage:t.teamStyle,loaded:t.loaded.activity.team,skeleton_count:2,image_link:"icon_url",rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1)],1):i("f7-list",{staticClass:"selected whs-list whs-main-activity",attrs:{"media-list":""}},[t._l(t.activities_more.data,(function(e,a){return i("f7-list-item",{key:"activity_selected_"+a,attrs:{"chevron-center":"",link:"",title:e.name||e.first_name+" "+e.last_name}},[i("div",{staticClass:"whs-item-image",style:[e.image?{"background-image":"url("+e.image+")"}:t.dynamicStyle],attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("OPEN: "+t._s(e.open_count))]),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("DUE: "+t._s(e.due_count))]),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("OVERDUE: "+t._s(e.overdue_count))])])})),t._v(" "),i("f7-list-item-row",[i("main-list",{attrs:{type:t.activities_more.target,data:t.activities_more.data,detailUrl:"/whs/"+t.activities_more.target+"/",styleImage:t.dynamicStyle,loaded:t.loaded.activity_more,image_link:"team"===t.activities_more.target?"icon_url":"image",rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1)],2)]],2)};function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a._withStripped=!0;var n=window.tommy.api,l={main_page:void 0,file_base_url:null,team_id:null,getItem:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/items",method:"GET",cache:e,data:t}).then((function(t){return t}))},getItemDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.call({endpoint:"inventory/items/".concat(t),method:"GET",data:{with_summary:e,with_filters:i}}).then((function(t){return t}))},getLocations:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/locations",method:"GET",cache:e,data:t}).then((function(t){return t}))},getLocationDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n.call({endpoint:"inventory/locations/".concat(t),method:"GET",data:{with_summary:e,with_filters:i}}).then((function(t){return t}))},getActivities:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/activities",method:"GET",cache:e,data:t}).then((function(t){return t}))},getActivityDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/activities/".concat(t),method:"GET",data:{with_summary:e}}).then((function(t){return t}))},createActivity:function(t){return n.call({endpoint:"inventory/activities",method:"POST",data:t,cache:!1})},editActivity:function(t,e){return n.call({endpoint:"inventory/activities/".concat(e),method:"PUT",data:t,cache:!1})},deleteActivity:function(t){return n.call({endpoint:"inventory/activities/".concat(t),method:"DELETE",cache:!1})},getTags:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/tags",method:"GET",cache:e,data:t}).then((function(t){return t}))},getTagDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/tags/".concat(t),method:"GET",data:{with_summary:e}}).then((function(t){return t}))},createItem:function(t){return n.call({endpoint:"inventory/items",method:"POST",data:t,cache:!1})},editItem:function(t,e){return n.call({endpoint:"inventory/items/".concat(e),method:"PUT",data:t,cache:!1})},deleteItem:function(t){return n.call({endpoint:"inventory/items/".concat(t),method:"DELETE",cache:!1})},createLocation:function(t){return n.call({endpoint:"inventory/locations",method:"POST",data:t,cache:!1})},editLocation:function(t,e){return n.call({endpoint:"inventory/locations/".concat(e),method:"PUT",data:t,cache:!1})},deleteLocation:function(t){return n.call({endpoint:"inventory/locations/".concat(t),method:"DELETE",cache:!1})},createTag:function(t){return t.context="tags",n.call({endpoint:"tags",method:"POST",data:t,cache:!1})},editTag:function(t,e){return t.context="tags",n.call({endpoint:"tags/".concat(e),method:"PUT",data:t,cache:!1})},deleteTag:function(t){return n.call({endpoint:"tags/".concat(t),method:"DELETE",cache:!1})},getRoles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/roles",method:"GET",cache:e,data:t}).then((function(t){return t}))},getRoleDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/roles/".concat(t),method:"GET",data:{with_summary:e}}).then((function(t){return t}))},createRole:function(t){return t.context="roles",n.call({endpoint:"tags",method:"POST",data:t,cache:!1})},deleteRole:function(t){return n.call({endpoint:"tags/".concat(t),method:"DELETE",cache:!1})},getTeam:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/team_members",method:"GET",cache:e,data:t}).then((function(t){return t}))},getTeamDetail:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n.call({endpoint:"inventory/team_members/".concat(t),method:"GET",data:{with_summary:e}}).then((function(t){return t}))},getSettings:function(t){return t=t?"/"+t:"",n.call({endpoint:"addons/whs/install/settings".concat(t),method:"GET",cache:!1}).then((function(e){return e?t?e.data?e.data:null:0===e.length?null:e:e}))},saveSettings:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=t?"/"+t:"",n.call({endpoint:"addons/whs/install/settings".concat(t),method:"PUT",data:{data:JSON.stringify(e)},user_id:null,team_id:l.team_id})},deleteSettings:function(t){return t=t?"/"+t:"",n.call({endpoint:"addons/whs/install/settings".concat(t),method:"DELETE"})},toast:function(t){self.$f7.toast.create({text:t,position:"center",closeTimeout:2e3}).open()},resetCache:function(t){n.resetCache(t)},removeEmpty:function(t){return Object.keys(t).forEach((function(e){t[e]&&"object"===s(t[e])&&l.removeEmpty(t[e])||(""===t[e]||null===t[e])&&delete t[e]})),t},clearObject:function(t){return Object.keys(t).forEach((function(e){t[e]=null})),t}},o=l,r={main:{name:window.tommy.i18n.t("whs.index.title"),currency:"USD",date:"YYYY/MM/DD",time:"HH:mm"},item:{name:window.tommy.i18n.t("whs.common.item"),plural_name:window.tommy.i18n.t("whs.common.items"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/item.svg"},location:{name:window.tommy.i18n.t("whs.common.location"),plural_name:window.tommy.i18n.t("whs.common.locations"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/location.svg"},tag:{name:window.tommy.i18n.t("whs.common.tag"),plural_name:window.tommy.i18n.t("whs.common.tags"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/tag.svg"},activity:{name:window.tommy.i18n.t("whs.common.activity"),plural_name:window.tommy.i18n.t("whs.common.activities"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/icon-clock-black.svg"},role:{image:"assets/default/team.svg"},team:{image:"assets/default/team.svg"},item_fields:[{name:window.tommy.i18n.t("whs.fields.image.name"),description:window.tommy.i18n.t("whs.fields.image.description"),placeholder:window.tommy.i18n.t("whs.fields.image.placeholder"),alias:"image",type:"photo",active:!0,order:0},{name:window.tommy.i18n.t("whs.fields.name.name"),description:window.tommy.i18n.t("whs.fields.name.description"),placeholder:window.tommy.i18n.t("whs.fields.name.placeholder"),alias:"name",type:"single_line_text",required:!0,validate:!0,active:!0,order:1},{name:window.tommy.i18n.t("whs.fields.sku.name"),description:window.tommy.i18n.t("whs.fields.sku.description"),placeholder:window.tommy.i18n.t("whs.fields.sku.placeholder"),alias:"sku",type:"barcode",active:!0,order:2},{name:window.tommy.i18n.t("whs.fields.price.name"),description:window.tommy.i18n.t("whs.fields.price.description"),placeholder:window.tommy.i18n.t("whs.fields.price.placeholder"),alias:"price",type:"currency",active:!0,order:3},{name:window.tommy.i18n.t("whs.fields.tag.name"),description:window.tommy.i18n.t("whs.fields.tag.description"),placeholder:window.tommy.i18n.t("whs.fields.tag.placeholder"),alias:"tag",type:"tag",active:!0,order:4},{name:window.tommy.i18n.t("whs.fields.min_stock_level.name"),description:window.tommy.i18n.t("whs.fields.min_stock_level.description"),placeholder:window.tommy.i18n.t("whs.fields.min_stock_level.placeholder"),alias:"min_stock_level",type:"integer",active:!0,order:5},{name:window.tommy.i18n.t("whs.fields.quantity.name"),description:window.tommy.i18n.t("whs.fields.quantity.description"),placeholder:window.tommy.i18n.t("whs.fields.quantity.placeholder"),alias:"quantity",type:"integer",active:!0,order:6},{name:window.tommy.i18n.t("whs.fields.description.name"),description:window.tommy.i18n.t("whs.fields.description.description"),placeholder:window.tommy.i18n.t("whs.fields.description.placeholder"),alias:"description",type:"multi_line_text",active:!0,order:7},{name:window.tommy.i18n.t("whs.fields.storage_type.name"),description:window.tommy.i18n.t("whs.fields.storage_type.description"),placeholder:window.tommy.i18n.t("whs.fields.storage_type.placeholder"),alias:"storage_type",type:"single_select",active:!0,order:8,options:[{name:"Unspecified",value:"unspecified"},{name:"Freezer",value:"freezer"},{name:"Ambient",value:"ambient"}]}],location_fields:[{name:window.tommy.i18n.t("whs.fields.image.name"),description:window.tommy.i18n.t("whs.fields.image.description"),placeholder:window.tommy.i18n.t("whs.fields.image.placeholder"),alias:"image",type:"photo",active:!0,order:0},{name:window.tommy.i18n.t("whs.fields.name.name"),description:window.tommy.i18n.t("whs.fields.name.description"),placeholder:window.tommy.i18n.t("whs.fields.name.placeholder"),alias:"name",type:"single_line_text",required:!0,validate:!0,active:!0,order:1},{name:window.tommy.i18n.t("whs.fields.sku.name"),description:window.tommy.i18n.t("whs.fields.sku.description"),placeholder:window.tommy.i18n.t("whs.fields.sku.placeholder"),alias:"sku",type:"barcode",active:!0,order:2},{name:window.tommy.i18n.t("whs.fields.parent_location.name"),description:window.tommy.i18n.t("whs.fields.parent_location.description"),placeholder:window.tommy.i18n.t("whs.fields.parent_location.placeholder"),alias:"parent_location_id",type:"location",multiply:!1,active:!0,order:3},{name:window.tommy.i18n.t("whs.fields.description.name"),description:window.tommy.i18n.t("whs.fields.description.description"),placeholder:window.tommy.i18n.t("whs.fields.description.placeholder"),alias:"description",type:"multi_line_text",active:!0,order:4},{name:window.tommy.i18n.t("whs.fields.pallet_capacity.name"),description:window.tommy.i18n.t("whs.fields.pallet_capacity.description"),placeholder:window.tommy.i18n.t("whs.fields.pallet_capacity.placeholder"),alias:"pallet_capacity",type:"integer",active:!0,order:5},{name:window.tommy.i18n.t("whs.fields.tag.name"),description:window.tommy.i18n.t("whs.fields.tag.description"),placeholder:window.tommy.i18n.t("whs.fields.tag.placeholder"),alias:"tag",type:"tag",active:!0,order:6},{name:window.tommy.i18n.t("whs.fields.active_location.name"),description:window.tommy.i18n.t("whs.fields.active_location.description"),alias:"active",type:"toggle",active:!0,order:7},{name:window.tommy.i18n.t("whs.fields.location_category.name"),description:window.tommy.i18n.t("whs.fields.location_category.description"),placeholder:window.tommy.i18n.t("whs.fields.location_category.placeholder"),alias:"category",type:"single_select",active:!0,order:8,options:[{name:"Unspecified",value:"unspecified"},{name:"Frozen",value:"frozen"},{name:"Ambient",value:"ambient"}]}]},c=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"whs-empty-block"},[e("i",{staticClass:"icon whs-icon-empty"}),this._v(" "),e("span",[this._v(this._s(this.text))])])};function d(t,e,i,a,s,n,l,o){var r,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),a&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),l?(r=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),s&&s.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(l)},c._ssrRegister=r):s&&(r=o?function(){s.call(this,this.$root.$options.shadowRoot)}:s),r)if(c.functional){c._injectStyles=r;var d=c.render;c.render=function(t,e){return r.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,r):[r]}return{exports:t,options:c}}c._withStripped=!0;var u=d({props:{text:String}},c,[],!1,null,null,null);u.options.__file="addons/whs/1.0.0/src/components/empty-block.vue";var m=u.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-list-container"},[t.loaded?[t.data.length>0?i("f7-list",{staticClass:"whs-list",attrs:{"media-list":""}},t._l(t.data,(function(e,a){return i("f7-list-item",{key:t.type+"_"+a,attrs:{"chevron-center":"",link:"",title:e.name||e.first_name+" "+e.last_name},on:{click:function(i){return t.goToDetails(e)}}},[i("div",{staticClass:"whs-item-image",style:[e[t.image_link]?{"background-image":"url("+e[t.image_link]+")"}:t.styleImage],attrs:{slot:"media"},slot:"media"}),t._v(" "),t._l(t.rows,(function(s,n){return i("div",{key:t.type+"_"+a+"_row_"+n,staticClass:"whs-item-row"},[i("span",[t._v(t._s(s.name)+":")]),t._v("\n          "+t._s(e[s.link])+"\n        ")])})),t._v(" "),e.description?i("div",{staticClass:"whs-item-row description"},[t._v(t._s(e.description))]):t._e()],2)})),1):i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings[t.type].plural_name})}})]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("f7-list",{staticClass:"whs-list skeleton-text skeleton-effect-blink",attrs:{"media-list":""}},t._l(t.skeleton_count,(function(e){return i("f7-list-item",{key:"skeleton"+t.type+"_"+e,attrs:{"chevron-center":""}},[i("div",{staticClass:"item-title",staticStyle:{color:"#ccc !important"}},[t._v("_______________")]),t._v(" "),i("div",{staticClass:"whs-item-image",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("_______________")]),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("___________")])])})),1)],1)]],2)};v._withStripped=!0;var h=d({name:"MainList",components:{EmptyBlock:m},props:{type:String,data:Array,detailUrl:String,styleImage:Object,rows:Array,image_link:{type:String,default:"image"},loaded:{type:Boolean,default:!1},skeleton_count:{type:Number,default:5}},computed:{},methods:{goToDetails:function(t){this.$f7router.navigate(this.detailUrl,{props:{item_link:t}})}},data:function(){return{settings:o.main_page.$data.settings}}},v,[],!1,null,null,null);h.options.__file="addons/whs/1.0.0/src/components/main-list.vue";var _=h.exports,f=d({computed:{itemStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.item.image,")")}:{"background-image":"url(".concat(this.settings.item.image,")")}},locationStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.location.image,")")}:{"background-image":"url(".concat(this.settings.location.image,")")}},tagStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.tag.image,")")}:{"background-image":"url(".concat(this.settings.tag.image,")")}},activityStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.activity.image,")")}:{"background-image":"url(".concat(this.settings.activity.image,")")}},roleStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.role.image,")")}:{"background-image":"url(".concat(this.settings.role.image,")")}},teamStyle:function(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url(".concat(o.file_base_url+this.settings.team.image,")")}:{"background-image":"url(".concat(this.settings.team.image,")")}},dynamicStyle:function(){switch(self=this,self.dynamicStyleTarget){case null:case void 0:return{};case"item":return self.itemStyle;case"location":return self.locationStyle;case"tag":return self.tagStyle;case"role":return self.roleStyle;case"team":return self.teamStyle}}},data:function(){return{dynamicStyleTarget:null}}},void 0,void 0,!1,null,null,null);f.options.__file="addons/whs/1.0.0/src/mixins/list-styles.vue";var p=f.exports;function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=d({name:"Inventory",components:{EmptyBlock:m,"main-list":_},mixins:[p],created:function(){o.main_page=this,o.team_id=this.$root.team.id;var t=this.$root.addons.filter((function(t){return"whs"===t.package}))[0];o.file_base_url=t.file_base_url},computed:{activityFilterTitle:function(){switch(this.activity_filter){case"all":return this.$t("whs.popover.activity.all");case"role":return this.$t("whs.popover.activity.role");case"team":return this.$t("whs.popover.activity.team");default:return this.settings[this.activity_filter].plural_name}}},methods:{getItem:function(){var t=this;o.getItem().then((function(e){t.items=e,t.loaded.item=!0}))},getLocations:function(){var t=this;o.getLocations().then((function(e){t.locations=e,t.loaded.location=!0}))},getActivities:function(){var t=this,e={with_activity_counts:!0,page_limit:2};o.getActivities().then((function(t){console.log("TCL: getActivities -> data",t)})),o.getItem(e).then((function(e){t.activities_main.items=[e[0],e[1]],t.loaded.activity.item=!0})),o.getLocations(e).then((function(e){t.activities_main.locations=[e[0],e[1]],t.loaded.activity.location=!0})),o.getTags(e).then((function(e){t.activities_main.tags=[e[0],e[1]],t.loaded.activity.tag=!0})),o.getRoles(e).then((function(e){t.activities_main.roles=[e[0],e[1]],t.loaded.activity.role=!0})),o.getTeam(e).then((function(e){t.activities_main.team=[e[0],e[1]],t.loaded.activity.team=!0}))},getActivitiesMore:function(t){var e=this,i={with_activity_counts:!0};switch(e.activities_more={data:[],target:t},e.dynamicStyleTarget=e.activities_more.target,e.loaded.activity_more=!1,t){case"item":o.getItem(i).then((function(t){e.activities_more.data=t,e.loaded.activity_more=!0}));break;case"location":o.getLocations(i).then((function(t){e.activities_more.data=t,e.loaded.activity_more=!0}));break;case"tag":o.getTags(i).then((function(t){e.activities_more.data=t,e.loaded.activity_more=!0}));break;case"role":o.getRoles(i).then((function(t){e.activities_more.data=t,e.loaded.activity_more=!0}));break;case"team":o.getTeam(i).then((function(t){e.activities_more.data=t,e.loaded.activity_more=!0}))}},getTags:function(){var t=this;o.getTags().then((function(e){t.tags=e,t.loaded.tag=!0}))},onSearchbarSearch:function(t){this.search=t},onSearchbarClear:function(t){this.$f7.searchbar.disable()},activityPopoverClick:function(t){this.activity_filter=t,this.$f7.popover.close(".whs-popover-activity"),this.getActivitiesMore(t)},actionMoreClick:function(t){this.activity_filter=t,this.getActivitiesMore(t)},itemUpdated:function(){this.loaded.item=!1,o.resetCache("inventory/items"),this.getItem()},locationUpdated:function(){this.loaded.location=!1,o.resetCache("inventory/locations"),this.getLocations()},tagUpdated:function(){this.loaded.tag=!1,o.resetCache("inventory/tags"),this.getTags()},parseSettings:function(t){console.log("TCL: parseSettings -> settings",t);if(null===t)return this.settings;var e=t.reduce((function(t,e){return t[e.name]=e.data,t}),{});return this.compareDefSettings(this.settings,e)},compareDefSettings:function(t,e){for(def in t)if(void 0===e[def])e[def]=t[def];else for(itemDef in t[def])void 0===e[def][itemDef]?e[def][itemDef]=t[def][itemDef]:"object"===g(e[def][itemDef])&&(e[def][itemDef]=this.compareDefSettings(t[def][itemDef],e[def][itemDef]));return e}},beforeDestroy:function(){this.$events.$off("item:updated",this.itemUpdated),this.$events.$off("item:aded",this.itemUpdated),this.$events.$off("item:deleted",this.itemUpdated),this.$events.$off("location:updated",this.locationUpdated),this.$events.$off("location:aded",this.locationUpdated),this.$events.$off("location:deleted",this.locationUpdated),this.$events.$off("tag:updated",this.tagUpdated),this.$events.$off("tag:aded",this.tagUpdated),this.$events.$off("tag:deleted",this.tagnUpdated)},mounted:function(){var t=this;o.getSettings().then((function(e){t.settings=t.parseSettings(e),t.loaded.settings=!0,t.getItem(),t.getLocations(),t.getActivities(),t.getTags()})),t.$events.$on("item:updated",t.itemUpdated),t.$events.$on("item:aded",t.itemUpdated),t.$events.$on("item:deleted",t.itemUpdated),t.$events.$on("location:updated",t.locationUpdated),t.$events.$on("location:aded",t.locationUpdated),t.$events.$on("location:deleted",t.locationUpdated),t.$events.$on("tag:updated",t.tagUpdated),t.$events.$on("tag:aded",t.tagUpdated),t.$events.$on("tag:deleted",t.tagUpdated)},data:function(){return{activeTab:"items",activeSearchFilter:"all",search:"",searchEnabled:!1,items:[],locations:[],tags:[],activities:[],activities_main:{items:[],locations:[],tags:[],roles:[],team:[]},activities_more:{data:[],target:""},activity_filter:"all",settings:r,loaded:{settings:!1,item:!1,location:!1,tag:!1,activity:{item:!1,location:!1,tag:!1,role:!1,team:!1},activity_more:!1}}}},a,[],!1,null,null,null);y.options.__file="addons/whs/1.0.0/src/pages/index.vue";var w=y.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{class:[t.itemDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":t.colorizeHeader,"page:beforeout":t.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",{style:t.fontColor},[t._v(t._s(t.itemTitle))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/item-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(e){return t.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:t.subnavbarStyle},[t.itemDesc?i("div",{staticClass:"description"},[t._v("\n      "+t._s(t.itemDesc)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===t.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="summary"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.summary")))]),t._v(" "),"summary"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("locations"===t.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="locations"}}},[i("span",[t._v(t._s(t.settings.location.plural_name))]),t._v(" "),"locations"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("tags"===t.activeTab?"whs-menubar-dynamic-active":""),style:"tags"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="tags"}}},[i("span",[t._v(t._s(t.settings.tag.plural_name))]),t._v(" "),"tags"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="activity"}}},[i("span",[t._v(t._s(t.settings.activity.plural_name))]),t._v(" "),"activity"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()])])]),t._v(" "),"summary"===t.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.item.items_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.item.tags_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.tag.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.item.locations_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.location.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.value")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatCurrency(t.item.estimated_value)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.est_total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.expiring")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.item.expiring_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_in")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.item.pending_in_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_out")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.item.pending_out_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])])])]:t._e(),t._v(" "),"locations"===t.activeTab?[i("location-table",{attrs:{loadId:t.itemId,loadIdName:"inventory_item_id",parent:"item"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"item"},slot:"fixed"})]:t._e(),t._v(" "),"tags"===t.activeTab?[i("tag-table",{attrs:{loadId:t.itemId,loadIdName:"inventory_item_id",parent:"item"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"tag",parent:"item"},slot:"fixed"})]:t._e(),t._v(" "),"activity"===t.activeTab?[i("activity-table",{attrs:{loadId:t.itemId,loadIdName:"inventory_item_id",parent:"item"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"item"},slot:"fixed"})]:t._e()],2)};b._withStripped=!0;var k=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[i("thead",[i("tr",[t._m(0),t._v(" "),i("th",[t._v(t._s(t.settings.location.plural_name))]),t._v(" "),i("th",[t._v("Parent")]),t._v(" "),i("th",[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),i("th",[t._v("Lock")]),t._v(" "),i("th",[t._v("Lot code")]),t._v(" "),i("th",[t._v("Expiry")])])]),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell"}),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.parent_location_id))]),t._v(" "),i("td"),t._v(" "),e.active?i("td"):i("td",[i("i",{staticClass:"whs-summary-icon whs-icon-lock"})]),t._v(" "),i("td",[t._v(t._s(e.sku))]),t._v(" "),i("td")])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings.location.plural_name})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell"},[t._v("_")]),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};k._withStripped=!0;var C=d({components:{EmptyBlock:m},props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getLocations(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":location:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":location:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":location:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},k,[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}],!1,null,null,null);C.options.__file="addons/whs/1.0.0/src/components/table/location.vue";var $=C.exports,x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[i("thead",[i("tr",[t._m(0),t._v(" "),i("th",[t._v(t._s(t.settings.tag.plural_name))]),t._v(" "),i("th",[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),i("th",[t._v(t._s(t.settings.location.plural_name))])])]),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell media-cell-image",style:[e.image?{"background-image":"url("+e.image+")"}:t.tagStyle]}),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td"),t._v(" "),i("td")])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings.tag.plural_name})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell media-cell-image"}),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};x._withStripped=!0;var S=d({components:{EmptyBlock:m},mixins:[p],props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getTags(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":tag:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":tag:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":tag:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},x,[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),this._v(" "),e("th",[this._v("________")]),this._v(" "),e("th",[this._v("______")]),this._v(" "),e("th",[this._v("____")])])])}],!1,null,null,null);S.options.__file="addons/whs/1.0.0/src/components/table/tag.vue";var T=S.exports,E=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[t._m(0),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell"}),t._v(" "),i("td",[t._v(t._s(e.generated_id))]),t._v(" "),i("td",[t._v(t._s(e.kind))]),t._v(" "),i("td",[t._v(t._s(null!==e.scheduled_at?t.$moment(e.scheduled_at).format(t.settings.main.date):""))]),t._v(" "),i("td",[t._v(t._s(e.inventory_item_id))]),t._v(" "),i("td",[t._v(t._s())]),t._v(" "),i("td",[t._v(t._s(e.executed_by_id))]),t._v(" "),i("td",[t._v(t._s(null!==e.executed_at?t.$moment(e.executed_at).format(t.settings.main.date+" "+t.settings.main.time):""))]),t._v(" "),i("td",[t._v(t._s(e.source_location_id))]),t._v(" "),i("td",[t._v(t._s(e.destination_location_id))]),t._v(" "),i("td",[t._v(t._s(e.value))]),t._v(" "),i("td",[t._v(t._s(e.count))])])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings.activity.plural_name})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell"},[t._v("_")]),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};E._withStripped=!0;var D=d({components:{EmptyBlock:m},props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getActivities(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":activity:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":activity:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":activity:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},E,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Generated")]),t._v(" "),i("th",[t._v("Type")]),t._v(" "),i("th",[t._v("Scheduled")]),t._v(" "),i("th",[t._v("Item")]),t._v(" "),i("th",[t._v("Assignet")]),t._v(" "),i("th",[t._v("Executed By")]),t._v(" "),i("th",[t._v("Executed")]),t._v(" "),i("th",[t._v("Source")]),t._v(" "),i("th",[t._v("Destination")]),t._v(" "),i("th",[t._v("Value")]),t._v(" "),i("th",[t._v("Count")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}],!1,null,null,null);D.options.__file="addons/whs/1.0.0/src/components/table/activity.vue";var I=D.exports,P=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-pagination"},[i("div",{staticClass:"whs-pagination-rows"},[t._v(t._s(t.rows)+" "+t._s(t.$t("whs.pagination.rows")))]),t._v(" "),i("div",{staticClass:"whs-pagination-nav"},[i("a",{staticClass:"link",on:{click:t.leftClick}},[i("i",{staticClass:"f7-icons"},[t._v("chevron_left")])]),t._v(" "),i("span",[t._v(t._s(t.$t("whs.pagination.page",{current:t.current,total:t.total})))]),t._v(" "),i("a",{staticClass:"link",on:{click:t.rightClick}},[i("i",{staticClass:"f7-icons"},[t._v("chevron_right")])])]),t._v(" "),t._m(0)])};P._withStripped=!0;var B=d({props:{link:String,parent:String},data:function(){return{current:1,total:9,rows:999}},methods:{leftClick:function(){self=this,self.current>1&&(self.current-=1,self.$events.$emit("pagination:"+self.parent+":"+self.link+":change",self.current))},rightClick:function(){self=this,self.current<self.total&&(self.current+=1,self.$events.$emit("pagination:"+self.parent+":"+self.link+":change",self.current))},setPaginations:function(t){self=this,self.total=t.total,self.rows=t.rows}},created:function(){this.$events.$on("pagination:"+this.parent+":"+this.link+":set",this.setPaginations)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":"+this.link+":set",this.setPaginations)},mounted:function(){self=this}},P,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"whs-pagination-actions"},[e("a",{staticClass:"link"},[e("i",{staticClass:"icon f7-icons"},[this._v("share")])]),this._v(" "),e("a",{staticClass:"link"},[e("i",{staticClass:"icon f7-icons"},[this._v("gear")])])])}],!1,null,null,null);B.options.__file="addons/whs/1.0.0/src/components/table/pagination.vue";var F=B.exports,R={AED:".",AFN:"",ALL:"L",AMD:"",ANG:"",AOA:"Kz",ARS:"$",AUD:"$",AWG:"",AZN:"",BAM:"KM",BBD:"$",BDT:"",BGN:"",BHD:"..",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"",BTN:"Nu.",BWP:"P",BYR:"Br",BYN:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"",COP:"$",CRC:"",CUC:"$",CUP:"",CVE:"$",CZK:"K",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"",EEK:"kr",EGP:"",ERN:"Nfk",ETB:"Br",ETH:"",EUR:"",FJD:"$",FKP:"",GBP:"",GEL:"",GGP:"",GHC:"",GHS:"GH",GIP:"",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"",IMP:"",INR:"",IQD:".",IRR:"",ISK:"kr",JEP:"",JMD:"J$",JOD:"JD",JPY:"",KES:"KSh",KGS:"",KHR:"",KMF:"CF",KPW:"",KRW:"",KWD:"KD",KYD:"$",KZT:"",LAK:"",LBP:"",LKR:"",LRD:"$",LSL:"M",LTC:"",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"",MMK:"K",MNT:"",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"",NIO:"C$",NOK:"kr",NPR:"",NZD:"$",OMR:"",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"",PKR:"",PLN:"z",PYG:"Gs",QAR:"",RMB:"",RON:"lei",RSD:".",RUB:"",RWF:"R",SAR:"",SBD:"$",SCR:"",SDG:"..",SEK:"kr",SGD:"$",SHP:"",SLL:"Le",SOS:"S",SRD:"$",SSP:"",STD:"Db",STN:"Db",SVC:"$",SYP:"",SZL:"E",THB:"",TJS:"SM",TMT:"T",TND:".",TOP:"T$",TRL:"",TRY:"",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"",UGX:"USh",USD:"$",UYU:"$U",UZS:"",VEF:"Bs",VND:"",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"",XCD:"$",XOF:"CFA",XPF:"",YER:"",ZAR:"R",ZWD:"Z$"};function A(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M=Array.prototype,V=Object.prototype,L=(M.slice,V.toString),N={isArray:function(t){return Array.isArray(t)}},H=Math.pow(2,53)-1;N.isArrayLike=function(t){if("object"!==O(t)||!t)return!1;var e=t.length;return"number"==typeof e&&e%1==0&&e>=0&&e<=H},N.isObject=function(t){var e=O(t);return"function"===e||"object"===e&&!!t},N.each=function(t,e){var i,a;if(N.isArray(t))for(i=0,a=t.length;i<a&&!1!==e(t[i],i,t);i++);else for(i in t)if(!1===e(t[i],i,t))break;return t},N.each(["Arguments","Function","String","Number","Date","RegExp","Error"],(function(t){N["is"+t]=function(e){return L.call(e)==="[object "+t+"]"}})),N.toArray=function(t,e){e=e||0;for(var i=t.length-e,a=new Array(i);i--;)a[i]=t[i+e];return a},N.toNumber=function(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e},N.convertRangeToArray=function(t){return A(Array(t+1).keys()).slice(1)},N.convertArray=function(t){if(N.isArray(t))return t;if(N.isPlainObject(t)){for(var e,i=Object.keys(t),a=i.length,s=new Array(a);a--;)e=i[a],s[a]={$key:e,$value:t[e]};return s}return t||[]},N.getPath=function(t,e){return function t(e,i){return i.length?t(e[i[0]],i.slice(1)):e}(t,e.split("."))};L=Object.prototype.toString;N.isPlainObject=function(t){return"[object Object]"===L.call(t)},N.exist=function(t){return null!=t};var j=N;var U=function(t,e,i,a){var s,n,l,o,r=this&&this.currency?this.currency:{};e=j.exist(e)?e:r.symbol,i=j.exist(i)?i:r.decimalDigits,a=a||r;var c=/(\d{3})(?=\d)/g;if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=void 0!==e?e:"$",i=void 0!==i?i:2,s=null!=a.thousandsSeparator?a.thousandsSeparator:",",n=null==a.symbolOnLeft||a.symbolOnLeft,l=null!=a.spaceBetweenAmountAndSymbol&&a.spaceBetweenAmountAndSymbol,o=null!=a.showPlusSign&&a.showPlusSign;var d,u,m=Math.abs(t),v=(d=m,u=i,(+(Math.round(+(d+"e"+u))+"e"+-u)).toFixed(u));v=a.decimalSeparator?v.replace(".",a.decimalSeparator):v;var h=i?v.slice(0,-1-i):v,_=h.length%3,f=_>0?h.slice(0,_)+(h.length>3?s:""):"",p=i?v.slice(-1-i):"";return e=l?n?e+" ":" "+e:e,(t>0&&o?"+":"")+(t<0?"-":"")+(e=n?e+f+h.slice(_).replace(c,"$1"+s)+p:f+h.slice(_).replace(c,"$1"+s)+p+e)};function Y(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)}var z=function(t,e,i){var a=this&&this.number?this.number:{};i=i||a;var s,n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",e=/([\+\-])?([0-9\,]+)?([\.0-9]+)?([a\s]+)?/,i=t?t.match(e):["","","","",""],a=i[3],s=a?a.match(/0/g).length:0;return{sign:i[1]||"",base:i[2]||"",decimals:s,unit:i[4]||""}}(e=j.exist(e)?e:a.format),l=(s=t,{float:Math.abs(parseFloat(s)),int:Math.abs(parseInt(s)),sign:Math.sign(s)<0?"-":""}),o=null!=i.thousandsSeparator?i.thousandsSeparator:",",r=null!=i.decimalSeparator?i.decimalSeparator:".";if(n.sign=n.sign||l.sign,n.unit){var c=function(t,e){var i,a=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"}];for(i=a.length-1;i>0&&!(t>=a[i].value);i--);return(t=(t/a[i].value).toFixed(e.decimals).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1"))+e.unit.replace("a",a[i].symbol)}(l.float,n);return n.sign+c}var d=0===n.decimals?Y(l.float,0):l.int;switch(n.base){case"":d="";break;case"0,0":d=function(t,e){var i=/(\d+)(\d{3})/,a=t.toString().split("."),s=a[0],n=a.length>1?"."+a[1]:"";for(;i.test(s);)s=s.replace(i,"$1"+e+"$2");return s+n}(d,o)}var u=function(t,e,i){var a=Y(t,e).toString().split(".")[1];return a?i+a:""}(l.float,n.decimals,r);return n.sign+d+u},G=d({methods:{formatCurrency:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.main_page.$data.settings.main.currency,i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};self=this;var s=self.currencyList[e];return U(t,s,i,a)},formatNumber:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0,0",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0===t?"":z(t,e,i)}},computed:{getCurencySimbol:function(){return self=this,self.currencyList[o.main_page.$data.settings.main.currency]}},data:function(){return{currencyList:R}}},void 0,void 0,!1,null,null,null);G.options.__file="addons/whs/1.0.0/src/utils/cur-num-mixin.vue";var q=G.exports,K=d({props:{item_link:Object},components:{LocationTable:$,PaginationTable:F,TagTable:T,ActivityTable:I},mixins:[q],created:function(){this.itemId=this.item_link.id,this.itemTitle=this.item_link.name,this.itemDesc=this.item_link.description},computed:{headerBgColor:function(){return{"background-color":this.settings.item.header_color}},highlightedColor:function(){return{color:this.settings.item.highlight_color}},highlightedBgColor:function(){return{"background-color":this.settings.item.highlight_color}},fontColor:function(){return{color:this.settings.item.font_color}},subnavbarStyle:function(){return{"background-color":this.settings.item.header_color,color:this.settings.item.font_color}}},methods:{loadItemDetail:function(){self=this,o.getItemDetail(this.itemId).then((function(t){self.item=t}))},itemUpdated:function(t){self=this,self.itemTitle=t.name,self.itemDesc=t.description,o.resetCache("inventory/items/".concat(self.itemId)),self.loadItemDetail()},colorizeHeader:function(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function(){this.$f7router.navigate("/whs/item-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function(){this.$events.$off("item:updated",this.itemUpdated)},mounted:function(){this.$events.$on("item:updated",this.itemUpdated),this.loadItemDetail()},data:function(){return{itemTitle:null,itemDesc:null,itemId:null,itemIndex:null,locations:[],activeTab:"summary",item:{},settings:o.main_page.$data.settings}}},b,[],!1,null,null,null);K.options.__file="addons/whs/1.0.0/src/pages/details/item.vue";var W=K.exports,X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{class:[t.locationDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":t.colorizeHeader,"page:beforeout":t.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",{style:t.fontColor},[t._v(t._s(t.locationTitle))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/location-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(e){return t.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:t.subnavbarStyle},[t.locationDesc?i("div",{staticClass:"description"},[t._v("\n    "+t._s(t.locationDesc)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===t.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="summary"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.summary")))]),t._v(" "),"summary"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("items"===t.activeTab?"whs-menubar-dynamic-active":""),style:"items"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="items"}}},[i("span",[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),"items"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("tags"===t.activeTab?"whs-menubar-dynamic-active":""),style:"tags"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="tags"}}},[i("span",[t._v(t._s(t.settings.tag.plural_name))]),t._v(" "),"tags"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("locations"===t.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="locations"}}},[i("span",[t._v(t._s(t.settings.location.plural_name))]),t._v(" "),"locations"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="activity"}}},[i("span",[t._v(t._s(t.settings.activity.plural_name))]),t._v(" "),"activity"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()])])]),t._v(" "),"summary"===t.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatCurrency(t.location.items_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.location.tags_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.tag.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.location.sub_locations_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.location.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v("Capacity")])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("f7-gauge",{attrs:{type:"semicircle",size:"100","value-font-size":"18","value-font-weight":"medium","value-text-color":t.settings.location.font_color,value:t.location.capacity,"value-text":"0%","border-color":t.settings.location.highlight_color}})],1)]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.value")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[t._v(t._s(t.formatCurrency(t.location.estimated_value)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.est_total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.expiring")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.location.expiring_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_in")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[t._v(t._s(t.formatNumber(t.location.pending_in_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_out")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[t._v(t._s(t.formatNumber(t.location.pending_out_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v("Low stock")])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.location.low_stock_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])])])]:t._e(),t._v(" "),"items"===t.activeTab?[i("item-table",{attrs:{loadId:t.locationId,loadIdName:"inventory_location_id",parent:"location"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"item",parent:"location"},slot:"fixed"})]:t._e(),t._v(" "),"locations"===t.activeTab?[i("location-table",{attrs:{loadId:t.locationId,loadIdName:"inventory_location_id",parent:"location"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"location"},slot:"fixed"})]:t._e(),t._v(" "),"tags"===t.activeTab?[i("tag-table",{attrs:{loadId:t.locationId,loadIdName:"inventory_location_id",parent:"location"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"tag",parent:"location"},slot:"fixed"})]:t._e(),t._v(" "),"activity"===t.activeTab?[i("activity-table",{attrs:{loadId:t.locationId,loadIdName:"inventory_location_id",parent:"location"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"location"},slot:"fixed"})]:t._e()],2)};X._withStripped=!0;var Z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[i("thead",[i("tr",[t._m(0),t._v(" "),i("th",[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),i("th",[t._v("Description")]),t._v(" "),i("th",[t._v("Current")]),t._v(" "),i("th",[t._v("P.in")]),t._v(" "),i("th",[t._v("P.out")]),t._v(" "),i("th",[t._v(t._s(t.settings.location.plural_name))])])]),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell"}),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td",[t._v(t._s(e.description))]),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td")])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings.item.plural_name})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell"},[t._v("_")]),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};Z._withStripped=!0;var J=d({components:{EmptyBlock:m},props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getItem(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":item:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":item:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":item:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},Z,[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}],!1,null,null,null);J.options.__file="addons/whs/1.0.0/src/components/table/item.vue";var Q=J.exports,tt=d({props:{item_link:Object},components:{LocationTable:$,PaginationTable:F,TagTable:T,ActivityTable:I,ItemTable:Q},mixins:[q],created:function(){this.locationId=this.item_link.id,this.locationTitle=this.item_link.name,this.locationDesc=this.item_link.description,this.loadLocationDetail()},computed:{headerBgColor:function(){return{"background-color":this.settings.location.header_color}},highlightedColor:function(){return{color:this.settings.location.highlight_color}},highlightedBgColor:function(){return{"background-color":this.settings.location.highlight_color}},fontColor:function(){return{color:this.settings.location.font_color}},subnavbarStyle:function(){return Object.assign(this.headerBgColor,this.fontColor)}},methods:{loadLocationDetail:function(){self=this,o.getLocationDetail(this.locationId).then((function(t){self.location=t}))},locationUpdated:function(t){self=this,self.locationTitle=t.name,self.locationDesc=t.description,o.resetCache("inventory/locations/".concat(self.locationId)),self.loadLocationDetail()},colorizeHeader:function(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function(){this.$f7router.navigate("/whs/location-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function(){this.$events.$off("location:updated",this.locationUpdated)},mounted:function(){this.$events.$on("location:updated",this.locationUpdated)},data:function(){return{locationTitle:null,locationDesc:null,locationId:null,locationIndex:null,activeTab:"summary",location:{},settings:o.main_page.$data.settings}}},X,[],!1,null,null,null);tt.options.__file="addons/whs/1.0.0/src/pages/details/location.vue";var et=tt.exports,it=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{staticClass:"whs-details-page",on:{"page:beforein":t.colorizeHeader,"page:beforeout":t.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",{style:t.fontColor},[t._v(t._s(t.tagTitle))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/tag-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(e){return t.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:t.subnavbarStyle},[i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===t.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="summary"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.summary")))]),t._v(" "),"summary"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("items"===t.activeTab?"whs-menubar-dynamic-active":""),style:"items"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="items"}}},[i("span",[t._v(t._s(t.settings.item.plural_name))]),t._v(" "),"items"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("locations"===t.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="locations"}}},[i("span",[t._v(t._s(t.settings.location.plural_name))]),t._v(" "),"locations"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="activity"}}},[i("span",[t._v(t._s(t.settings.activity.plural_name))]),t._v(" "),"activity"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()])])]),t._v(" "),"summary"===t.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.tag.tags_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.tag.tags_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.tag.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.tag.locations_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:t.fontColor},[t._v(t._s(t.settings.location.plural_name))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.value")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatCurrency(t.tag.estimated_value)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.est_total")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.expiring")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.tag.expiring_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_in")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.tag.pending_in_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_out")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.tag.pending_out_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])])])]:t._e(),t._v(" "),"items"===t.activeTab?[i("item-table",{attrs:{loadId:t.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"item",parent:"tag"},slot:"fixed"})]:t._e(),t._v(" "),"locations"===t.activeTab?[i("location-table",{attrs:{loadId:t.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"tag"},slot:"fixed"})]:t._e(),t._v(" "),"activity"===t.activeTab?[i("activity-table",{attrs:{loadId:t.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"tag"},slot:"fixed"})]:t._e()],2)};it._withStripped=!0;var at=d({props:{item_link:Object},components:{LocationTable:$,PaginationTable:F,ActivityTable:I,ItemTable:Q},mixins:[q],created:function(){this.tagId=this.item_link.id,this.tagTitle=this.item_link.name,this.tagDesc=this.item_link.description,this.loadTagDetail()},computed:{headerBgColor:function(){return{"background-color":this.settings.tag.header_color}},highlightedColor:function(){return{color:this.settings.tag.highlight_color}},highlightedBgColor:function(){return{"background-color":this.settings.tag.highlight_color}},fontColor:function(){return{color:this.settings.tag.font_color}},subnavbarStyle:function(){return Object.assign(this.headerBgColor,this.fontColor)}},methods:{loadTagDetail:function(){self=this,o.getTagDetail(this.tagId).then((function(t){self.tag=t}))},tagUpdated:function(t){self=this,self.tagTitle=t.name,self.tagDesc=t.description,o.resetCache("inventory/tags/".concat(self.tagId)),self.loadTagDetail()},colorizeHeader:function(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function(){this.$f7router.navigate("/whs/tag-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function(){this.$events.$off("tag:updated",this.tagUpdated)},mounted:function(){this.$events.$on("tag:updated",this.tagUpdated)},data:function(){return{tagTitle:null,tagDesc:null,tagId:null,tagIndex:null,locations:[],items:[],activeTab:"summary",tag:{},settings:o.main_page.$data.settings}}},it,[],!1,null,null,null);at.options.__file="addons/whs/1.0.0/src/pages/details/tag.vue";var st=at.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{class:[t.teamDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":t.colorizeHeader,"page:beforeout":t.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",{style:t.fontColor},[t._v(t._s(t.teamTitle))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/team-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(e){return t.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:t.subnavbarStyle},[t.teamDesc?i("div",{staticClass:"description"},[t._v("\n      "+t._s(t.teamDesc)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===t.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="summary"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.summary")))]),t._v(" "),"summary"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("role"===t.activeTab?"whs-menubar-dynamic-active":""),style:"role"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="role"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.roles")))]),t._v(" "),"role"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="activity"}}},[i("span",[t._v(t._s(t.settings.activity.plural_name))]),t._v(" "),"activity"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()])])]),t._v(" "),"summary"===t.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.open")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.team.open_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.due")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.team.due_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.overdue")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.team.overdue_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_in")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.team.pending_in_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_out")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.team.pending_out_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.relocations")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.team.relocations_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.locations")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.movements")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.team.movements_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.stocktakes")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.team.stocktakes_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])])])]:t._e(),t._v(" "),"role"===t.activeTab?[i("role-table",{attrs:{loadId:t.teamId,loadIdName:"inventory_team_members_id",parent:"team"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"role",parent:"team"},slot:"fixed"})]:t._e(),t._v(" "),"activity"===t.activeTab?[i("activity-table",{attrs:{loadId:t.teamId,loadIdName:"inventory_team_members_id",parent:"team"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"team"},slot:"fixed"})]:t._e()],2)};nt._withStripped=!0;var lt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[t._m(0),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell media-cell-image",style:[e.image?{"background-image":"url("+e.image+")"}:t.teamStyle]}),t._v(" "),i("td",[t._v(t._s(e.name))]),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td")])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.$t("whs.summary_page.roles")})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell media-cell-image"}),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};lt._withStripped=!0;var ot=d({components:{EmptyBlock:m},mixins:[p],props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getRoles(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":tag:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":tag:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":tag:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},lt,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Done")]),t._v(" "),i("th",[t._v("Open")]),t._v(" "),i("th",[t._v("Due")]),t._v(" "),i("th",[t._v("Overdue")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")])])])}],!1,null,null,null);ot.options.__file="addons/whs/1.0.0/src/components/table/role.vue";var rt=ot.exports,ct=d({props:{item_link:Object},components:{PaginationTable:F,ActivityTable:I,RoleTable:rt},mixins:[q],created:function(){this.teamId=this.item_link.id,this.teamTitle=this.item_link.first_name+" "+this.item_link.last_name,this.teamDesc=this.item_link.description},computed:{headerBgColor:function(){return{"background-color":this.settings.team.header_color}},highlightedColor:function(){return{color:this.settings.team.highlight_color}},highlightedBgColor:function(){return{"background-color":this.settings.team.highlight_color}},fontColor:function(){return{color:this.settings.team.font_color}},subnavbarStyle:function(){return{"background-color":this.settings.team.header_color,color:this.settings.team.font_color}}},methods:{loadDetail:function(){self=this,o.getTeamDetail(this.teamId).then((function(t){self.team=t}))},teamUpdated:function(t){self=this,self.teamTitle=t.name,self.teamDesc=t.description,o.resetCache("inventory/teams/".concat(self.teamId)),self.loadDetail()},colorizeHeader:function(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function(){this.$f7router.navigate("/whs/team-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function(){this.$events.$off("team:updated",this.teamUpdated)},mounted:function(){this.$events.$on("team:updated",this.teamUpdated),this.loadDetail()},data:function(){return{teamTitle:null,teamDesc:null,teamId:null,teamIndex:null,locations:[],activeTab:"summary",team:{},settings:o.main_page.$data.settings}}},nt,[],!1,null,null,null);ct.options.__file="addons/whs/1.0.0/src/pages/details/team.vue";var dt=ct.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",{class:[t.roleDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":t.colorizeHeader,"page:beforeout":t.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",{style:t.fontColor},[t._v(t._s(t.roleTitle))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/role-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),t._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(e){return t.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),t._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:t.subnavbarStyle},[t.roleDesc?i("div",{staticClass:"description"},[t._v("\n      "+t._s(t.roleDesc)+"\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===t.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="summary"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.summary")))]),t._v(" "),"summary"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("team"===t.activeTab?"whs-menubar-dynamic-active":""),style:"tean"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="team"}}},[i("span",[t._v(t._s(t.$t("whs.summary_page.team")))]),t._v(" "),"team"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()]),t._v(" "),i("a",{class:"link "+("activity"===t.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===t.activeTab?t.highlightedColor:{},on:{click:function(e){t.activeTab="activity"}}},[i("span",[t._v(t._s(t.settings.activity.plural_name))]),t._v(" "),"activity"===t.activeTab?i("div",{staticClass:"after-line",style:t.highlightedBgColor}):t._e()])])]),t._v(" "),"summary"===t.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.open")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.role.open_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.due")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.role.due_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.overdue")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.highlightedColor},[t._v(t._s(t.formatNumber(t.role.overdue_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.activities")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_in")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.role.pending_in_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.pending_out")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.role.pending_out_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.relocations")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.role.relocations_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.locations")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.movements")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.role.movements_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])]),t._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[t._v(t._s(t.$t("whs.summary_page.stocktakes")))])]),t._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:t.fontColor},[t._v(t._s(t.formatNumber(t.role.stocktakes_count)))]),t._v(" "),i("div",{staticClass:"whs-summary-card-label",style:t.fontColor},[t._v(t._s(t.$t("whs.summary_page.items")))])])])])]:t._e(),t._v(" "),"team"===t.activeTab?[i("team-table",{attrs:{loadId:t.roleId,loadIdName:"inventory_role_id",parent:"role"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"team",parent:"role"},slot:"fixed"})]:t._e(),t._v(" "),"activity"===t.activeTab?[i("activity-table",{attrs:{loadId:t.roleId,loadIdName:"inventory_role_id",parent:"role"}}),t._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"role"},slot:"fixed"})]:t._e()],2)};ut._withStripped=!0;var mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-table-container"},[t.loaded?[t.data.length>0?i("div",{staticClass:"whs-table"},[i("table",[t._m(0),t._v(" "),i("tbody",t._l(t.data,(function(e,a){return i("tr",{key:"item_"+a},[i("td",{staticClass:"media-cell media-cell-image",style:[e.icon_url?{"background-image":"url("+e.icon_url+")"}:t.teamStyle]}),t._v(" "),i("td",[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td"),t._v(" "),i("td")])})),0)])]):t._e(),t._v(" "),0===t.data.length?i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.$t("whs.summary_page.roles")})}}):t._e()]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[i("table",[t._m(1),t._v(" "),i("tbody",t._l(12,(function(e){return i("tr",{key:"skeleton_item_"+e},[i("td",{staticClass:"media-cell media-cell-image"}),t._v(" "),i("td",[t._v("___________")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("_____")]),t._v(" "),i("td",[t._v("____")])])})),0)])])])]],2)};mt._withStripped=!0;var vt=d({components:{EmptyBlock:m},mixins:[p],props:{loadId:Number,loadIdName:String,parent:String},data:function(){return{data:[],settings:o.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this,e={};e[t.loadIdName]=t.loadId,o.getTeam(e).then((function(e){t.data=e,t.loaded=!0})),t.$events.$emit("pagination:"+t.parent+":team:set",{total:12,rows:39})},changePagination:function(t){this.loaded=!1,this.loadData(t)}},created:function(){this.$events.$on("pagination:"+this.parent+":team:change",this.changePagination)},beforeDestroy:function(){this.$events.$off("pagination:"+this.parent+":team:change",this.changePagination)},mounted:function(){self=this,self.loadData()}},mt,[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Team Member")]),t._v(" "),i("th",[t._v("Done")]),t._v(" "),i("th",[t._v("Open")]),t._v(" "),i("th",[t._v("Due")]),t._v(" "),i("th",[t._v("Overdue")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")])])])}],!1,null,null,null);vt.options.__file="addons/whs/1.0.0/src/components/table/team.vue";var ht=vt.exports,_t=d({props:{item_link:Object},components:{PaginationTable:F,ActivityTable:I,TeamTable:ht},mixins:[q],created:function(){this.roleId=this.item_link.id,this.roleTitle=this.item_link.name,this.roleDesc=this.item_link.description},computed:{headerBgColor:function(){return{"background-color":this.settings.role.header_color}},highlightedColor:function(){return{color:this.settings.role.highlight_color}},highlightedBgColor:function(){return{"background-color":this.settings.role.highlight_color}},fontColor:function(){return{color:this.settings.role.font_color}},subnavbarStyle:function(){return{"background-color":this.settings.role.header_color,color:this.settings.role.font_color}}},methods:{loadDetail:function(){self=this,o.getRoleDetail(this.roleId).then((function(t){self.role=t}))},roleUpdated:function(t){self=this,self.roleTitle=t.name,self.roleDesc=t.description,o.resetCache("inventory/roles/".concat(self.roleId)),self.loadDetail()},colorizeHeader:function(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function(){this.$f7router.navigate("/whs/role-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function(){this.$events.$off("role:updated",this.roleUpdated)},mounted:function(){this.$events.$on("role:updated",this.roleUpdated),this.loadDetail()},data:function(){return{roleTitle:null,roleDesc:null,roleId:null,roleIndex:null,locations:[],activeTab:"summary",role:{},settings:o.main_page.$data.settings}}},ut,[],!1,null,null,null);_t.options.__file="addons/whs/1.0.0/src/pages/details/role.vue";var ft=_t.exports,pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.title))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:t.addItem}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),t.editId?t._e():i("a",{staticClass:"whs-toolbar-button",attrs:{slot:"fixed"},on:{click:function(){t.addItem(!0)}},slot:"fixed"},[t._v(t._s(t.$t("whs.form_add.add_more_button",{text:t.settings.item.name})))]),t._v(" "),i("form",{staticClass:"list",attrs:{id:"add-item",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[t._l(t.prepareFields(t.settings.item_fields),(function(e,a){return[i(e.type,{key:"field_"+a,ref:"field_"+e.alias,refInFor:!0,tag:"component",attrs:{params:e,value:t.item[e.alias]},on:{"value:update":t.valueUpdate}})]}))],2)])],1),t._v(" "),t.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(e){return t.deleteDialog()}}},[t._v(t._s(t.$t("whs.common.delete")))])],1):t._e()],1)};pt._withStripped=!0;var gt=d({methods:{alertDialog:function(t,e,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.$f7.dialog.create({title:t,text:e,cssClass:a,buttons:[{text:i,cssClass:"dialog-button-bold",keyCodes:[13]}]}).open()},confirmDialog:function(t,e,i,a,s,n){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.$f7.dialog.create({title:t,text:e,cssClass:l,buttons:[{text:a,keyCodes:[27],onClick:function(){"function"==typeof n&&n()}},{text:i,cssClass:"dialog-button-bold",keyCodes:[13],onClick:function(){"function"==typeof s&&s()}}]}).open()}}},void 0,void 0,!1,null,null,null);gt.options.__file="addons/whs/1.0.0/src/mixins/dialog.vue";var yt=gt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",name:t.params.name,required:t.params.required,validate:t.params.validate,"error-message":t.$t("whs.form_add.validate.required"),value:t.self_value,placeholder:t.params.placeholder},on:{input:function(e){return t.updateValue(e.target.value)}}})],1)};wt._withStripped=!0;var bt=d({props:{value:{default:null},params:{name:{type:String},placeholder:{type:String},required:{type:Boolean,default:!1},validate:{type:Boolean,default:!1}}},methods:{updateValue:function(t){this.self_value=t,this.$emit("value:update",{alias:this.params.alias,value:t})}},data:function(){return{self_value:this.value}}},void 0,void 0,!1,null,null,null);bt.options.__file="addons/whs/1.0.0/src/mixins/fileds-logic.vue";var kt=bt.exports,Ct=d({name:"SingleLineTextField",mixins:[kt]},wt,[],!1,null,null,null);Ct.options.__file="addons/whs/1.0.0/src/components/fields/single_line_text.vue";var $t=Ct.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-text-multiline"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-input",{attrs:{type:"textarea",resizable:"",name:t.params.name,required:t.params.required,validate:t.params.validate,"error-message":t.$t("whs.form_add.validate.required"),value:t.self_value,placeholder:t.params.placeholder},on:{input:function(e){return t.updateValue(e.target.value)}}})],1)};xt._withStripped=!0;var St=d({name:"MultiLineTextField",mixins:[kt]},xt,[],!1,null,null,null);St.options.__file="addons/whs/1.0.0/src/components/fields/multi_line_text.vue";var Tt=St.exports,Et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-photo"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("li",{staticClass:"item-content whs-form-images-picker"},[i("div",{staticClass:"whs-form-images-previews"},[t._l(t.previews,(function(e,a){return i("div",{key:a,staticClass:"whs-form-images-preview",style:"background-image: url("+e+")"},[i("a",{on:{click:function(e){return t.deleteFile(a)}}},[i("i",{staticClass:"f7-icons"},[t._v("close")])])])})),t._v(" "),!0!==t.params.multiple&&t.previews.length<1?i("label",{staticClass:"whs-form-images-add-button"},[i("input",{attrs:{type:"file",multiple:t.params.multiple,accept:"image/*"},on:{change:t.onFilesChange}}),t._v(" "),i("i",{staticClass:"f7-icons"},[t._v("camera")]),t._v(" "),i("span",[t._v(t._s(t.params.placeholder))])]):t._e()],2)])],1)};Et._withStripped=!0;var Dt=d({name:"PhotoField",mixins:[kt],data:function(){return{files:[],previews:[]}},methods:{onFilesChange:function(t){var e=this,i=t.target.files;if(i.length)for(var a=function(t){var a=i[t],s=new FileReader;s.onload=function(){e.files.push(a),e.previews.push(s.result)},s.readAsDataURL(a)},s=0;s<i.length;s+=1)a(s)},deleteFile:function(t){this.files.splice(t,1),this.previews.splice(t,1)}}},Et,[],!1,null,null,null);Dt.options.__file="addons/whs/1.0.0/src/components/fields/photo.vue";var It=Dt.exports,Pt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-barcode"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",name:t.params.name,required:t.params.required,validate:t.params.validate,"error-message":t.$t("whs.form_add.validate.required"),value:t.self_value,placeholder:t.params.placeholder},on:{input:function(e){return t.updateValue(e.target.value)}}},[i("a",{staticClass:"link whs-form-barcode-link",attrs:{slot:"input"},slot:"input"},[i("i",{staticClass:"whs-icon whs-icon-barcode"})])])],1)};Pt._withStripped=!0;var Bt=d({name:"BarcodeField",mixins:[kt]},Pt,[],!1,null,null,null);Bt.options.__file="addons/whs/1.0.0/src/components/fields/barcode.vue";var Ft=Bt.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dollar"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-input",{attrs:{type:"number",name:t.params.name,required:t.params.required,validate:t.params.validate,"error-message":t.$t("whs.form_add.validate.required"),value:t.self_value,placeholder:t.params.placeholder},on:{input:function(e){return t.updateValue(e.target.value)}}})],1)};Rt._withStripped=!0;var At=d({name:"CurrencyField",mixins:[kt]},Rt,[],!1,null,null,null);At.options.__file="addons/whs/1.0.0/src/components/fields/currency.vue";var Ot=At.exports,Mt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("f7-list-item",{attrs:{divider:""}},[e("i",{staticClass:"whs-form-icon whs-form-icon-hash"}),this._v("\n    "+this._s(this.params.name)+"\n  ")]),this._v(" "),e("tags-picker",{ref:"tags_picker",attrs:{placeholder:this.params.placeholder},on:{"selected:change":this.updateValue}})],1)};Mt._withStripped=!0;var Vt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[0==t.selected.length||t.multiply?i("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:t.openSelector}},[t._m(0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("whs.common.dynamic_search_placeholder",{text:t.settings.tag.name})))])])]):t._e(),t._v(" "),i("ul",{staticClass:"tag-items whs-picker-selected-list"},t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"tag-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:t.tagStyle]}),t._v(" "),i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(i){return t.removeItem(e.id,e.context)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])])])])})),0)])};function Lt(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Vt._withStripped=!0;var Nt=d({props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[p],data:function(){return{settings:o.main_page.$data.settings}},methods:{openSelector:function(){var t,e=this;e.$f7router.navigate("/whs/select-picker/",{props:(t={selected:e.selected,pageTitle:e.$t("whs.common.dynamic_select_title",{text:e.settings.tag.name}),multiply:e.multiply,getData:e.getData,type:"tag"},Lt(t,"multiply",e.multiply),Lt(t,"onChange",(function(t,i){i?(e.$emit("itemAdd",t),e.addItem(t)):(e.$emit("itemRemove",t),e.deleteItem(t))})),t)})},getData:function(t){o.getTags().then((function(e){e.forEach((function(t,e){t.context="tags"})),Object.assign(t.targets,e),console.log("TCL: getData -> self.targets",t.targets),t.loaded=!0,t.createSearchbar()}))},addItem:function(t){self=this,self.multiply?self.selected.push(t):(self.selected.splice(0,99),self.selected.push(t)),self.$emit("selected:change",self.selected)},deleteItem:function(t){self=this;var e=self.selected.findIndex((function(e){return e.id===t.id&&e.context===t.context}));self.selected.splice(e,1),self.$emit("selected:change",self.selected)},removeItem:function(t,e){var i=this.selected.findIndex((function(i){return i.id===t&&i.context===e}));this.selected.splice(i,1),this.$emit("selected:change",this.selected)},setValue:function(t){var e=this;console.log("TCL: setValue -> self.selected",e.selected),t.forEach((function(t){e.selected.push(t)})),console.log("TCL: setValue -> self.selected",e.selected)}}},Vt,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}],!1,null,null,null);Nt.options.__file="addons/whs/1.0.0/src/components/picker/tags.vue";var Ht=Nt.exports,jt=d({name:"TagField",components:{TagsPicker:Ht},mixins:[kt]},Mt,[],!1,null,null,null);jt.options.__file="addons/whs/1.0.0/src/components/fields/tag.vue";var Ut=jt.exports,Yt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-input",{attrs:{type:"number",name:t.params.name,required:t.params.required,validate:t.params.validate,"error-message":t.$t("whs.form_add.validate.required"),value:t.self_value,placeholder:t.params.placeholder},on:{input:function(e){return t.updateValue(e.target.value)}}})],1)};Yt._withStripped=!0;var zt=d({name:"IntegerField",mixins:[kt]},Yt,[],!1,null,null,null);zt.options.__file="addons/whs/1.0.0/src/components/fields/integer.vue";var Gt=zt.exports,qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot"}),t._v("\n    "+t._s(t.params.name)+"\n  ")]),t._v(" "),i("f7-list-item",{staticClass:"whs-type-selector",attrs:{"smart-select":"",title:" ","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",closeOnSelect:!0,pageTitle:t.$t("whs.common.options_title"),valueEl:".whs-type-selector .item-title",cssClass:"whs-type-options"}}},[i("select",{attrs:{name:t.params.alias},on:{change:function(e){return t.updateValue(e.target.value)}}},t._l(t.params.options,(function(e,a){return i("option",{key:"option_"+t.params.alias+"_"+a,domProps:{value:e.value,selected:e.value==t.self_value}},[t._v("\n        "+t._s(e.name)+"\n      ")])})),0)])],1)};qt._withStripped=!0;var Kt=d({name:"SingleSelectField",mixins:[kt]},qt,[],!1,null,null,null);Kt.options.__file="addons/whs/1.0.0/src/components/fields/single_select.vue";var Wt=Kt.exports,Xt=d({name:"AddItem",props:{item_link:Object},components:{single_line_text:$t,multi_line_text:Tt,photo:It,barcode:Ft,currency:Ot,tag:Ut,integer:Gt,single_select:Wt},mixins:[yt],created:function(){this.item_link&&(this.editId=this.item_link.id,this.item=Object.assign({},this.item_link),this.loadFilters())},computed:{title:function(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.item.name}):this.$t("whs.form_add.title",{text:this.settings.item.name})}},watch:{filters:function(t){this.item.filters=JSON.stringify(t),this.item.with_filters=!0}},methods:{prepareFields:function(t){return(t=t.filter((function(t){return!0===t.active}))).sort((function(t,e){return t.order>e.order?1:-1})),t},valueUpdate:function(t){switch(t.alias){case"tag":this.tagsChange(t.value);break;default:this.item[t.alias]=t.value}},addItem:function(t){var e=this,i=this;if(!this.$f7.$("#add-item")[0].checkValidity())return this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok")),!1;this.editId?(this.item=this.setDefaults(this.item),o.editItem(this.item,this.editId).then((function(){i.$events.$emit("item:updated",e.item),i.$f7router.back(),o.toast(i.$t("whs.toast.edit",{text:e.settings.item.name}))}))):(this.item=o.removeEmpty(this.item),o.createItem(this.item).then((function(){i.$events.$emit("item:aded",e.item),!0===t?i.item=o.clearObject(i.item):i.$f7router.back(),o.toast(i.$t("whs.toast.add",{text:e.settings.item.name}))})))},deleteItem:function(){var t=this;o.deleteItem(this.editId).then((function(){self.$events.$emit("item:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),o.toast(self.$t("whs.toast.delete",{text:t.settings.item.name}))}))},deleteDialog:function(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteItem)},setDefaults:function(t){for(key in self=this,self.default_item)null!==t[key]&&""!==t[key]||(t[key]=self.default_item[key]);return t},tagsChange:function(t){self=this,self.filters=self.filters.filter((function(t){return"tags"!=t.context})),t.length>0&&(self.filters=self.filters.concat(t))},prepareFilters:function(t){self=this,t.forEach((function(t){t.id=t.tag_id,delete t.tag_id,self.filters.push(t)})),self.$refs.field_tag[0].$refs.tags_picker.setValue(self.filters)},loadFilters:function(){self=this,o.getItemDetail(self.editId,!1,!0).then((function(t){self.prepareFilters(t.filters)}))}},beforeDestroy:function(){},mounted:function(){},data:function(){return{item:{name:null,sku:null,price:null,quantity:null,min_stock_level:null,description:null,storage_type:null,image:null},editId:null,indexEdit:null,default_item:{price:0,width:0,depth:0,weight:0,quantity:0,min_stock_level:0},settings:o.main_page.$data.settings,filters:[]}}},pt,[],!1,null,null,null);Xt.options.__file="addons/whs/1.0.0/src/pages/add/item.vue";var Zt=Xt.exports,Jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.title))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[t.editId?t._e():i("f7-link",{attrs:{"icon-only":""},on:{click:t.addTag}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("form",{staticClass:"list",attrs:{id:"add-tag",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),t._v("\n          "+t._s(t.$t("whs.common.name_label"))+"\n        ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",name:"name",required:"",validate:"","error-message":t.$t("whs.common.required_name_error"),value:t.tag.name,placeholder:t.$t("whs.common.required_placeholder")},on:{input:function(e){t.tag.name=e.target.value}}})],1)])],1),t._v(" "),t.editId?i("div",{staticClass:"whs-form-delete",staticStyle:{position:"absolute",bottom:"0",left:"50%"}},[i("f7-link",{staticClass:"delete",staticStyle:{left:"-50%"},on:{click:function(e){return t.deleteDialog()}}},[t._v(t._s(t.$t("whs.common.delete")))])],1):t._e()],1)};Jt._withStripped=!0;var Qt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",{staticClass:"item-content whs-form-images-picker"},[t.lineWithActions?i("div",{staticClass:"item-inner justify-content-flex-end align-items-center"},[i("label",{staticClass:"link"},[i("input",{attrs:{type:"file",multiple:t.multiple,accept:"image/*"},on:{change:t.onFilesChange}}),t._v(" "),i("i",{staticClass:"f7-icons"},[t._v("images")])]),t._v(" "),t._m(0)]):t._e(),t._v(" "),t.previews.length||!t.lineWithActions?i("div",{staticClass:"whs-form-images-previews"},[t._l(t.previews,(function(e,a){return i("div",{key:a,staticClass:"whs-form-images-preview",style:"background-image: url("+e+")"},[i("a",{on:{click:function(e){return t.deleteFile(a)}}},[i("i",{staticClass:"f7-icons"},[t._v("close")])])])})),t._v(" "),!t.lineWithActions&&!t.multiple&&t.previews.length<1?i("label",{staticClass:"whs-form-images-add-button"},[i("input",{attrs:{type:"file",multiple:t.multiple,accept:"image/*"},on:{change:t.onFilesChange}}),t._v(" "),i("i",{staticClass:"f7-icons"},[t._v("camera")]),t._v(" "),i("span",[t._v(t._s(t.$t("whs.common.add_photo_label")))])]):t._e()],2):t._e()])};Qt._withStripped=!0;var te=d({props:{lineWithActions:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function(){return{files:[],previews:[]}},methods:{onFilesChange:function(t){var e=this,i=t.target.files;if(i.length)for(var a=function(t){var a=i[t],s=new FileReader;s.onload=function(){e.files.push(a),e.previews.push(s.result)},s.readAsDataURL(a)},s=0;s<i.length;s+=1)a(s)},deleteFile:function(t){this.files.splice(t,1),this.previews.splice(t,1)}}},Qt,[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"link"},[e("i",{staticClass:"f7-icons"},[this._v("camera")])])}],!1,null,null,null);te.options.__file="addons/whs/1.0.0/src/components/picker/form-images.vue";var ee=te.exports,ie=d({props:{item_link:Object},components:{FormImagesPicker:ee},mixins:[yt],created:function(){this.item_link&&(this.editId=this.item_link.id,this.tag=Object.assign({},this.item_link))},computed:{title:function(){return this.editId?this.$t("whs.form_add.title_delete",{text:this.settings.tag.name}):this.$t("whs.form_add.title",{text:this.settings.tag.name})}},methods:{addTag:function(){var t=this;self=this,this.$f7.$("#add-tag")[0].checkValidity()?this.editId?o.editTag(this.tag,this.editId).then((function(){self.$events.$emit("tag:updated",t.tag),self.$f7router.back(),o.toast(self.$t("whs.toast.edit",{text:t.settings.tag.name}))})):(this.tag=o.removeEmpty(this.tag),o.createTag(this.tag).then((function(){self.$events.$emit("tag:aded",t.tag),self.$f7router.back(),o.toast(self.$t("whs.toast.add",{text:t.settings.tag.name}))}))):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok"))},deleteTag:function(){var t=this;o.deleteTag(this.editId).then((function(){self.$events.$emit("tag:deleted",t.tag),self.$f7router.back("/whs/",{force:!0}),o.toast(self.$t("whs.toast.delete",{text:t.settings.tag.name}))}))},deleteDialog:function(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteTag)}},beforeDestroy:function(){},mounted:function(){},data:function(){return{tag:{name:null},editId:null,indexEdit:null,settings:o.main_page.$data.settings}}},Jt,[],!1,null,null,null);ie.options.__file="addons/whs/1.0.0/src/pages/add/tag.vue";var ae=ie.exports,se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.title))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:t.addLocation}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("form",{staticClass:"list",attrs:{id:"add-location",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[t._l(t.prepareFields(t.settings.location_fields),(function(e,a){return[i(e.type,{key:"field_"+a,ref:"field_"+e.alias,refInFor:!0,tag:"component",attrs:{params:e,value:t.location[e.alias]},on:{"value:update":t.valueUpdate}})]}))],2)])],1),t._v(" "),t.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(e){return t.deleteDialog()}}},[t._v(t._s(t.$t("whs.common.delete")))])],1):t._e()],1)};se._withStripped=!0;var ne=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("f7-list-item",{attrs:{divider:""}},[e("i",{staticClass:"whs-form-icon whs-form-icon-location"}),this._v("\n          "+this._s(this.params.name)+"\n        ")]),this._v(" "),e("location-picker",{attrs:{multiply:this.params.multiply,loadSelect:[this.value]},on:{"selected:change":this.updateValue}})],1)};ne._withStripped=!0;var le=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[0==t.selected.length||t.multiply?i("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:t.openSelector}},[t._m(0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("whs.common.dynamic_search_placeholder",{text:t.settings.location.name})))])])]):t._e(),t._v(" "),i("ul",{staticClass:"location-items whs-picker-selected-list"},t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"location-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:t.locationStyle]}),t._v(" "),i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(i){return t.removeItem(e.id,e.pseudo_type)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])])])])})),0)])};function oe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}le._withStripped=!0;var re=d({props:{loadSelect:{type:Array},multiply:{type:Boolean,default:!0}},mixins:[p],data:function(){return{selected:[],settings:o.main_page.$data.settings}},methods:{openSelector:function(){var t,e=this;e.$f7router.navigate("/whs/select-picker/",{props:(t={selected:e.selected,pageTitle:e.$t("whs.common.dynamic_select_title",{text:e.settings.location.name}),multiply:e.multiply,getData:e.getData,type:"location"},oe(t,"multiply",e.multiply),oe(t,"onChange",(function(t,i){i?(e.$emit("itemAdd",t),e.addItem(t)):(e.$emit("itemRemove",t),e.deleteItem(t))})),t)})},getData:function(t){o.getLocations().then((function(e){e.forEach((function(t,e){t.pseudo_type="location"})),Object.assign(t.targets,e),console.log("TCL: getData -> self.targets",t.targets),t.loaded=!0,t.createSearchbar()}))},addItem:function(t){self=this,self.multiply?self.selected.push(t):(self.selected.splice(0,99),self.selected.push(t)),self.$emit("selected:change",self.selected)},deleteItem:function(t){self=this;var e=self.selected.findIndex((function(e){return e.id===t.id&&e.pseudo_type===t.pseudo_type}));self.selected.splice(e,1),self.$emit("selected:change",self.selected)},removeItem:function(t,e){var i=this.selected.findIndex((function(i){return i.id===t&&i.pseudo_type===e}));this.selected.splice(i,1),this.$emit("selected:change",this.selected)},locationLoadSelect:function(){self=this,self.loadSelect&&self.loadSelect.forEach((function(t){null!==t&&o.getLocationDetail(t,!1).then((function(t){t.pseudo_type="location",self.selected.push(t)}))}))}},mounted:function(){self=this,self.locationLoadSelect()}},le,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}],!1,null,null,null);re.options.__file="addons/whs/1.0.0/src/components/picker/location.vue";var ce=re.exports,de=d({name:"LocationField",components:{LocationPicker:ce},mixins:[kt]},ne,[],!1,null,null,null);de.options.__file="addons/whs/1.0.0/src/components/fields/location.vue";var ue=de.exports,me=function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("f7-list-item",{attrs:{divider:""}},[e("i",{staticClass:"whs-form-icon whs-form-icon-toggle"}),this._v("\n          "+this._s(this.params.name)+"\n        ")]),this._v(" "),e("f7-list-item",[e("f7-toggle",{attrs:{slot:"after",checked:this.value},on:{"toggle:change":this.updateValue},slot:"after"})],1)],1)};me._withStripped=!0;var ve=d({name:"ToggleField",mixins:[kt]},me,[],!1,null,null,null);ve.options.__file="addons/whs/1.0.0/src/components/fields/toggle.vue";var he=ve.exports,_e=d({props:{item_link:Object},components:{single_line_text:$t,multi_line_text:Tt,photo:It,barcode:Ft,currency:Ot,tag:Ut,integer:Gt,single_select:Wt,location:ue,toggle:he},mixins:[yt],created:function(){this.item_link&&(this.editId=this.item_link.id,this.location=Object.assign({},this.item_link),this.loadFilters())},computed:{title:function(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.location.name}):this.$t("whs.form_add.title",{text:this.settings.location.name})}},watch:{filters:function(t){this.location.filters=JSON.stringify(t),this.location.with_filters=!0}},methods:{prepareFields:function(t){return(t=t.filter((function(t){return!0===t.active}))).sort((function(t,e){return t.order>e.order?1:-1})),t},valueUpdate:function(t){console.log("TCL: valueUpdate -> e",t);switch(t.alias){case"tag":this.tagsChange(t.value);break;case"parent_location_id":this.parentLocationChange(t.value);break;default:this.location[t.alias]=t.value}},addLocation:function(){var t=this,e=this;this.$f7.$("#add-location")[0].checkValidity()?this.editId?(this.location=this.setDefaults(this.location),o.editLocation(this.location,this.editId).then((function(){e.$events.$emit("location:updated",t.location),e.$f7router.back(),o.toast(e.$t("whs.toast.edit",{text:t.settings.location.name}))}))):(this.location=o.removeEmpty(this.location),o.createLocation(this.location).then((function(){e.$events.$emit("location:aded",t.location),e.$f7router.back(),o.toast(e.$t("whs.toast.add",{text:t.settings.location.name}))}))):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok"))},deleteLocation:function(){var t=this;o.deleteLocation(this.editId).then((function(){self.$events.$emit("location:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),o.toast(self.$t("whs.toast.delete",{text:t.settings.location.name}))}))},deleteDialog:function(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteLocation)},setDefaults:function(t){for(key in this.default_item)null!==t[key]&&""!==t[key]||(t[key]=this.default_item[key]);return t},parentLocationChange:function(t){t.length>0?this.location.parent_location_id=t[0].id:this.location.parent_location_id=null},tagsChange:function(t){this.filters=this.filters.filter((function(t){return"tags"!=t.context})),t.length>0&&(this.filters=this.filters.concat(t))},prepareFilters:function(t){var e=this;t.forEach((function(t){t.id=t.tag_id,delete t.tag_id,e.filters.push(t)})),e.$refs.field_tag[0].$refs.tags_picker.setValue(e.filters)},loadFilters:function(){var t=this;o.getLocationDetail(t.editId,!1,!0).then((function(e){t.prepareFilters(e.filters)}))}},beforeDestroy:function(){},mounted:function(){},data:function(){return{location:{name:null,sku:null,parent_location_id:null,description:null,pallet_capacity:null,active:!0,category:null,image:null},editId:null,indexEdit:null,default_location:{},settings:o.main_page.$data.settings,filters:[]}}},se,[],!1,null,null,null);_e.options.__file="addons/whs/1.0.0/src/pages/add/location.vue";var fe=_e.exports,pe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.title))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:t.addActivity}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("form",{staticClass:"list",attrs:{id:"add-activity",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar"}),t._v("\n          "+t._s(t.$t("whs.common.date_label"))+"\n        ")]),t._v(" "),i("f7-list-input",{attrs:{readonly:"",type:"text",name:"scheduled",value:null!==t.activity.scheduled_at?t.$moment(t.activity.scheduled_at).format(t.settings.main.date):t.$t("whs.common.date_placeholder")},nativeOn:{click:function(e){return t.openScheduledCalendar()}}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot"}),t._v("\n          "+t._s(t.$t("whs.common.type_label"))+"\n        ")]),t._v(" "),i("f7-list-item",{staticClass:"whs-type-selector",attrs:{"smart-select":"",title:" ","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",closeOnSelect:!0,pageTitle:t.$t("whs.common.options_title"),valueEl:".whs-type-selector .item-title",cssClass:"whs-type-options"}}},[i("select",{attrs:{name:"type"},on:{change:function(e){t.activity.kind=e.target.value,t.validate_errors.kind=!0}}},[i("option",{attrs:{value:"unspecified"},domProps:{selected:"unspecified"===t.activity.kind}},[t._v(t._s(t.$t("whs.form_add.type_options.unspecified")))]),t._v(" "),i("option",{attrs:{value:"pending_out"},domProps:{selected:"pending_out"===t.activity.kind}},[t._v(t._s(t.$t("whs.form_add.type_options.pending_out")))]),t._v(" "),i("option",{attrs:{value:"pending_in"},domProps:{selected:"pending_in"===t.activity.kind}},[t._v(t._s(t.$t("whs.form_add.type_options.pending_in")))]),t._v(" "),i("option",{attrs:{value:"movement"},domProps:{selected:"movement"===t.activity.kind}},[t._v(t._s(t.$t("whs.form_add.type_options.movement")))]),t._v(" "),i("option",{attrs:{value:"stocktake"},domProps:{selected:"stocktake"===t.activity.kind}},[t._v(t._s(t.$t("whs.form_add.type_options.stocktake")))])])]),t._v(" "),t.validate_errors.kind?t._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[t._v("\n          "+t._s(t.$t("whs.form_add.validate.required"))+"\n        ")]),t._v(" "),"pending_out"===t.activity.kind||"pending_in"===t.activity.kind||"movement"===t.activity.kind?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-item"}),t._v("\n            "+t._s(t.settings.item.name)+"\n          ")]),t._v(" "),i("item-picker",{attrs:{multiply:!1},on:{"selected:change":t.itemChange}}),t._v(" "),null!==t.activity.inventory_item_id?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1"}),t._v("\n              "+t._s(t.$t("whs.common.quantity_label"))+"\n            ")]),t._v(" "),i("f7-list-item",{attrs:{title:String(t.activity.count)}},[i("f7-stepper",{ref:"stepper_qauntity",attrs:{value:t.activity.count,step:1,autorepeat:!0,"autorepeat-dynamic":!0,min:0,max:t.total.available,"buttons-only":"",color:"gray"},on:{"stepper:change":function(e){t.activity.count=e}}})],1),t._v(" "),i("f7-list-item",{class:[0==t.activity.count?"error":"","whs-validate"],attrs:{divider:""}},[t._v("\n              "+t._s(t.$t("whs.form_add.validate.available",{count:t.activity.count,total:t.total.available}))+"\n              "),i("f7-link",{on:{click:function(e){return t.clickAvailableAll()}}},[t._v(t._s(t.$t("whs.form_add.validate.available_all")))])],1),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),t._v("\n              "+t._s(t.$t("whs.common.source_label"))+"\n            ")]),t._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":t.sourceChange}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),t._v("\n              "+t._s(t.$t("whs.common.destination_label"))+"\n            ")]),t._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":t.destinationChange}})]:t._e()]:t._e(),t._v(" "),"stocktake"===t.activity.kind?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-item"}),t._v("\n            "+t._s(t.settings.item.name)+"\n          ")]),t._v(" "),i("item-picker",{attrs:{multiply:!1},on:{"selected:change":t.itemChange}}),t._v(" "),null!==t.activity.inventory_item_id?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),t._v("\n              "+t._s(t.$t("whs.common.destination_label"))+"\n            ")]),t._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":t.currentLocationChange}})]:t._e()]:t._e(),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-person"}),t._v("\n          "+t._s(t.$t("whs.common.assignet_label"))+"\n        ")]),t._v(" "),i("assets-picker",{attrs:{multiply:!1},on:{"selected:change":t.assetChange}}),t._v(" "),t.validate_errors.assign?t._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[t._v("\n          "+t._s(t.$t("whs.form_add.validate.required"))+"\n        ")]),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-hash"}),t._v("\n          "+t._s(t.settings.tag.name)+"\n        ")]),t._v(" "),i("tags-picker",{on:{"selected:change":t.tagsChange}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-toggle"}),t._v("\n          "+t._s(t.$t("whs.common.executed_label"))+"\n        ")]),t._v(" "),i("f7-list-item",[i("f7-toggle",{attrs:{slot:"after",checked:t.executed},on:{"toggle:change":t.executedChange},slot:"after"})],1),t._v(" "),t.executed?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-person"}),t._v("\n            "+t._s(t.$t("whs.common.executed_by_label"))+"\n          ")]),t._v(" "),i("team-picker",{attrs:{multiply:!1},on:{"selected:change":t.executedTeamChange}}),t._v(" "),t.validate_errors.executed_by_id?t._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[t._v("\n            "+t._s(t.$t("whs.form_add.validate.required"))+"\n          ")]),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar"}),t._v("\n            "+t._s(t.$t("whs.common.date_executed_label"))+"\n          ")]),t._v(" "),i("f7-list-input",{attrs:{readonly:"",type:"text",name:"executed",value:null!==t.activity.executed_at?t.$moment(t.activity.executed_at).format(t.settings.main.date+" "+t.settings.main.time):t.$t("whs.common.date_placeholder")},nativeOn:{click:function(e){return t.openExecutedCalendar()}}}),t._v(" "),t.validate_errors.executed_at?t._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[t._v("\n            "+t._s(t.$t("whs.form_add.validate.required"))+"\n          ")]),t._v(" "),t.validate_errors.executed_at_time?t._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[t._v("\n            "+t._s(t.$t("whs.form_add.validate.scheduled"))+"\n          ")])]:t._e()],2)])],1),t._v(" "),t.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(e){return t.deleteDialog()}}},[t._v(t._s(t.$t("whs.common.delete")))])],1):t._e()],1)};pe._withStripped=!0;var ge=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[0==t.selected.length||t.multiply?i("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:t.openSelector}},[t._m(0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("whs.common.assets_search_placeholder")))])])]):t._e(),t._v(" "),i("ul",{staticClass:"asset-items whs-picker-selected-list"},t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"asset-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-media",style:t.imageStyle(e)}),t._v(" "),i("div",{staticClass:"item-title"},[t._v(t._s(e.name||e.first_name+" "+e.last_name))]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(i){return t.removeItem(e.id,e.context)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])])])])})),0)])};function ye(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}ge._withStripped=!0;var we=d({props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[p],data:function(){return{settings:o.main_page.$data.settings}},methods:{openSelector:function(){var t,e=this;e.$f7router.navigate("/whs/select-picker/",{props:(t={selected:e.selected,pageTitle:e.$t("whs.common.select_assets_title"),multiply:e.multiply,getData:e.getData,type:"asset"},ye(t,"multiply",e.multiply),ye(t,"onChange",(function(t,i){i?(e.$emit("itemAdd",t),e.addItem(t)):(e.$emit("itemRemove",t),e.deleteItem(t))})),t)})},imageStyle:function(t){return t.image?{"background-image":"url(".concat(t.image,")")}:t.icon_url?{"background-image":"url(".concat(t.icon_url,")")}:this.teamStyle},getData:function(t){Promise.all([o.getTeam(),o.getRoles()]).then((function(e){console.log("TCL: getData -> data",e),e[0].forEach((function(t,e){t.context="members"})),e[1].forEach((function(t,e){t.context="roles"})),Object.assign(t.targets,e[0].concat(e[1])),t.loaded=!0,t.createSearchbar()}))},addItem:function(t){self=this,self.multiply?self.selected.push(t):(self.selected.splice(0,99),self.selected.push(t)),self.$emit("selected:change",self.selected)},deleteItem:function(t){self=this;var e=self.selected.findIndex((function(e){return e.id===t.id&&e.context===t.context}));self.selected.splice(e,1),self.$emit("selected:change",self.selected)},removeItem:function(t,e){var i=this.selected.findIndex((function(i){return i.id===t&&i.context===e}));this.selected.splice(i,1),this.$emit("selected:change",this.selected)}}},ge,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}],!1,null,null,null);we.options.__file="addons/whs/1.0.0/src/components/picker/assets.vue";var be=we.exports,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[0==t.selected.length||t.multiply?i("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:t.openSelector}},[t._m(0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("whs.common.teams_search_placeholder")))])])]):t._e(),t._v(" "),i("ul",{staticClass:"team-items whs-picker-selected-list"},t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"team-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-media",style:[e.icon_url?{"background-image":"url("+e.icon_url+")"}:t.teamStyle]}),t._v(" "),i("div",{staticClass:"item-title"},[t._v(t._s(e.first_name)+" "+t._s(e.last_name))]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(i){return t.removeItem(e.id,e.pseudo_type)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])])])])})),0)])};function Ce(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}ke._withStripped=!0;var $e=d({props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[p],data:function(){return{settings:o.main_page.$data.settings}},methods:{openSelector:function(){var t,e=this;e.$f7router.navigate("/whs/select-picker/",{props:(t={selected:e.selected,pageTitle:e.$t("whs.common.select_teams_title"),multiply:e.multiply,getData:e.getData,type:"team"},Ce(t,"multiply",e.multiply),Ce(t,"image_link","icon_url"),Ce(t,"onChange",(function(t,i){i?(e.$emit("itemAdd",t),e.addItem(t)):(e.$emit("itemRemove",t),e.deleteItem(t))})),t)})},getData:function(t){o.getTeam().then((function(e){e.forEach((function(t,e){t.pseudo_type="team"})),Object.assign(t.targets,e),console.log("TCL: getData -> self.targets",t.targets),t.loaded=!0,t.createSearchbar()}))},addItem:function(t){self=this,self.multiply?self.selected.push(t):(self.selected.splice(0,99),self.selected.push(t)),self.$emit("selected:change",self.selected)},deleteItem:function(t){self=this;var e=self.selected.findIndex((function(e){return e.id===t.id&&e.pseudo_type===t.pseudo_type}));self.selected.splice(e,1),self.$emit("selected:change",self.selected)},removeItem:function(t,e){var i=this.selected.findIndex((function(i){return i.id===t&&i.pseudo_type===e}));this.selected.splice(i,1),this.$emit("selected:change",this.selected)}}},ke,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}],!1,null,null,null);$e.options.__file="addons/whs/1.0.0/src/components/picker/team.vue";var xe=$e.exports,Se=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("li",[0==t.selected.length||t.multiply?i("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:t.openSelector}},[t._m(0),t._v(" "),i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-title"},[t._v(t._s(t.$t("whs.common.dynamic_search_placeholder",{text:t.settings.item.name})))])])]):t._e(),t._v(" "),i("ul",{staticClass:"item-items whs-picker-selected-list"},t._l(t.selected,(function(e,a){return i("li",{key:a,staticClass:"item-item"},[i("div",{staticClass:"item-content"},[i("div",{staticClass:"item-inner"},[i("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:t.itemStyle]}),t._v(" "),i("div",{staticClass:"item-title"},[t._v(t._s(e.name))]),t._v(" "),i("div",{staticClass:"item-after"},[i("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(i){return t.removeItem(e.id,e.pseudo_type)}}},[i("i",{staticClass:"material-icons"},[t._v("close")])])])])])])})),0)])};function Te(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Se._withStripped=!0;var Ee=d({props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[p],data:function(){return{settings:o.main_page.$data.settings}},methods:{openSelector:function(){var t,e=this;e.$f7router.navigate("/whs/select-picker/",{props:(t={selected:e.selected,pageTitle:e.$t("whs.common.dynamic_select_title",{text:e.settings.item.name}),multiply:e.multiply,getData:e.getData,type:"item"},Te(t,"multiply",e.multiply),Te(t,"onChange",(function(t,i){i?(e.$emit("itemAdd",t),e.addItem(t)):(e.$emit("itemRemove",t),e.deleteItem(t))})),t)})},getData:function(t){o.getItem().then((function(e){e.forEach((function(t,e){t.pseudo_type="item"})),Object.assign(t.targets,e),t.loaded=!0,t.createSearchbar()}))},addItem:function(t){self=this,self.multiply?self.selected.push(t):(self.selected.splice(0,99),self.selected.push(t)),self.$emit("selected:change",self.selected)},deleteItem:function(t){self=this;var e=self.selected.findIndex((function(e){return e.id===t.id&&e.pseudo_type===t.pseudo_type}));self.selected.splice(e,1),self.$emit("selected:change",self.selected)},removeItem:function(t,e){var i=this.selected.findIndex((function(i){return i.id===t&&i.pseudo_type===e}));this.selected.splice(i,1),this.$emit("selected:change",this.selected)}}},Se,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}],!1,null,null,null);Ee.options.__file="addons/whs/1.0.0/src/components/picker/item.vue";var De=Ee.exports;function Ie(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var Pe=d({props:{item_link:Object},components:{TagsPicker:Ht,AssetsPicker:be,TeamPicker:xe,ItemPicker:De,LocationPicker:ce},mixins:[yt],created:function(){this.item_link&&(this.editId=this.item_link.id,this.activity=Object.assign({},this.item_link),this.activity.user_id=this.$root.user.id)},computed:{title:function(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.activity.name}):this.$t("whs.form_add.title",{text:this.settings.activity.name})}},watch:{filters:function(t){this.activity.filters=JSON.stringify(t),this.activity.with_filters=!0}},methods:{addActivity:function(){var t=this;self=this,this.$f7.$("#add-activity")[0].checkValidity()&&self.checkValidity()?this.editId?(this.activity=this.setDefaults(this.activity),o.editActivity(this.activity,this.editId).then((function(){self.$events.$emit("activity:updated",t.activity),self.$f7router.back(),o.toast(self.$t("whs.toast.edit",{text:t.settings.activity.name}))}))):(this.activity=o.removeEmpty(this.activity),o.createActivity(this.activity).then((function(){self.$events.$emit("activity:aded",t.activity),self.$f7router.back(),o.toast(self.$t("whs.toast.add",{text:t.settings.activity.name}))}))):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text")+self.validate_message,this.$t("whs.alert_form.ok"),"whs-alert")},checkValidity:function(){self=this,self.validate_message="";var t=!0;return self.executed&&(null===self.activity.executed_by_id&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.executed_by_message"),self.validate_errors.executed_by_id=!1),null===self.activity.executed_at&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.executed_at_message"),self.validate_errors.executed_at=!1)),null!==self.activity.scheduled_at&&null!==self.activity.executed_at&&self.activity.executed_at<self.activity.scheduled_at&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.executed_at_time_message"),self.validate_errors.executed_at_time=!1),null!==self.activity.kind&&"unspecified"!==self.activity.kind||(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.kind_message"),self.validate_errors.kind=!1),"pending_out"!==self.activity.kind&&"pending_in"!==self.activity.kind&&"movement"!==self.activity.kind||(null===self.activity.inventory_item_id&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.inventory_item_id_message"),self.validate_errors.inventory_item_id=!1),null===self.activity.source_location_id&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.source_location_id_message"),self.validate_errors.source_location_id=!1),null===self.activity.destination_location_id&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.destination_location_id_message"),self.validate_errors.destination_location_id=!1)),"stocktake"===self.activity.kind&&null===self.activity.current_location_id&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.current_location_id_message"),self.validate_errors.current_location_id=!1),self.filters.findIndex((function(t){return"members"===t.context||"roles"===t.context}))<0&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.assign_message"),self.validate_errors.assign=!1),t},deleteActivity:function(){var t=this;o.deleteActivity(this.editId).then((function(){self.$events.$emit("activity:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),o.toast(self.$t("whs.toast.delete",{text:t.settings.activity.name}))}))},deleteDialog:function(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteActivity)},setDefaults:function(t){for(key in self=this,self.default_item)null!==t[key]&&""!==t[key]||(t[key]=self.default_item[key]);return t},openScheduledCalendar:function(){this.calendarScheduled.open()},createScheduledCalendar:function(){var t=this,e=new Date;t.activity.scheduled_at&&(e=new Date(t.activity.scheduled_at)),t.calendarScheduled=t.$f7.calendar.create({value:[e],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,i){t.calendar_first_change.scheduled?t.activity.scheduled_at=i[0]:t.calendar_first_change.scheduled=!0}}})},openExecutedCalendar:function(){this.calendarExecuted.open()},createExecutedCalendar:function(){var t=this,e=new Date;t.activity.executed_at&&(e=new Date(t.activity.executed_at)),t.calendarExecuted=t.$f7.calendar.create({value:[e],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,i){t.validate_errors.executed_at=!0,t.calendar_first_change.executed?t.activity.executed_at=i[0]:t.calendar_first_change.executed=!0,null!==t.activity.scheduled_at&&null!==t.activity.executed_at&&t.calendar_first_change.executed&&(console.log("TCL: change -> self.activity.scheduled_at",t.activity.scheduled_at),t.activity.executed_at>=t.activity.scheduled_at?t.validate_errors.executed_at_time=!0:t.validate_errors.executed_at_time=!1)}}})},executedChange:function(t){self=this,self.executed=t,self.validate_errors.executed_at=!0,self.validate_errors.executed_by_id=!0,t||(self.activity.executed_at=null,self.activity.executed_by_id=null)},itemChange:function(t){self=this,t.length>0?(self.activity.inventory_item_id=t[0].id,self.total.available=t[0].quantity):(self.activity.count=0,self.total.available=0,self.activity.inventory_item_id=null)},executedTeamChange:function(t){self=this,self.validate_errors.executed_by_id=!0,t.length>0?self.activity.executed_by_id=t[0].id:self.activity.executed_by_id=null},assetChange:function(t){self=this,self.validate_errors.assign=!0,self.filters=self.filters.filter((function(t){return"members"!=t.context&&"roles"!=t.context})),t.length>0&&(self.filters=self.filters.concat(t))},tagsChange:function(t){self=this,self.filters=self.filters.filter((function(t){return"tags"!=t.context})),t.length>0&&(self.filters=self.filters.concat(t))},sourceChange:function(t){self=this,t.length>0?self.activity.source_location_id=t[0].id:self.activity.source_location_id=null},destinationChange:function(t){self=this,t.length>0?self.activity.destination_location_id=t[0].id:self.activity.destination_location_id=null},currentLocationChange:function(t){self=this,t.length>0?self.activity.current_location_id=t[0].id:self.activity.current_location_id=null},clickAvailableAll:function(){self=this,self.activity.count=self.total.available,self.$refs.stepper_qauntity.setValue(self.total.available)}},beforeDestroy:function(){},mounted:function(){this.createScheduledCalendar(),this.createExecutedCalendar()},data:function(){var t;return self=this,{activity:(t={user_id:self.$root.user.id,scheduled_at:null,executed_at:null,kind:null},Ie(t,"executed_at",null),Ie(t,"executed_by_id",null),Ie(t,"count",0),Ie(t,"inventory_item_id",null),Ie(t,"destination_location_id",null),Ie(t,"source_location_id",null),Ie(t,"current_location_id",null),t),editId:null,indexEdit:null,executed:!1,default_activity:{},settings:o.main_page.$data.settings,calendar_first_change:{executed:!1,scheduled:!1},validate_errors:{kind:!0,inventory_item_id:!0,source_location_id:!0,destination_location_id:!0,current_location_id:!0,executed_at:!0,executed_at_time:!0,executed_by_id:!0,assign:!0},total:{available:0,selected:0},filters:[]}}},pe,[],!1,null,null,null);Pe.options.__file="addons/whs/1.0.0/src/pages/add/activity.vue";var Be=Pe.exports,Fe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings.title")))]),t._v(" "),t.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(e){return t.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):t._e()],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings.name_label"),"inline-label":"",value:t.settings.name},on:{input:function(e){return t.updateValue("name",e.target.value)}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.currency"),"smart-select":"","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",renderItem:function(e){return t.renderCurrencyItem(this,e)},closeOnSelect:!0}}},[i("select",{attrs:{name:"currency"},on:{change:function(e){return t.updateValue("currency",e.target.value)}}},t._l(t.currencyList,(function(e,a){return i("option",{key:a,domProps:{value:a,selected:a===t.settings.currency}},[t._v(t._s(a))])})),0)]),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.date"),after:t.demoDate,"popup-open":".whs-date-format-popup"}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.time"),after:t.demoTime,"popup-open":".whs-time-format-popup"}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.export")}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.import")}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.permissions")}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.customers")}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.integrations")}}),t._v(" "),i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings.preferences_title")}}),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/settings/items/",title:t.$t("whs.settings.items")}}),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/settings/tags/",title:t.$t("whs.settings.tags")}}),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/settings/locations/",title:t.$t("whs.settings.locations")}}),t._v(" "),i("f7-list-item",{attrs:{link:"/whs/settings/activities/",title:t.$t("whs.settings.activities")}}),t._v(" "),i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.activity_dashboard")}})],1),t._v(" "),i("f7-list",{staticClass:"no-hairlines whs-settings-list"},[i("f7-list-item",{attrs:{link:"",title:t.$t("whs.settings.subscriptions")}})],1),t._v(" "),i("f7-popup",{staticClass:"whs-date-format-popup",on:{"popup:open":function(e){t.editParam=t.settings.date}}},[i("f7-page",[i("f7-navbar",[i("f7-nav-left",[i("f7-link",{staticClass:"icon-only",attrs:{"popup-close":""}},[i("i",{staticClass:"icon icon-back"})])],1),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings.date")))]),t._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{"icon-only":"","popup-close":""},on:{click:function(e){return t.updateValue("date",t.editParam)}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings.date_format_format"),"inline-label":"",value:t.editParam},on:{input:function(e){t.editParam=e.target.value}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.date_format_demo"),after:t.$moment().format(t.editParam)}}),t._v(" "),i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings.date_format_values")}}),t._v(" "),t._l(t.momentDateTokens,(function(e){return i("f7-list-item",{key:e,attrs:{title:e,after:t.$moment().format(e)}})})),t._v(" "),i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings.date_format_examples")}}),t._v(" "),t._l(t.momentDateExamples,(function(e){return i("f7-list-item",{key:e,attrs:{title:e,after:t.$moment().format(e)},on:{click:function(i){t.editParam=e}}})}))],2)],1)],1),t._v(" "),i("f7-popup",{staticClass:"whs-time-format-popup",on:{"popup:open":function(e){t.editParam=t.settings.time}}},[i("f7-page",[i("f7-navbar",[i("f7-nav-left",[i("f7-link",{staticClass:"icon-only",attrs:{"popup-close":""}},[i("i",{staticClass:"icon icon-back"})])],1),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings.time")))]),t._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{"icon-only":"","popup-close":""},on:{click:function(e){return t.updateValue("time",t.editParam)}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings.time_format_format"),"inline-label":"",value:t.editParam},on:{input:function(e){t.editParam=e.target.value}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.time_format_demo"),after:t.$moment().format(t.editParam)}}),t._v(" "),i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings.time_format_values")}}),t._v(" "),t._l(t.momentTimeTokens,(function(e){return i("f7-list-item",{key:e,attrs:{title:e,after:t.$moment().format(e)}})})),t._v(" "),i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings.time_format_examples")}}),t._v(" "),t._l(t.momentTimeExamples,(function(e){return i("f7-list-item",{key:e,attrs:{title:e,after:t.$moment().format(e)},on:{click:function(i){t.editParam=e}}})}))],2)],1)],1)],1)};Fe._withStripped=!0;var Re=d({components:{},data:function(){return{currencyList:R,momentDateTokens:["YYYY","YY","M","MM","MMM","MMMM","D","DD","Do","ddd","dddd"],momentDateExamples:["ddd, DD MMMM YYYY","DD-MMM-YYYY","DD-MM-YYYY","M/D/YYYY","YYYY-MM-DD"],momentTimeTokens:["HH","H","h","hh","a","A","m","mm","s","ss","Z","ZZ"],momentTimeExamples:["h:mm A","HH:mm","h:mm:ss A","h:mm:s A","HH-mm"],settings:Object.assign({},o.main_page.$data.settings.main),editParam:null,edited:!1}},created:function(){},computed:{demoDate:function(){return self=this,self.$moment(new Date).format(self.settings.date)},demoTime:function(){return self=this,self.$moment(new Date).format(self.settings.time)}},methods:{renderCurrencyItem:function(t,e){return'\n        <li>\n          <label class="item-radio item-content">\n            <input type="radio" name="'.concat(e.inputName,'" value="').concat(e.value,'" ').concat(e.selected?"checked":"",'>\n            <i class="icon icon-radio"></i>\n            <div class="item-inner">\n              <div class="item-title">').concat(e.text,'</div>\n              <div class="item-after">').concat(R[e.text],"</div>\n            </div>\n          </label>\n        </li>\n      ")},updateValue:function(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function(){self=this,self.edited=!1,o.main_page.$data.settings.main=self.settings,o.saveSettings("main",self.settings)}},beforeDestroy:function(){},mounted:function(){}},Fe,[],!1,null,null,null);Re.options.__file="addons/whs/1.0.0/src/pages/settings/index.vue";var Ae=Re.exports,Oe=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_edit.title_item")))]),t._v(" "),t.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(e){return t.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):t._e()],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.name_label"),"inline-label":"",value:t.settings.name},on:{input:function(e){return t.updateValue("name",e.target.value)}}}),t._v(" "),i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:t.settings.plural_name},on:{input:function(e){return t.updateValue("plural_name",e.target.value)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_bg_color"),value:t.settings.header_color},on:{change:function(e){return t.updateValue("header_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_font_color"),value:t.settings.highlight_color},on:{change:function(e){return t.updateValue("highlight_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.standard_font_color"),value:t.settings.font_color},on:{change:function(e){return t.updateValue("font_color",e)}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_edit.fields"),link:"/whs/settings/edit-fields/?type=item"}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings"),divider:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_main_menu"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_summary"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_locations"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_tags"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)};Oe._withStripped=!0;var Me=function(){var t=this.$createElement,e=this._self._c||t;return e("f7-list-item",{attrs:{title:this.title},on:{click:this.openColorPicker}},[e("span",{ref:"targetEl",staticClass:"list-color-picker-target",style:"background-color: "+this.value,attrs:{slot:"after"},slot:"after"})])};Me._withStripped=!0;var Ve={colorHexToRgb:function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,a){return e+e+i+i+a+a})),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?i.slice(1).map((function(t){return parseInt(t,16)})):null},colorRgbToHex:function(t,e,i){var a=[t,e,i].map((function(t){var e=t.toString(16);return 1===e.length?"0".concat(e):e})).join("");return"#".concat(a)},colorRgbToHsl:function(t,e,i){t/=255,e/=255,i/=255;var a,s=Math.max(t,e,i),n=Math.min(t,e,i),l=s-n;0===l?a=0:s===t?a=(e-i)/l%6:s===e?a=(i-t)/l+2:s===i&&(a=(t-e)/l+4);var o=(n+s)/2;return a<0&&(a=6+a),[60*a,0===l?0:l/(1-Math.abs(2*o-1)),o]},colorHslToRgb:function(t,e,i){var a,s=(1-Math.abs(2*i-1))*e,n=t/60,l=s*(1-Math.abs(n%2-1));Number.isNaN(t)||void 0===t?a=[0,0,0]:n<=1?a=[s,l,0]:n<=2?a=[l,s,0]:n<=3?a=[0,s,l]:n<=4?a=[0,l,s]:n<=5?a=[l,0,s]:n<=6&&(a=[s,0,l]);var o=i-s/2;return a.map((function(t){return Math.max(0,Math.min(255,Math.round(255*(t+o))))}))},colorHsbToHsl:function(t,e,i){var a={h:t,s:0,l:0},s=e,n=i;return a.l=(2-s)*n/2,a.s=a.l&&a.l<1?s*n/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]},colorHslToHsb:function(t,e,i){var a={h:t,s:0,b:0},s=i,n=e*(s<.5?s:1-s);return a.b=s+n,a.s=s>0?2*n/a.b:a.s,[a.h,a.s,a.b]}},Le={render:function(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.alphaLabelText;return'\n      <div class="color-picker-module color-picker-module-alpha-slider">\n        <div class="color-picker-slider-wrap">\n          '.concat(i?'\n            <div class="color-picker-slider-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-alpha"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.01" min="0" max="1" class="color-picker-value-alpha">\n              ':'\n                <span class="color-picker-value-alpha"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){function e(e){var i=t.value.alpha,a=parseFloat(e.target.value);Number.isNaN(a)?e.target.value=i:(a=Math.max(0,Math.min(1,a)),t.setValue({alpha:a}))}t.alphaRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-alpha"),min:0,max:1,step:.01,value:1,on:{change:function(e,i){var a=Math.floor(100*i)/100;t.setValue({alpha:a})}}}),t.$el.on("change",".color-picker-module-alpha-slider input",e),t.destroyAlphaSliderEvents=function(){t.$el.off("change",".color-picker-module-alpha-slider input",e)}},update:function(t){var e=t.value,i=t.params,a=i.sliderValue,s=i.sliderValueEditable,n=e.alpha;t.alphaRangeSlider.value=n,t.alphaRangeSlider.layout(),a&&s?t.$el.find("input.color-picker-value-alpha").val(n):t.$el.find("span.color-picker-value-alpha").text(n)},destroy:function(t){t.alphaRangeSlider&&t.alphaRangeSlider.destroy&&t.alphaRangeSlider.destroy(),delete t.alphaRangeSlider,t.destroyAlphaSliderEvents&&t.destroyAlphaSliderEvents(),delete t.destroyAlphaSliderEvents}},Ne={render:function(){return'\n      <div class="color-picker-module color-picker-module-current-color">\n        <div class="color-picker-current-color"></div>\n      </div>\n    '},update:function(t){t.$el.find(".color-picker-module-current-color .color-picker-current-color").css("background-color",t.value.hex)}},He={render:function(t){var e=t.params,i=e.hexLabel,a=e.hexLabelText,s=e.hexValueEditable;return'\n      <div class="color-picker-module color-picker-module-hex">\n        <div class="color-picker-hex-wrap">\n          '.concat(i?'\n            <div class="color-picker-hex-label">'.concat(a,"</div>\n          "):"",'\n          <div class="color-picker-hex-value">\n            ').concat(s?'\n              <input type="text" class="color-picker-value-hex">\n            ':'\n              <span class="color-picker-value-hex"></span>\n            ',"\n          </div>\n        </div>\n      </div>\n    ")},init:function(t){function e(e){var i=t.value.hex,a=e.target.value.replace(/#/g,"");if(Number.isNaN(a)||!a||3!==a.length&&6!==a.length)e.target.value=i;else{var s=parseInt(a,16);s>parseInt("ffffff",16)&&(a="fff"),s<0&&(a="000"),t.setValue({hex:a})}}t.$el.on("change",".color-picker-module-hex input",e),t.destroyHexEvents=function(){t.$el.off("change",".color-picker-module-hex input",e)}},update:function(t){var e=t.value,i=t.params.hexValueEditable,a=e.hex;i?t.$el.find("input.color-picker-value-hex").val(a):t.$el.find("span.color-picker-value-hex").text(a)},destroy:function(t){t.destroyHexEvents&&t.destroyHexEvents(),delete t.destroyHexEvents}};function je(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ue={render:function(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.hueLabelText,l=e.saturationLabelText,o=e.brightnessLabelText;return'\n      <div class="color-picker-module color-picker-module-hsb-sliders">\n        <div class="color-picker-slider-wrap">\n          '.concat(i?'\n            <div class="color-picker-slider-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-hue"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.1" min="0" max="360" class="color-picker-value-hue" data-color-index="0">\n              ':'\n                <span class="color-picker-value-hue"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-slider-wrap">\n          ').concat(i?'\n            <div class="color-picker-slider-label">'.concat(l,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-saturation"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-saturation" data-color-index="1">\n              ':'\n                <span class="color-picker-value-saturation"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-slider-wrap">\n          ').concat(i?'\n            <div class="color-picker-slider-label">'.concat(o,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-brightness"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-brightness" data-color-index="2">\n              ':'\n                <span class="color-picker-value-brightness"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){var e=t.app;function i(i){var a=je(t.value.hsb),s=parseInt(e.$(i.target).attr("data-color-index"),10),n=parseFloat(i.target.value);Number.isNaN(n)?i.target.value=a[s]:(n=0===s?Math.max(0,Math.min(360,n)):Math.max(0,Math.min(100,n))/100,a[s]=n,t.setValue({hsb:a}))}t.hueRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(e,i){t.setValue({hue:i})}}}),t.saturationRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-saturation"),min:0,max:1,step:.001,value:0,on:{change:function(e,i){var a=Math.floor(1e3*i)/1e3;t.setValue({hsb:[t.value.hsb[0],a,t.value.hsb[2]]})}}}),t.brightnessRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(e,i){var a=Math.floor(1e3*i)/1e3;t.setValue({hsb:[t.value.hsb[0],t.value.hsb[1],a]})}}}),t.$el.on("change",".color-picker-module-hsb-sliders input",i),t.destroyHsbSlidersEvents=function(){t.$el.off("change",".color-picker-module-hsb-sliders input",i)}},update:function(t){var e=t.app,i=t.value,a=t.params,s=a.sliderValue,n=a.sliderValueEditable,l=i.hsb,o=i.hue;t.hueRangeSlider.value=o,t.saturationRangeSlider.value=l[1],t.brightnessRangeSlider.value=l[2],t.hueRangeSlider.layout(),t.saturationRangeSlider.layout(),t.brightnessRangeSlider.layout();var r=Ve.colorHsbToHsl(l[0],l[1],1),c=Ve.colorHsbToHsl(l[0],0,1),d=Ve.colorHsbToHsl(l[0],1,1),u=l[2];t.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl(".concat(o,", 100%, 50%)")),t.saturationRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl(".concat(r[0],", ").concat(100*r[1],"%, ").concat(100*r[2],"%)")),t.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","rgb(".concat(255*u,", ").concat(255*u,", ").concat(255*u,")")),t.saturationRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient(".concat(e.rtl?"to left":"to right",", hsl(").concat(c[0],", ").concat(100*c[1],"%, ").concat(100*c[2],"%), hsl(").concat(d[0],", ").concat(100*d[1],"%, ").concat(100*d[2],"%))")),s&&n?(t.$el.find("input.color-picker-value-hue").val("".concat(o)),t.$el.find("input.color-picker-value-saturation").val("".concat(1e3*l[1]/10)),t.$el.find("input.color-picker-value-brightness").val("".concat(1e3*l[2]/10))):s&&(t.$el.find("span.color-picker-value-hue").text("".concat(o)),t.$el.find("span.color-picker-value-saturation").text("".concat(1e3*l[1]/10)),t.$el.find("span.color-picker-value-brightness").text("".concat(1e3*l[2]/10)))},destroy:function(t){t.hueRangeSlider&&t.hueRangeSlider.destroy&&t.hueRangeSlider.destroy(),t.saturationRangeSlider&&t.saturationRangeSlider.destroy&&t.saturationRangeSlider.destroy(),t.brightnessRangeSlider&&t.brightnessRangeSlider.destroy&&t.brightnessRangeSlider.destroy(),delete t.hueRangeSlider,delete t.saturationRangeSlider,delete t.brightnessRangeSlider,t.destroyHsbSlidersEvents&&t.destroyHsbSlidersEvents(),delete t.destroyHsbSlidersEvents}},Ye={render:function(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.hueLabelText;return'\n      <div class="color-picker-module color-picker-module-hue-slider">\n        <div class="color-picker-slider-wrap">\n          '.concat(i?'\n            <div class="color-picker-slider-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-hue"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.1" min="0" max="360" class="color-picker-value-hue">\n              ':'\n                <span class="color-picker-value-hue"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){t.hueRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function(e,i){t.setValue({hue:i})}}})},update:function(t){var e=t.value,i=t.params,a=i.sliderValue,s=i.sliderValueEditable,n=e.hue;t.hueRangeSlider.value=n,t.hueRangeSlider.layout(),t.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl(".concat(n,", 100%, 50%)")),a&&s?t.$el.find("input.color-picker-value-hue").val("".concat(n)):a&&t.$el.find("span.color-picker-value-hue").text("".concat(n))},destroy:function(t){t.hueRangeSlider&&t.hueRangeSlider.destroy&&t.hueRangeSlider.destroy(),delete t.hueRangeSlider}},ze={render:function(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.brightnessLabelText;return'\n      <div class="color-picker-module color-picker-module-brightness-slider">\n        <div class="color-picker-slider-wrap">\n          '.concat(i?'\n            <div class="color-picker-slider-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-brightness"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-brightness">\n              ':'\n                <span class="color-picker-value-brightness"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){t.brightnessRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function(e,i){var a=Math.floor(1e3*i)/1e3;t.setValue({hsb:[t.value.hsb[0],t.value.hsb[1],a]})}}})},update:function(t){var e=t.value,i=t.app,a=t.params,s=a.sliderValue,n=a.sliderValueEditable,l=e.hsb;t.brightnessRangeSlider.value=l[2],t.brightnessRangeSlider.layout();var o=Ve.colorHsbToHsl(l[0],l[1],l[2]),r=Ve.colorHsbToHsl(l[0],l[1],0),c=Ve.colorHsbToHsl(l[0],l[1],1);t.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl(".concat(o[0],", ").concat(100*o[1],"%, ").concat(100*o[2],"%)")),t.brightnessRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient(".concat(i.rtl?"to left":"to right",", hsl(").concat(r[0],", ").concat(100*r[1],"%, ").concat(100*r[2],"%), hsl(").concat(c[0],", ").concat(100*c[1],"%, ").concat(100*c[2],"%))")),s&&n?t.$el.find("input.color-picker-value-brightness").val("".concat(1e3*l[2]/10)):s&&t.$el.find("span.color-picker-value-brightness").text("".concat(1e3*l[2]/10))},destroy:function(t){t.brightnessRangeSlider&&t.brightnessRangeSlider.destroy&&t.brightnessRangeSlider.destroy(),delete t.brightnessRangeSlider}},Ge={render:function(t){return'\n      <div class="color-picker-module color-picker-module-palette">\n        <div class="color-picker-palette">\n          '.concat(t.params.palette.map((function(t){if(Array.isArray(t)){var e='<div class="color-picker-palette-row">';return e+=t.map((function(t){return'\n                <div class="color-picker-palette-value" data-palette-color="'.concat(t,'" style="background-color: ').concat(t,'"></div>\n              ')})).join(""),e+="</div>"}return'\n              <div class="color-picker-palette-value" data-palette-color="'.concat(t,'" style="background-color: ').concat(t,'"></div>\n            ')})).join(""),"\n        </div>\n      </div>\n    ")},init:function(t){function e(e){var i=t.app.$(e.target).attr("data-palette-color");t.setValue({hex:i})}t.$el.on("click",".color-picker-module-palette .color-picker-palette-value",e),t.destroyPaletteEvents=function(){t.$el.off("click",".color-picker-module-hex input",e)}},destroy:function(t){t.destroyPaletteEvents&&t.destroyPaletteEvents(),delete t.destroyPaletteEvents}},qe={render:function(){return'\n      <div class="color-picker-module color-picker-module-initial-current-colors">\n        <div class="color-picker-initial-current-colors">\n          <div class="color-picker-initial-color"></div>\n          <div class="color-picker-current-color"></div>\n        </div>\n      </div>\n    '},init:function(t){function e(){if(t.initialValue){var e=t.initialValue,i=e.hex,a=e.alpha;t.setValue({hex:i,alpha:a})}}t.$el.on("click",".color-picker-initial-color",e),t.destroyInitialCurrentEvents=function(){t.$el.off("click",".color-picker-initial-color",e)}},update:function(t){t.$el.find(".color-picker-module-initial-current-colors .color-picker-initial-color").css("background-color",t.initialValue.hex),t.$el.find(".color-picker-module-initial-current-colors .color-picker-current-color").css("background-color",t.value.hex)},destroy:function(t){t.destroyInitialCurrentEvents&&t.destroyInitialCurrentEvents(),delete t.destroyInitialCurrentEvents}};function Ke(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var We={render:function(t){var e=t.params,i=e.barLabel,a=e.barValue,s=e.barValueEditable,n=e.redLabelText,l=e.greenLabelText,o=e.blueLabelText;return'\n      <div class="color-picker-module color-picker-module-rgb-bars">\n        <div class="color-picker-bar-wrap">\n          '.concat(i?'\n            <div class="color-picker-bar-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-bar color-picker-bar-red"></div>\n          ').concat(a?'\n            <div class="color-picker-bar-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-red" data-color-index="0">\n              ':'\n                <span class="color-picker-value-bar-red"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-bar-wrap">\n          ').concat(i?'\n            <div class="color-picker-bar-label">'.concat(l,"</div>\n          "):"",'\n          <div class="range-slider color-picker-bar color-picker-bar-green"></div>\n          ').concat(a?'\n            <div class="color-picker-bar-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-green" data-color-index="1">\n              ':'\n                <span class="color-picker-value-bar-green"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-bar-wrap">\n          ').concat(i?'\n            <div class="color-picker-bar-label">'.concat(o,"</div>\n          "):"",'\n          <div class="range-slider color-picker-bar color-picker-bar-blue"></div>\n          ').concat(a?'\n            <div class="color-picker-bar-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-blue" data-color-index="2">\n              ':'\n                <span class="color-picker-value-bar-blue"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){function e(e){var i=Ke(t.value.rgb),a=parseInt(t.app.$(e.target).attr("data-color-index"),10),s=parseInt(e.target.value,10);Number.isNaN(s)?e.target.value=i[a]:(s=Math.max(0,Math.min(255,s)),i[a]=s,t.setValue({rgb:i}))}t.redBar=t.app.range.create({el:t.$el.find(".color-picker-bar-red"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(e,i){t.setValue({rgb:[i,t.value.rgb[1],t.value.rgb[2]]})}}}),t.greenBar=t.app.range.create({el:t.$el.find(".color-picker-bar-green"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(e,i){t.setValue({rgb:[t.value.rgb[0],i,t.value.rgb[2]]})}}}),t.blueBar=t.app.range.create({el:t.$el.find(".color-picker-bar-blue"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function(e,i){t.setValue({rgb:[t.value.rgb[0],t.value.rgb[1],i]})}}}),t.$el.on("change",".color-picker-module-rgb-bars input",e),t.destroyRgbBarsEvents=function(){t.$el.off("change",".color-picker-module-rgb-bars input",e)}},update:function(t){var e=t.value,i=t.redBar,a=t.greenBar,s=t.blueBar,n=t.params,l=n.barValue,o=n.barValueEditable,r=e.rgb;i.value=r[0],a.value=r[1],s.value=r[2],i.layout(),a.layout(),s.layout(),i.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(0, ".concat(r[1],", ").concat(r[2],"), rgb(255, ").concat(r[1],", ").concat(r[2],"))")),a.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(".concat(r[0],", 0, ").concat(r[2],"), rgb(").concat(r[0],", 255, ").concat(r[2],"))")),s.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(".concat(r[0],", ").concat(r[1],", 0), rgb(").concat(r[0],", ").concat(r[1],", 255))")),l&&o?(t.$el.find("input.color-picker-value-bar-red").val(r[0]),t.$el.find("input.color-picker-value-bar-green").val(r[1]),t.$el.find("input.color-picker-value-bar-blue").val(r[2])):l&&(t.$el.find("span.color-picker-value-bar-red").text(r[0]),t.$el.find("span.color-picker-value-bar-green").text(r[1]),t.$el.find("span.color-picker-value-bar-blue").text(r[2]))},destroy:function(t){t.redBar&&t.redBar.destroy&&t.redBar.destroy(),t.greenBar&&t.greenBar.destroy&&t.greenBar.destroy(),t.blueBar&&t.blueBar.destroy&&t.blueBar.destroy(),delete t.redBar,delete t.greenBar,delete t.blueBar,t.destroyRgbBarsEvents&&t.destroyRgbBarsEvents(),delete t.destroyRgbBarsEvents}};function Xe(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Ze={render:function(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.redLabelText,l=e.greenLabelText,o=e.blueLabelText;return'\n      <div class="color-picker-module color-picker-module-rgb-sliders">\n        <div class="color-picker-slider-wrap">\n          '.concat(i?'\n            <div class="color-picker-slider-label">'.concat(n,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-red"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-red" data-color-index="0">\n              ':'\n                <span class="color-picker-value-red"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-slider-wrap">\n          ').concat(i?'\n            <div class="color-picker-slider-label">'.concat(l,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-green"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-green" data-color-index="1">\n              ':'\n                <span class="color-picker-value-green"></span>\n              ',"\n            </div>\n          "):"",'\n        </div>\n        <div class="color-picker-slider-wrap">\n          ').concat(i?'\n            <div class="color-picker-slider-label">'.concat(o,"</div>\n          "):"",'\n          <div class="range-slider color-picker-slider color-picker-slider-blue"></div>\n          ').concat(a?'\n            <div class="color-picker-slider-value">\n              '.concat(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-blue" data-color-index="2">\n              ':'\n                <span class="color-picker-value-blue"></span>\n              ',"\n            </div>\n          "):"","\n        </div>\n      </div>\n    ")},init:function(t){function e(e){var i=Xe(t.value.rgb),a=parseInt(t.app.$(e.target).attr("data-color-index"),10),s=parseInt(e.target.value,10);Number.isNaN(s)?e.target.value=i[a]:(s=Math.max(0,Math.min(255,s)),i[a]=s,t.setValue({rgb:i}))}t.redRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-red"),min:0,max:255,step:1,value:0,on:{change:function(e,i){t.setValue({rgb:[i,t.value.rgb[1],t.value.rgb[2]]})}}}),t.greenRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-green"),min:0,max:255,step:1,value:0,on:{change:function(e,i){t.setValue({rgb:[t.value.rgb[0],i,t.value.rgb[2]]})}}}),t.blueRangeSlider=t.app.range.create({el:t.$el.find(".color-picker-slider-blue"),min:0,max:255,step:1,value:0,on:{change:function(e,i){t.setValue({rgb:[t.value.rgb[0],t.value.rgb[1],i]})}}}),t.$el.on("change",".color-picker-module-rgb-sliders input",e),t.destroyRgbSlidersEvents=function(){t.$el.off("change",".color-picker-module-rgb-sliders input",e)}},update:function(t){var e=t.app,i=t.value,a=t.redRangeSlider,s=t.greenRangeSlider,n=t.blueRangeSlider,l=t.params,o=l.sliderValue,r=l.sliderValueEditable,c=i.rgb;a.value=c[0],s.value=c[1],n.value=c[2],a.layout(),s.layout(),n.layout(),a.$el[0].style.setProperty("--f7-range-knob-color","rgb(".concat(c[0],", ").concat(c[1],", ").concat(c[2],")")),s.$el[0].style.setProperty("--f7-range-knob-color","rgb(".concat(c[0],", ").concat(c[1],", ").concat(c[2],")")),n.$el[0].style.setProperty("--f7-range-knob-color","rgb(".concat(c[0],", ").concat(c[1],", ").concat(c[2],")"));var d=e.rtl?"to left":"to right";a.$el.find(".range-bar").css("background-image","linear-gradient(".concat(d,", rgb(0, ").concat(c[1],", ").concat(c[2],"), rgb(255, ").concat(c[1],", ").concat(c[2],"))")),s.$el.find(".range-bar").css("background-image","linear-gradient(".concat(d,", rgb(").concat(c[0],", 0, ").concat(c[2],"), rgb(").concat(c[0],", 255, ").concat(c[2],"))")),n.$el.find(".range-bar").css("background-image","linear-gradient(".concat(d,", rgb(").concat(c[0],", ").concat(c[1],", 0), rgb(").concat(c[0],", ").concat(c[1],", 255))")),o&&r?(t.$el.find("input.color-picker-value-red").val(c[0]),t.$el.find("input.color-picker-value-green").val(c[1]),t.$el.find("input.color-picker-value-blue").val(c[2])):o&&(t.$el.find("span.color-picker-value-red").text(c[0]),t.$el.find("span.color-picker-value-green").text(c[1]),t.$el.find("span.color-picker-value-blue").text(c[2]))},destroy:function(t){t.redRangeSlider&&t.redRangeSlider.destroy&&t.redRangeSlider.destroy(),t.greenRangeSlider&&t.greenRangeSlider.destroy&&t.greenRangeSlider.destroy(),t.blueRangeSlider&&t.blueRangeSlider.destroy&&t.blueRangeSlider.destroy(),delete t.redRangeSlider,delete t.greenRangeSlider,delete t.blueRangeSlider,t.destroyRgbSlidersEvents&&t.destroyRgbSlidersEvents(),delete t.destroyRgbSlidersEvents}},Je={render:function(){return'\n      <div class="color-picker-module color-picker-module-sb-spectrum">\n        <div class="color-picker-sb-spectrum" style="background-color: hsl(0, 100%, 50%)">\n          <div class="color-picker-sb-spectrum-handle"></div>\n        </div>\n      </div>\n    '},init:function(t){var e,i,a,s,n,l,o,r,c=t.app,d=t.$el;function u(e,i){var a=(e-l.left)/l.width,s=(i-l.top)/l.height;a=Math.max(0,Math.min(1,a)),s=1-Math.max(0,Math.min(1,s)),t.setValue({hsb:[t.value.hue,a,s]})}function m(c){if(!e){i="touchstart"===c.type?c.targetTouches[0].pageX:c.pageX,s=i,a="touchstart"===c.type?c.targetTouches[0].pageY:c.pageY,n=a;var m=t.app.$(c.target);(r=m.closest(".color-picker-sb-spectrum-handle").length>0)||(o=m.closest(".color-picker-sb-spectrum").length>0),o&&(l=d.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),u(i,a)),(r||o)&&d.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function v(t){(o||r)&&(s="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),e||(e=!0,r&&(l=d.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(o||r)&&u(s,n))}function h(){e=!1,(o||r)&&d.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),o=!1,r=!1}function _(){t.modules["sb-spectrum"].update(t)}var f=!("touchstart"!==c.touchEvents.start||!c.support.passiveListener)&&{passive:!0,capture:!1};t.$el.on(c.touchEvents.start,m,f),c.on("touchmove:active",v),c.on("touchend:passive",h),c.on("resize",_),t.destroySpectrumEvents=function(){t.$el.off(c.touchEvents.start,m,f),c.off("touchmove:active",v),c.off("touchend:passive",h),c.off("resize",_)}},update:function(t){var e=t.value,i=e.hsl,a=e.hsb,s=t.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,n=t.$el.find(".color-picker-sb-spectrum")[0].offsetHeight;t.$el.find(".color-picker-sb-spectrum").css("background-color","hsl(".concat(i[0],", 100%, 50%)")),t.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl(".concat(i[0],", ").concat(100*i[1],"%, ").concat(100*i[2],"%)")).transform("translate(".concat(s*a[1],"px, ").concat(n*(1-a[2]),"px)"))},destroy:function(t){t.destroySpectrumEvents&&t.destroySpectrumEvents(),delete t.destroySpectrumEvents}},Qe={render:function(){return'\n      <div class="color-picker-module color-picker-module-hs-spectrum">\n        <div class="color-picker-hs-spectrum">\n          <div class="color-picker-hs-spectrum-handle"></div>\n        </div>\n      </div>\n    '},init:function(t){var e,i,a,s,n,l,o,r,c=t.app,d=t.$el;function u(e,i){var a=(e-l.left)/l.width*360,s=(i-l.top)/l.height;a=Math.max(0,Math.min(360,a)),s=1-Math.max(0,Math.min(1,s)),t.setValue({hsb:[a,s,t.value.hsb[2]]})}function m(t){if(!e){i="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,s=i,a="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,n=a;var m=c.$(t.target);(r=m.closest(".color-picker-hs-spectrum-handle").length>0)||(o=m.closest(".color-picker-hs-spectrum").length>0),o&&(l=d.find(".color-picker-hs-spectrum")[0].getBoundingClientRect(),u(i,a)),(r||o)&&d.find(".color-picker-hs-spectrum-handle").addClass("color-picker-hs-spectrum-handle-pressed")}}function v(t){(o||r)&&(s="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),e||(e=!0,r&&(l=d.find(".color-picker-hs-spectrum")[0].getBoundingClientRect())),(o||r)&&u(s,n))}function h(){e=!1,(o||r)&&d.find(".color-picker-hs-spectrum-handle").removeClass("color-picker-hs-spectrum-handle-pressed"),o=!1,r=!1}function _(){t.modules["hs-spectrum"].update(t)}var f=!("touchstart"!==c.touchEvents.start||!c.support.passiveListener)&&{passive:!0,capture:!1};t.$el.on(c.touchEvents.start,m,f),c.on("touchmove:active",v),c.on("touchend:passive",h),c.on("resize",_),t.destroySpectrumEvents=function(){t.$el.off(c.touchEvents.start,m,f),c.off("touchmove:active",v),c.off("touchend:passive",h),c.off("resize",_)}},update:function(t){var e=t.value.hsb,i=t.$el.find(".color-picker-hs-spectrum")[0].offsetWidth,a=t.$el.find(".color-picker-hs-spectrum")[0].offsetHeight,s=Ve.colorHsbToHsl(e[0],e[1],1);t.$el.find(".color-picker-hs-spectrum-handle").css("background-color","hsl(".concat(s[0],", ").concat(100*s[1],"%, ").concat(100*s[2],"%)")).transform("translate(".concat(i*(e[0]/360),"px, ").concat(a*(1-e[1]),"px)"))},destroy:function(t){t.destroySpectrumEvents&&t.destroySpectrumEvents(),delete t.destroySpectrumEvents}};var ti={render:function(){return'\n      <div class="color-picker-module color-picker-module-wheel">\n        <div class="color-picker-wheel">\n          <svg viewBox="0 0 300 300" width="300" height="300">'.concat(function(){for(var t="",e=256;e>0;e-=1){var i=e*Math.PI/128,a=1.40625*e;t+='<circle cx="'.concat(150-125*Math.sin(i),'" cy="').concat(150-125*Math.cos(i),'" r="25" fill="hsl(').concat(a,', 100%, 50%)"></circle>')}return t}(),'</svg>\n          <div class="color-picker-wheel-handle"></div>\n          <div class="color-picker-sb-spectrum" style="background-color: hsl(0, 100%, 50%)">\n            <div class="color-picker-sb-spectrum-handle"></div>\n          </div>\n        </div>\n      </div>\n    ')},init:function(t){var e,i,a,s,n,l,o,r,c,d,u,m=t.app,v=t.$el;function h(e,i){var a=l.left+l.width/2,s=l.top+l.height/2,n=180*Math.atan2(i-s,e-a)/Math.PI+90;n<0&&(n+=360),n=360-n,t.setValue({hue:n})}function _(e,i){var a=(e-c.left)/c.width,s=(i-c.top)/c.height;a=Math.max(0,Math.min(1,a)),s=1-Math.max(0,Math.min(1,s)),t.setValue({hsb:[t.value.hue,a,s]})}function f(m){if(!e){i="touchstart"===m.type?m.targetTouches[0].pageX:m.pageX,s=i,a="touchstart"===m.type?m.targetTouches[0].pageY:m.pageY,n=a;var f=t.app.$(m.target);r=f.closest(".color-picker-wheel-handle").length>0,o=f.closest("circle").length>0,(u=f.closest(".color-picker-sb-spectrum-handle").length>0)||(d=f.closest(".color-picker-sb-spectrum").length>0),o&&(l=v.find(".color-picker-wheel")[0].getBoundingClientRect(),h(i,a)),d&&(c=v.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),_(i,a)),(u||d)&&v.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function p(t){(o||r||d||u)&&(s="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,n="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),e||(e=!0,r&&(l=v.find(".color-picker-wheel")[0].getBoundingClientRect()),u&&(c=v.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(o||r)&&h(s,n),(d||u)&&_(s,n))}function g(){e=!1,(d||u)&&v.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),o=!1,r=!1,d=!1,u=!1}function y(){t.modules.wheel.update(t)}var w=!("touchstart"!==m.touchEvents.start||!m.support.passiveListener)&&{passive:!0,capture:!1};t.$el.on(m.touchEvents.start,f,w),m.on("touchmove:active",p),m.on("touchend:passive",g),m.on("resize",y),t.destroyWheelEvents=function(){t.$el.off(m.touchEvents.start,f,w),m.off("touchmove:active",p),m.off("touchend:passive",g),m.off("resize",y)}},update:function(t){var e=t.value,i=e.hsl,a=e.hsb,s=t.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,n=t.$el.find(".color-picker-sb-spectrum")[0].offsetHeight,l=t.$el.find(".color-picker-wheel")[0].offsetWidth,o=l/2,r=e.hue*Math.PI/180,c=l/6/2,d=o-Math.sin(r)*(o-c)-c,u=o-Math.cos(r)*(o-c)-c;t.$el.find(".color-picker-wheel-handle").css("background-color","hsl(".concat(i[0],", 100%, 50%)")).transform("translate(".concat(d,"px, ").concat(u,"px)")),t.$el.find(".color-picker-sb-spectrum").css("background-color","hsl(".concat(i[0],", 100%, 50%)")),t.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl(".concat(i[0],", ").concat(100*i[1],"%, ").concat(100*i[2],"%)")).transform("translate(".concat(s*a[1],"px, ").concat(n*(1-a[2]),"px)"))},destroy:function(t){t.destroyWheelEvents&&t.destroyWheelEvents(),delete t.destroyWheelEvents}};function ei(t){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ii(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ai(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function si(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var i=[],a=!0,s=!1,n=void 0;try{for(var l,o=t[Symbol.iterator]();!(a=(l=o.next()).done)&&(i.push(l.value),!e||i.length!==e);a=!0);}catch(t){s=!0,n=t}finally{try{a||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ni(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function li(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function oi(t,e,i){return e&&li(t.prototype,e),i&&li(t,i),t}function ri(t,e){return!e||"object"!==ei(e)&&"function"!=typeof e?di(t):e}function ci(t){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function di(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ui(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mi(t,e)}function mi(t,e){return(mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var vi,hi={value:null,modules:["wheel"],palette:[["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C"],["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C"],["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E"],["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B"],["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40"],["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E"],["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17"],["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100"]],groupedModules:!1,centerModules:!0,sliderLabel:!1,sliderValue:!1,sliderValueEdiable:!1,barLabel:!1,barValue:!1,barValueEdiable:!1,hexLabel:!1,hexValueEditable:!1,redLabelText:"R",greenLabelText:"G",blueLabelText:"B",hueLabelText:"H",saturationLabelText:"S",brightnessLabelText:"B",hexLabelText:"HEX",alphaLabelText:"A",containerEl:null,openIn:"popover",openInPhone:"popup",popupPush:!0,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,targetEl:null,targetElSetBackgroundColor:!1,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbarSheet:!0,toolbarPopover:!1,toolbarCloseText:"Done",navbarPopup:!0,navbarCloseText:"Done",navbarTitleText:"Color",navbarBackLinkText:"Back",cssClass:null,routableModals:!0,view:null,url:"color/",backdrop:null,closeByBackdropClick:!0,renderToolbar:null,renderNavbar:null,renderInline:null,renderPopover:null,renderSheet:null,renderPopup:null,render:null};var _i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return vi?new vi(t,e):new(vi=function(t){function e(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ni(this,e);var s,n,l,o,r=di(i=ri(this,ci(e).call(this,a,[t])));if(r.params=t.utils.extend({},hi,a),r.params.containerEl&&0===(s=t.$(r.params.containerEl)).length)return ri(i,r);function c(){r.open()}function d(t){t.preventDefault()}function u(){r.open()}function m(e){if("page"!==r.params.openIn){var i=t.$(e.target);r.opened&&!r.closing&&(i.closest('[class*="backdrop"]').length||i.closest(".color-picker-popup, .color-picker-popover").length||(n&&n.length>0?i[0]!==n[0]&&0===i.closest(".sheet-modal").length&&r.close():0===t.$(e.target).closest(".sheet-modal").length&&r.close()))}}return r.params.inputEl&&(n=t.$(r.params.inputEl)),r.params.targetEl&&(l=t.$(r.params.targetEl)),n&&(o=n.parents(".view").length&&n.parents(".view")[0].f7View),!o&&l&&(o=l.parents(".view").length&&l.parents(".view")[0].f7View),o||(o=t.views.main),t.utils.extend(r,{app:t,$containerEl:s,containerEl:s&&s[0],inline:s&&s.length>0,$inputEl:n,inputEl:n&&n[0],$targetEl:l,targetEl:l&&l[0],initialized:!1,opened:!1,url:r.params.url,view:o,modules:{"alpha-slider":Le,"current-color":Ne,hex:He,"hsb-sliders":Ue,"hue-slider":Ye,"brightness-slider":ze,palette:Ge,"initial-current-colors":qe,"rgb-bars":We,"rgb-sliders":Ze,"sb-spectrum":Je,"hs-spectrum":Qe,wheel:ti}}),t.utils.extend(r,{attachInputEvents:function(){r.$inputEl.on("click",c),r.params.inputReadOnly&&r.$inputEl.on("focus mousedown",d)},detachInputEvents:function(){r.$inputEl.off("click",c),r.params.inputReadOnly&&r.$inputEl.off("focus mousedown",d)},attachTargetEvents:function(){r.$targetEl.on("click",u)},detachTargetEvents:function(){r.$targetEl.off("click",u)},attachHtmlEvents:function(){t.on("click",m)},detachHtmlEvents:function(){t.off("click",m)}}),r.init(),ri(i,r)}return ui(e,t),oi(e,[{key:"attachEvents",value:function(){this.centerModules=this.centerModules.bind(this),this.params.centerModules&&this.app.on("resize",this.centerModules)}},{key:"detachEvents",value:function(){this.params.centerModules&&this.app.off("resize",this.centerModules)}},{key:"centerModules",value:function(){if(this.opened&&this.$el&&!this.inline){var t=this.$el.find(".page-content");if(t.length){var e=t[0];e.scrollHeight<=e.offsetHeight?t.addClass("justify-content-center"):t.removeClass("justify-content-center")}}}},{key:"initInput",value:function(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)}},{key:"getModalType",value:function(){var t=this.app,e=this.modal,i=this.params,a=i.openIn,s=i.openInPhone;return e&&e.type?e.type:"auto"!==a?a:this.inline?null:t.device.ios?t.device.ipad?"popover":s:t.width>=768||t.device.desktop&&"aurora"===t.theme?"popover":s}},{key:"formatValue",value:function(){var t=this.value;return this.params.formatValue?this.params.formatValue.call(this,t):t.hex}},{key:"normalizeHsValues",value:function(t){return[Math.floor(10*t[0])/10,Math.floor(1e3*t[1])/1e3,Math.floor(1e3*t[2])/1e3]}},{key:"setValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,a=i.app;if(void 0!==t){var s,n=i.value||{},l=n.hex,o=n.rgb,r=n.hsl,c=n.hsb,d=n.alpha,u=void 0===d?1:d,m=n.hue,v=n.rgba,h=n.hsla,_=i.value||!i.value&&!i.params.value;if(Object.keys(t).forEach((function(e){if(i.value&&void 0!==i.value[e]){var a=t[e];Array.isArray(a)?a.forEach((function(t,a){t!==i.value[e][a]&&(s=!0)})):a!==i.value[e]&&(s=!0)}else s=!0})),s){if(t.rgb||t.rgba){var f=t.rgb||t.rgba,p=si(f,4),g=p[0],y=p[1],w=p[2],b=p[3],k=void 0===b?u:b;o=[g,y,w],l=Ve.colorRgbToHex.apply(Ve,ai(o)),r=Ve.colorRgbToHsl.apply(Ve,ai(o)),c=Ve.colorHslToHsb.apply(Ve,ai(r)),r=i.normalizeHsValues(r),m=(c=i.normalizeHsValues(c))[0],u=k,v=[o[0],o[1],o[2],k],h=[r[0],r[1],r[2],k]}if(t.hsl||t.hsla){var C=t.hsl||t.hsla,$=si(C,4),x=$[0],S=$[1],T=$[2],E=$[3],D=void 0===E?u:E;r=[x,S,T],o=Ve.colorHslToRgb.apply(Ve,ai(r)),l=Ve.colorRgbToHex.apply(Ve,ai(o)),c=Ve.colorHslToHsb.apply(Ve,ai(r)),r=i.normalizeHsValues(r),m=(c=i.normalizeHsValues(c))[0],u=D,v=[o[0],o[1],o[2],D],h=[r[0],r[1],r[2],D]}if(t.hsb){var I=si(t.hsb,4),P=I[0],B=I[1],F=I[2],R=I[3],A=void 0===R?u:R;c=[P,B,F],r=Ve.colorHsbToHsl.apply(Ve,ai(c)),o=Ve.colorHslToRgb.apply(Ve,ai(r)),l=Ve.colorRgbToHex.apply(Ve,ai(o)),r=i.normalizeHsValues(r),m=(c=i.normalizeHsValues(c))[0],u=A,v=[o[0],o[1],o[2],A],h=[r[0],r[1],r[2],A]}if(t.hex&&(o=Ve.colorHexToRgb(t.hex),l=Ve.colorRgbToHex.apply(Ve,ai(o)),r=Ve.colorRgbToHsl.apply(Ve,ai(o)),c=Ve.colorHslToHsb.apply(Ve,ai(r)),r=i.normalizeHsValues(r),m=(c=i.normalizeHsValues(c))[0],v=[o[0],o[1],o[2],u],h=[r[0],r[1],r[2],u]),void 0!==t.alpha&&(u=t.alpha,void 0!==o&&(v=[o[0],o[1],o[2],u]),void 0!==r&&(h=[r[0],r[1],r[2],u])),void 0!==t.hue){var O=r,M=si(O,3),V=(M[0],M[1]),L=M[2];r=[t.hue,V,L],c=Ve.colorHslToHsb.apply(Ve,ai(r)),o=Ve.colorHslToRgb.apply(Ve,ai(r)),l=Ve.colorRgbToHex.apply(Ve,ai(o)),r=i.normalizeHsValues(r),m=(c=i.normalizeHsValues(c))[0],v=[o[0],o[1],o[2],u],h=[r[0],r[1],r[2],u]}i.value={hex:l,alpha:u,hue:m,rgb:o,hsl:r,hsb:c,rgba:v,hsla:h},i.initialValue||(i.initialValue=a.utils.extend({},i.value)),i.updateValue(_),i.opened&&e&&i.updateModules()}}}},{key:"getValue",value:function(){return this.value}},{key:"updateValue",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this,i=e.$inputEl,a=e.value,s=e.$targetEl;if(s&&e.params.targetElSetBackgroundColor){var n=a.rgba;s.css("background-color","rgba(".concat(n.join(", "),")"))}if(t&&e.emit("local::change colorPickerChange",e,a),i&&i.length){var l=e.formatValue(a);i&&i.length&&(i.val(l),t&&i.trigger("change"))}}},{key:"updateModules",value:function(){var t=this,e=t.modules;t.params.modules.forEach((function(i){"string"==typeof i&&e[i]&&e[i].update?e[i].update(t):i&&i.update&&i.update(t)}))}},{key:"update",value:function(){this.updateModules()}},{key:"renderPicker",value:function(){var t=this,e=t.params,i=t.modules,a="";return e.modules.forEach((function(e){"string"==typeof e&&i[e]&&i[e].render?a+=i[e].render(t):e&&e.render&&(a+=e.render(t))})),a}},{key:"renderNavbar",value:function(){if(this.params.renderNavbar)return this.params.renderNavbar.call(this,this);var t=this.params,e=t.openIn,i=t.navbarTitleText,a=t.navbarBackLinkText,s=t.navbarCloseText;return'\n      <div class="navbar">\n        <div class="navbar-bg"></div>\n        <div class="navbar-inner sliding">\n          '.concat("page"===e?'\n          <div class="left">\n            <a class="link back">\n              <i class="icon icon-back"></i>\n              <span class="if-not-md">'.concat(a,"</span>\n            </a>\n          </div>\n          "):"",'\n          <div class="title">').concat(i,"</div>\n          ").concat("page"!==e?'\n          <div class="right">\n            <a class="link popup-close" data-popup=".color-picker-popup">'.concat(s,"</a>\n          </div>\n          "):"","\n        </div>\n      </div>\n    ").trim()}},{key:"renderToolbar",value:function(){return this.params.renderToolbar?this.params.renderToolbar.call(this,this):'\n      <div class="toolbar toolbar-top no-shadow">\n        <div class="toolbar-inner">\n          <div class="left"></div>\n          <div class="right">\n            <a class="link sheet-close popover-close" data-sheet=".color-picker-sheet-modal" data-popover=".color-picker-popover">'.concat(this.params.toolbarCloseText,"</a>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderInline",value:function(){var t=this.params,e=t.cssClass,i=t.groupedModules;return'\n      <div class="color-picker color-picker-inline '.concat(i?"color-picker-grouped-modules":""," ").concat(e||"",'">\n        ').concat(this.renderPicker(),"\n      </div>\n    ").trim()}},{key:"renderSheet",value:function(){var t=this.params,e=t.cssClass,i=t.toolbarSheet,a=t.groupedModules;return'\n      <div class="sheet-modal color-picker color-picker-sheet-modal '.concat(a?"color-picker-grouped-modules":""," ").concat(e||"",'">\n        ').concat(i?this.renderToolbar():"",'\n        <div class="sheet-modal-inner">\n          <div class="page-content">\n            ').concat(this.renderPicker(),"\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderPopover",value:function(){var t=this.params,e=t.cssClass,i=t.toolbarPopover,a=t.groupedModules;return'\n      <div class="popover color-picker-popover '.concat(e||"",'">\n        <div class="popover-inner">\n          <div class="color-picker ').concat(a?"color-picker-grouped-modules":"",'">\n            ').concat(i?this.renderToolbar():"",'\n            <div class="page-content">\n              ').concat(this.renderPicker(),"\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderPopup",value:function(){var t=this.params,e=t.cssClass,i=t.navbarPopup,a=t.groupedModules;return'\n      <div class="popup color-picker-popup '.concat(e||"",'">\n        <div class="page">\n          ').concat(i?this.renderNavbar():"",'\n          <div class="color-picker ').concat(a?"color-picker-grouped-modules":"",'">\n            <div class="page-content">\n              ').concat(this.renderPicker(),"\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"renderPage",value:function(){var t=this.params,e=t.cssClass,i=t.groupedModules;return'\n      <div class="page color-picker-page '.concat(e||"",'" data-name="color-picker-page">\n        ').concat(this.renderNavbar(),'\n        <div class="color-picker ').concat(i?"color-picker-grouped-modules":"",'">\n          <div class="page-content">\n            ').concat(this.renderPicker(),"\n          </div>\n        </div>\n      </div>\n    ").trim()}},{key:"render",value:function(){var t=this.params;if(t.render)return t.render.call(this);if(this.inline)return this.renderInline();if("page"===t.openIn)return this.renderPage();var e=this.getModalType();return"popover"===e?this.renderPopover():"sheet"===e?this.renderSheet():"popup"===e?this.renderPopup():void 0}},{key:"onOpen",value:function(){var t=this,e=t.initialized,i=t.$el,a=t.app,s=t.$inputEl,n=t.inline,l=t.value,o=t.params,r=t.modules;t.closing=!1,t.opened=!0,t.opening=!0,t.attachEvents(),o.modules.forEach((function(e){"string"==typeof e&&r[e]&&r[e].init?r[e].init(t):e&&e.init&&e.init(t)}));var c=!l&&o.value;e?l&&(t.initialValue=a.utils.extend({},l),t.setValue(l,!1)):l?t.setValue(l):o.value?t.setValue(o.value,!1):o.value||t.setValue({hex:"#ff0000"},!1),c&&t.updateValue(),t.updateModules(),o.centerModules&&t.centerModules(),!n&&s&&s.length&&"md"===a.theme&&s.trigger("focus"),t.initialized=!0,i&&i.trigger("colorpicker:open"),s&&s.trigger("colorpicker:open"),t.emit("local::open colorPickerOpen",t)}},{key:"onOpened",value:function(){this.opening=!1,this.$el&&this.$el.trigger("colorpicker:opened"),this.$inputEl&&this.$inputEl.trigger("colorpicker:opened"),this.emit("local::opened colorPickerOpened",this)}},{key:"onClose",value:function(){var t=this,e=t.app,i=t.params,a=t.modules;t.opening=!1,t.closing=!0,t.detachEvents(),t.$inputEl&&"md"===e.theme&&t.$inputEl.trigger("blur"),i.modules.forEach((function(e){"string"==typeof e&&a[e]&&a[e].update?a[e].destroy(t):e&&e.destroy&&e.destroy(t)})),t.$el&&t.$el.trigger("colorpicker:close"),t.$inputEl&&t.$inputEl.trigger("colorpicker:close"),t.emit("local::close colorPickerClose",t)}},{key:"onClosed",value:function(){var t=this;t.opened=!1,t.closing=!1,t.inline||t.app.utils.nextTick((function(){t.modal&&t.modal.el&&t.modal.destroy&&(t.params.routableModals||t.modal.destroy()),delete t.modal})),t.$el&&t.$el.trigger("colorpicker:closed"),t.$inputEl&&t.$inputEl.trigger("colorpicker:closed"),t.emit("local::closed colorPickerClosed",t)}},{key:"open",value:function(){var t=this,e=t.app,i=t.opened,a=t.inline,s=t.$inputEl,n=t.$targetEl,l=t.params;if(!i){if(a)return t.$el=e.$(t.render()),t.$el[0].f7ColorPicker=t,t.$containerEl.append(t.$el),t.onOpen(),void t.onOpened();var o=t.render();if("page"===l.openIn)t.view.router.navigate({url:t.url,route:{content:o,path:t.url,on:{pageBeforeIn:function(e,i){t.$el=i.$el.find(".color-picker"),t.$el[0].f7ColorPicker=t,t.onOpen()},pageAfterIn:function(){t.onOpened()},pageBeforeOut:function(){t.onClose()},pageAfterOut:function(){t.onClosed(),t.$el&&t.$el[0]&&(t.$el[0].f7ColorPicker=null,delete t.$el[0].f7ColorPicker)}}}});else{var r=t.getModalType(),c=l.backdrop;null==c&&("popover"===r&&!1!==e.params.popover.backdrop&&(c=!0),"popup"===r&&(c=!0));var d={targetEl:n||s,scrollToEl:l.scrollToInput?n||s:void 0,content:o,backdrop:c,closeByBackdropClick:l.closeByBackdropClick,on:{open:function(){t.modal=this,t.$el="popover"===r||"popup"===r?this.$el.find(".color-picker"):this.$el,t.$el[0].f7ColorPicker=t,t.onOpen()},opened:function(){t.onOpened()},close:function(){t.onClose()},closed:function(){t.onClosed(),t.$el&&t.$el[0]&&(t.$el[0].f7ColorPicker=null,delete t.$el[0].f7ColorPicker)}}};"popup"===r&&(d.push=l.popupPush,d.swipeToClose=l.popupSwipeToClose),"sheet"===r&&(d.push=l.sheetPush,d.swipeToClose=l.sheetSwipeToClose),l.routableModals?t.view.router.navigate({url:t.url,route:ii({path:t.url},r,d)}):(t.modal=e[r].create(d),t.modal.open())}}}},{key:"close",value:function(){var t=this.opened,e=this.inline;if(t)return e?(this.onClose(),void this.onClosed()):void(this.params.routableModals?this.view.router.back():this.modal.close())}},{key:"init",value:function(){if(this.initInput(),this.inline)return this.open(),void this.emit("local::init colorPickerInit",this);!this.initialized&&this.params.value&&this.setValue(this.params.value),this.$inputEl&&this.attachInputEvents(),this.$targetEl&&this.attachTargetEvents(),this.params.closeByOutsideClick&&this.attachHtmlEvents(),this.emit("local::init colorPickerInit",this)}},{key:"destroy",value:function(){if(!this.destroyed){var t=this.$el;this.emit("local::beforeDestroy colorPickerBeforeDestroy",this),t&&t.trigger("colorpicker:beforedestroy"),this.close(),this.detachEvents(),this.$inputEl&&this.detachInputEvents(),this.$targetEl&&this.detachTargetEvents(),this.params.closeByOutsideClick&&this.detachHtmlEvents(),t&&t.length&&delete this.$el[0].f7ColorPicker,this.app.utils.deleteProps(this),this.destroyed=!0}}}]),e}(t.constructor.Class))(t,e)},fi=d({props:{title:String,value:String},mounted:function(){var t=this;t.colorPicker=_i(t.$f7,{targetEl:t.$refs.targetEl,value:{hex:t.value},openIn:"popover",openInPhone:"popover",backdrop:!1,modules:["wheel"],cssClass:"whs-color-picker-popover",on:{change:function(e,i){t.$emit("change",i.hex)}}})},beforeDestroy:function(){this.colorPicker&&this.colorPicker.destroy()},methods:{openColorPicker:function(){this.colorPicker.open()}}},Me,[],!1,null,null,null);fi.options.__file="addons/whs/1.0.0/src/components/picker/list-color.vue";var pi=fi.exports,gi=d({components:{ListColorPicker:pi},data:function(){return{edited:!1,settings:Object.assign({},o.main_page.$data.settings.item)}},created:function(){},computed:{},methods:{updateValue:function(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function(){var t=this;self=this,self.edited=!1,o.main_page.$data.settings.item=self.settings,o.saveSettings("item",self.settings).then((function(){o.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))}))}},beforeDestroy:function(){},mounted:function(){}},Oe,[],!1,null,null,null);gi.options.__file="addons/whs/1.0.0/src/pages/settings/items.vue";var yi=gi.exports,wi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_fields.title")))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("f7-block-title",{staticClass:"whs-list-divider"},[t._v(t._s(t.$t("whs.settings_fields.active")))]),t._v(" "),t.activeFields.length>0?i("f7-list",{ref:"sort_list",staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list",attrs:{sortable:"","sortable-enabled":""},on:{"sortable:sort":t.onSort}},[i("ul",[t._l(t.activeFields,(function(e,a){return[i("f7-list-item",{key:"active_field"+a,attrs:{title:e.name,link:"/whs/settings/items/field/"}},[i("i",{class:"whs-form-icon whs-form-icon-"+e.type,attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.description))])])]}))],2)]):t._e(),t._v(" "),t.inactiveFields.length>0?i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list"},[i("f7-block-title",{staticClass:"whs-list-divider"},[t._v(t._s(t.$t("whs.settings_fields.inactive")))]),t._v(" "),i("ul",[t._l(t.inactiveFields,(function(e,a){return[i("f7-list-item",{key:"inactive_field"+a,attrs:{title:e.name,link:"/whs/settings/items/field/"}},[i("i",{class:"whs-form-icon whs-form-icon-"+e.type,attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.description))])])]}))],2)],1):t._e(),t._v(" "),t.inactiveCustomFields.length>0?i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list"},[i("f7-block-title",{staticClass:"whs-list-divider"},[t._v(t._s(t.$t("whs.settings_fields.inactive_custom")))]),t._v(" "),i("ul",[t._l(t.inactiveCustomFields,(function(e,a){return[i("f7-list-item",{key:"inactive_custom_field"+a,attrs:{title:e.name,link:"/whs/settings/items/field/"}},[i("i",{class:"whs-form-icon whs-form-icon-"+e.type,attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.description))])])]}))],2)],1):t._e()],1)};wi._withStripped=!0;var bi=d({name:"EditFields",created:function(){this.typeEdit=this.$f7route.query.type;var t=JSON.parse(JSON.stringify(o.main_page.$data.settings[this.typeEdit+"_fields"]));t.sort((function(t,e){return t.order>e.order?1:-1})),this.fields=this.fields.concat(t),this.fields_clone=this.fields_clone.concat(t)},computed:{activeFields:function(){return fields_active=this.fields_clone.filter((function(t){return!0===t.active})),fields_active},inactiveFields:function(){return fields_deactive=this.fields_clone.filter((function(t){return!1===t.active&&!0!==t.custom})),fields_deactive},inactiveCustomFields:function(){return fields_deactive=this.fields_clone.filter((function(t){return!1===t.active&&!0===t.custom})),fields_deactive}},methods:{onSort:function(t){var e=t.detail.from-1,i=t.detail.to-1;this.fields.splice(i,0,this.fields.splice(e,1)[0]),this.fields.forEach((function(t,e){t.order=e}))}},beforeDestroy:function(){},mounted:function(){console.log("TCL: mounted -> self.$refs",this.$refs)},data:function(){return{typeEdit:null,fields:[],fields_clone:[]}}},wi,[],!1,null,null,null);bi.options.__file="addons/whs/1.0.0/src/pages/settings/edit-fields.vue";var ki=bi.exports,Ci=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_field.title")))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("div",{staticClass:"whs-field-delete-button",attrs:{slot:"fixed"},slot:"fixed"},[i("a",[t._v(t._s(t.$t("whs.settings_field.delete")))])]),t._v(" "),i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),t._v("\n        "+t._s(t.$t("whs.settings_field.name_label"))+"\n      ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:t.$t("whs.common.required_placeholder"),value:"Name"}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),t._v("\n        "+t._s(t.$t("whs.settings_field.alias_label"))+"\n      ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:t.$t("whs.common.required_placeholder"),value:"Name"}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),t._v("\n        "+t._s(t.$t("whs.settings_field.description_label"))+"\n      ")]),t._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:t.$t("whs.common.required_placeholder"),value:"Short single line name of the item"}}),t._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot"}),t._v("\n        "+t._s(t.$t("whs.settings_field.type_label"))+"\n      ")]),t._v(" "),i("f7-list-item",{attrs:{link:"","popup-open":".whs-field-type-popup",title:"Single line text"}})],1)]),t._v(" "),i("field-type-picker",{attrs:{type:t.type},on:{change:function(e){return t.type=e}}})],1)};Ci._withStripped=!0;var $i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-popup",{staticClass:"whs-field-type-popup"},[i("f7-page",[i("f7-navbar",[i("f7-nav-left",[i("f7-link",{attrs:{"icon-f7":"close","popup-close":".whs-field-type-popup"}})],1),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_type.title")))])],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines"},[i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.currency"),checked:"currency"===t.type,radio:""},on:{change:function(e){return t.onChange("currency")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dollar",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.switch"),checked:"switch"===t.type,radio:""},on:{change:function(e){return t.onChange("switch")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-toggle",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.single_line_text"),checked:"single_line_text"===t.type,radio:""},on:{change:function(e){return t.onChange("single_line_text")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.multi_line_text"),checked:"multi_line_text"===t.type,radio:""},on:{change:function(e){return t.onChange("multi_line_text")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-text-multiline",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.percentage"),checked:"percentage"===t.type,radio:""},on:{change:function(e){return t.onChange("percentage")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-percentage",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.integer"),checked:"integer"===t.type,radio:""},on:{change:function(e){return t.onChange("integer")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.barcode"),checked:"barcode"===t.type,radio:""},on:{change:function(e){return t.onChange("barcode")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-barcode",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.date"),checked:"date"===t.type,radio:""},on:{change:function(e){return t.onChange("date")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.url"),checked:"url"===t.type,radio:""},on:{change:function(e){return t.onChange("url")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-link",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.single_select"),checked:"single_select"===t.type,radio:""},on:{change:function(e){return t.onChange("single_select")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_type.multi_select"),checked:"multi_select"===t.type,radio:""},on:{change:function(e){return t.onChange("multi_select")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-check",attrs:{slot:"media"},slot:"media"})])],1)],1)],1)};$i._withStripped=!0;var xi=d({props:{type:String},methods:{onChange:function(t){this.$emit("change",t)}}},$i,[],!1,null,null,null);xi.options.__file="addons/whs/1.0.0/src/components/picker/field-type.vue";var Si=d({components:{FieldTypePicker:xi.exports},data:function(){return{type:"single_line_text"}},created:function(){},computed:{},methods:{},beforeDestroy:function(){},mounted:function(){}},Ci,[],!1,null,null,null);Si.options.__file="addons/whs/1.0.0/src/pages/settings/items-field-details.vue";var Ti=Si.exports,Ei=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_edit.title_location")))]),t._v(" "),t.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(e){return t.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):t._e()],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.name_label"),"inline-label":"",value:t.settings.name},on:{input:function(e){return t.updateValue("name",e.target.value)}}}),t._v(" "),i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:t.settings.plural_name},on:{input:function(e){return t.updateValue("plural_name",e.target.value)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_bg_color"),value:t.settings.header_color},on:{change:function(e){return t.updateValue("header_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_font_color"),value:t.settings.highlight_color},on:{change:function(e){return t.updateValue("highlight_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.standard_font_color"),value:t.settings.font_color},on:{change:function(e){return t.updateValue("font_color",e)}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_edit.fields"),link:"/whs/settings/edit-fields/?type=location"}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings"),divider:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_main_menu"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_summary"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_items"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_tags"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)};Ei._withStripped=!0;var Di=d({components:{ListColorPicker:pi},data:function(){return{edited:!1,settings:Object.assign({},o.main_page.$data.settings.location)}},created:function(){},computed:{},methods:{updateValue:function(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function(){var t=this;self=this,self.edited=!1,o.main_page.$data.settings.location=self.settings,o.saveSettings("location",self.settings).then((function(){o.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))}))}},beforeDestroy:function(){},mounted:function(){}},Ei,[],!1,null,null,null);Di.options.__file="addons/whs/1.0.0/src/pages/settings/locations.vue";var Ii=Di.exports,Pi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_edit.title_tag")))]),t._v(" "),t.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(e){return t.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):t._e()],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.name_label"),"inline-label":"",value:t.settings.name},on:{input:function(e){return t.updateValue("name",e.target.value)}}}),t._v(" "),i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:t.settings.plural_name},on:{input:function(e){return t.updateValue("plural_name",e.target.value)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_bg_color"),value:t.settings.header_color},on:{change:function(e){return t.updateValue("header_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_font_color"),value:t.settings.highlight_color},on:{change:function(e){return t.updateValue("highlight_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.standard_font_color"),value:t.settings.font_color},on:{change:function(e){return t.updateValue("font_color",e)}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings"),divider:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_main_menu"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_summary"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_locations"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_tags"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)};Pi._withStripped=!0;var Bi=d({components:{ListColorPicker:pi},data:function(){return{edited:!1,settings:Object.assign({},o.main_page.$data.settings.tag)}},created:function(){},computed:{},methods:{updateValue:function(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function(){var t=this;self=this,self.edited=!1,o.main_page.$data.settings.item=self.settings,o.saveSettings("tag",self.settings).then((function(){o.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))}))}},beforeDestroy:function(){},mounted:function(){}},Pi,[],!1,null,null,null);Bi.options.__file="addons/whs/1.0.0/src/pages/settings/tags.vue";var Fi=Bi.exports,Ri=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_edit.title_activities")))]),t._v(" "),t.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(e){return t.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):t._e()],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.name_label"),"inline-label":"",value:t.settings.name},on:{input:function(e){return t.updateValue("name",e.target.value)}}}),t._v(" "),i("f7-list-input",{attrs:{type:"text",label:t.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:t.settings.plural_name},on:{input:function(e){return t.updateValue("plural_name",e.target.value)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_bg_color"),value:t.settings.header_color},on:{change:function(e){return t.updateValue("header_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.header_font_color"),value:t.settings.highlight_color},on:{change:function(e){return t.updateValue("highlight_color",e)}}}),t._v(" "),i("list-color-picker",{attrs:{title:t.$t("whs.settings_edit.standard_font_color"),value:t.settings.font_color},on:{change:function(e){return t.updateValue("font_color",e)}}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings"),divider:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_main_menu"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_summary"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_locations"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_tags"),link:""}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)};Ri._withStripped=!0;var Ai=d({components:{ListColorPicker:pi},data:function(){return{edited:!1,settings:Object.assign({},o.main_page.$data.settings.activity)}},created:function(){},computed:{},methods:{updateValue:function(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function(){var t=this;self=this,self.edited=!1,o.main_page.$data.settings.activity=self.settings,o.saveSettings("activity",self.settings).then((function(){o.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))}))}},beforeDestroy:function(){},mounted:function(){}},Ri,[],!1,null,null,null);Ai.options.__file="addons/whs/1.0.0/src/pages/settings/activities.vue";var Oi=Ai.exports,Mi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.pageTitle))]),t._v(" "),i("f7-subnavbar",{attrs:{inner:!1}},[i("f7-searchbar",{attrs:{init:!1}})],1)],1),t._v(" "),i("select-list",{attrs:{type:t.type,data:t.targets,styleImage:t.tagStyle,loaded:t.loaded,selected:t.selected,multiply:t.multiply,image_link:t.image_link},on:{change:t.selectChanget}})],1)};Mi._withStripped=!0;var Vi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main-list-container"},[t.loaded?[Object.keys(t.data).length>0?i("f7-list",{staticClass:"whs-list whs-select-list searchbar-found",attrs:{"media-list":"",id:"whs-select-"+t.type}},t._l(t.data,(function(e,a){return i("f7-list-item",{key:t.type+"_"+a,attrs:{checkbox:t.multiply,radio:!t.multiply,name:"whs-select-list-item",checked:t.checkId(e),title:e.name||e.first_name+" "+e.last_name},on:{change:function(i){return t.toggleItem(e,i.target.checked)}}},[i("div",{staticClass:"whs-item-image",style:[e[t.image_link]?{"background-image":"url("+e[t.image_link]+")"}:t.styleImage],attrs:{slot:"media"},slot:"media"}),t._v(" "),e.description?i("div",{staticClass:"whs-item-row description"},[t._v(t._s(e.description))]):t._e()])})),1):i("empty-block",{attrs:{text:t.$t("whs.common.no",{text:t.settings[t.type].plural_name})}})]:t._e(),t._v(" "),t.loaded?t._e():[i("div",{staticStyle:{background:"#fff"}},[i("f7-list",{staticClass:"whs-list whs-select-list skeleton-text skeleton-effect-blink",attrs:{"media-list":""}},t._l(t.skeleton_count,(function(e){return i("f7-list-item",{key:"skeleton"+t.type+"_"+e},[i("div",{staticClass:"item-title",staticStyle:{color:"#ccc !important"}},[t._v("_______________")]),t._v(" "),i("div",{staticClass:"whs-item-image",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{staticClass:"whs-item-row"},[t._v("_______________")])])})),1)],1)]],2)};Vi._withStripped=!0;var Li=d({name:"MainList",components:{EmptyBlock:m},props:{type:String,data:Object,selected:Array,styleImage:Object,multiply:Boolean,image_link:{type:String,default:"image"},loaded:{type:Boolean,default:!1},skeleton_count:{type:Number,default:5}},methods:{toggleItem:function(t,e){self=this,self.$emit("change",{target:t,checked:e})},checkId:function(t){return void 0!==this.selected&&this.selected.filter((function(e){return e.id===t.id&&e.pseudo_type===t.pseudo_type})).length>0}},data:function(){return{settings:o.main_page.$data.settings}}},Vi,[],!1,null,null,null);Li.options.__file="addons/whs/1.0.0/src/components/select-list.vue";var Ni=Li.exports,Hi=d({props:{selected:Array,onChange:Function,getData:Function,pageTitle:String,type:String,multiply:Boolean,image_link:String},components:{"select-list":Ni},mixins:[p],mounted:function(){self=this,self.getData(this)},methods:{createSearchbar:function(){self=this,self.$nextTick((function(){self.$f7.searchbar.create({el:".searchbar",searchContainer:"#whs-select-"+self.type,searchIn:".item-title"})}))},selectChanget:function(t){self=this,self.onChange(t.target,t.checked)}},data:function(){return{targets:{},loaded:!1,settings:o.main_page.$data.settings}}},Mi,[],!1,null,null,null);Hi.options.__file="addons/whs/1.0.0/src/pages/select-picker.vue";var ji=[{path:"/whs/",component:w,on:{pageInit:function(t,e){e.view.router.params.stackPages=!0},pageBeforeRemove:function(t,e){e.view.router.params.stackPages=!1}}},{path:"/whs/item/",component:W},{path:"/whs/location/",component:et},{path:"/whs/tag/",component:st},{path:"/whs/team/",component:dt},{path:"/whs/role/",component:ft},{path:"/whs/item-add/",component:Zt},{path:"/whs/tag-add/",component:ae},{path:"/whs/location-add/",component:fe},{path:"/whs/activity-add/",component:Be},{path:"/whs/settings/",component:Ae},{path:"/whs/settings/items/",component:yi},{path:"/whs/settings/edit-fields/",component:ki},{path:"/whs/settings/items/field/",component:Ti},{path:"/whs/settings/locations/",component:Ii},{path:"/whs/settings/tags/",component:Fi},{path:"/whs/settings/activities/",component:Oi},{path:"/whs/select-picker/",component:Hi.exports}];e.default=ji}]).default;