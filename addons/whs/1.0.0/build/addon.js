var addon=function(){var i=window.tommy.api,s={main_page:void 0,file_base_url:null,team_id:null,getItem:function getItem(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/items",method:"GET",cache:e,data:t}).then(function(t){return t})},getItemDetail:function getItemDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/items/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},getLocations:function getLocations(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/locations",method:"GET",cache:e,data:t}).then(function(t){return t})},getLocationDetail:function getLocationDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/locations/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},getActivities:function getActivities(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/activities",method:"GET",cache:e,data:t}).then(function(t){return t})},getActivityDetail:function getActivityDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/activities/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},createActivity:function createActivity(t){return i.call({endpoint:"inventory/activities",method:"POST",data:t,cache:!1})},editActivity:function editActivity(t,e){return i.call({endpoint:"inventory/activities/"+e,method:"PUT",data:t,cache:!1})},deleteActivity:function deleteActivity(t){return i.call({endpoint:"inventory/activities/"+t,method:"DELETE",cache:!1})},getTags:function getTags(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/tags",method:"GET",cache:e,data:t}).then(function(t){return t})},getTagDetail:function getTagDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/tags/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},createItem:function createItem(t){return i.call({endpoint:"inventory/items",method:"POST",data:t,cache:!1})},editItem:function editItem(t,e){return i.call({endpoint:"inventory/items/"+e,method:"PUT",data:t,cache:!1})},deleteItem:function deleteItem(t){return i.call({endpoint:"inventory/items/"+t,method:"DELETE",cache:!1})},createLocation:function createLocation(t){return i.call({endpoint:"inventory/locations",method:"POST",data:t,cache:!1})},editLocation:function editLocation(t,e){return i.call({endpoint:"inventory/locations/"+e,method:"PUT",data:t,cache:!1})},deleteLocation:function deleteLocation(t){return i.call({endpoint:"inventory/locations/"+t,method:"DELETE",cache:!1})},createTag:function createTag(t){return t.context="tags",i.call({endpoint:"tags",method:"POST",data:t,cache:!1})},editTag:function editTag(t,e){return t.context="tags",i.call({endpoint:"tags/"+e,method:"PUT",data:t,cache:!1})},deleteTag:function deleteTag(t){return i.call({endpoint:"tags/"+t,method:"DELETE",cache:!1})},getRoles:function getRoles(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/roles",method:"GET",cache:e,data:t}).then(function(t){return t})},getRoleDetail:function getRoleDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/roles/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},createRole:function createRole(t){return t.context="roles",i.call({endpoint:"tags",method:"POST",data:t,cache:!1})},deleteRole:function deleteRole(t){return i.call({endpoint:"tags/"+t,method:"DELETE",cache:!1})},getTeam:function getTeam(t,e){return void 0===t&&(t=null),void 0===e&&(e=!0),i.call({endpoint:"inventory/team_members",method:"GET",cache:e,data:t}).then(function(t){return t})},getTeamDetail:function getTeamDetail(t,e){return void 0===e&&(e=!0),i.call({endpoint:"inventory/team_members/"+t,method:"GET",data:{with_summary:e}}).then(function(t){return t})},getSettings:function getSettings(e){return e=e?"/"+e:"",i.call({endpoint:"addons/whs/install/settings"+e,method:"GET",cache:!1}).then(function(t){return t?e?t.data?t.data:null:0===t.length?null:t:t})},saveSettings:function saveSettings(t,e){return void 0===e&&(e={}),t=t?"/"+t:"",i.call({endpoint:"addons/whs/install/settings"+t,method:"PUT",data:{data:JSON.stringify(e)},user_id:null,team_id:s.team_id})},deleteSettings:function deleteSettings(t){return t=t?"/"+t:"",i.call({endpoint:"addons/whs/install/settings"+t,method:"DELETE"})},toast:function toast(t){self.$f7.toast.create({text:t,position:"center",closeTimeout:2e3}).open()},resetCache:function resetCache(t){i.resetCache(t)},removeEmpty:function removeEmpty(e){return Object.keys(e).forEach(function(t){e[t]&&"object"==typeof e[t]&&s.removeEmpty(e[t])||""!==e[t]&&null!==e[t]||delete e[t]}),e},clearObject:function clearObject(e){return Object.keys(e).forEach(function(t){e[t]=null}),e}},t={main:{name:window.tommy.i18n.t("whs.index.title"),currency:"USD",date:"YYYY/MM/DD",time:"HH:mm"},item:{name:window.tommy.i18n.t("whs.common.item"),plural_name:window.tommy.i18n.t("whs.common.items"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/item.svg"},location:{name:window.tommy.i18n.t("whs.common.location"),plural_name:window.tommy.i18n.t("whs.common.locations"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/location.svg"},tag:{name:window.tommy.i18n.t("whs.common.tag"),plural_name:window.tommy.i18n.t("whs.common.tags"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/default/tag.svg"},activity:{name:window.tommy.i18n.t("whs.common.activity"),plural_name:window.tommy.i18n.t("whs.common.activities"),header_color:"#ffffff",highlight_color:"#ff4500",font_color:"#333333",image:"assets/icon-clock-black.svg"},role:{image:"assets/default/team.svg"},team:{image:"assets/default/team.svg"}};function normalizeComponent(t,e,i,a,s,n,l,o,r,c){"boolean"!=typeof l&&(r=o,o=l,l=!1);var d,m="function"==typeof i?i.options:i;if(t&&t.render&&(m.render=t.render,m.staticRenderFns=t.staticRenderFns,m._compiled=!0,s&&(m.functional=!0)),a&&(m._scopeId=a),n?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,r(t)),t&&t._registeredComponents&&t._registeredComponents.add(n)},m._ssrRegister=d):e&&(d=l?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,o(t))}),d)if(m.functional){var u=m.render;m.render=function renderWithStyleInjection(t,e){return d.call(e),u(t,e)}}else{var v=m.beforeCreate;m.beforeCreate=v?[].concat(v,d):[d]}return i}function g(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-empty-block"},[i("i",{staticClass:"icon whs-icon-empty"}),t._v(" "),i("span",[t._v(t._s(t.text))])])}var e={props:{text:String}};g._withStripped=!0;function p(){var s=this,t=s.$createElement,n=s._self._c||t;return n("div",{staticClass:"main-list-container"},[s.loaded?[0<s.data.length?n("f7-list",{staticClass:"whs-list",attrs:{"media-list":""}},s._l(s.data,function(i,a){return n("f7-list-item",{key:s.type+"_"+a,attrs:{"chevron-center":"",link:"",title:i.name||i.first_name+" "+i.last_name},on:{click:function(t){return s.goToDetails(i)}}},[n("div",{staticClass:"whs-item-image",style:[i[s.image_link]?{"background-image":"url("+i[s.image_link]+")"}:s.styleImage],attrs:{slot:"media"},slot:"media"}),s._v(" "),s._l(s.rows,function(t,e){return n("div",{key:s.type+"_"+a+"_row_"+e,staticClass:"whs-item-row"},[n("span",[s._v(s._s(t.name)+":")]),s._v("\n          "+s._s(i[t.link])+"\n        ")])}),s._v(" "),i.description?n("div",{staticClass:"whs-item-row description"},[s._v(s._s(i.description))]):s._e()],2)}),1):n("empty-block",{attrs:{text:s.$t("whs.common.no",{text:s.settings[s.type].plural_name})}})]:s._e(),s._v(" "),s.loaded?s._e():[n("div",{staticStyle:{background:"#fff"}},[n("f7-list",{staticClass:"whs-list skeleton-text skeleton-effect-blink",attrs:{"media-list":""}},s._l(s.skeleton_count,function(t){return n("f7-list-item",{key:"skeleton"+s.type+"_"+t,attrs:{"chevron-center":""}},[n("div",{staticClass:"item-title",staticStyle:{color:"#ccc !important"}},[s._v("_______________")]),s._v(" "),n("div",{staticClass:"whs-item-image",attrs:{slot:"media"},slot:"media"}),s._v(" "),n("div",{staticClass:"whs-item-row"},[s._v("_______________")]),s._v(" "),n("div",{staticClass:"whs-item-row"},[s._v("___________")])])}),1)],1)]],2)}var a=normalizeComponent({render:g,staticRenderFns:[]},void 0,e,void 0,!1,void 0,!1,void 0,void 0,void 0),n={name:"MainList",components:{EmptyBlock:a},props:{type:String,data:Array,detailUrl:String,styleImage:Object,rows:Array,image_link:{type:String,default:"image"},loaded:{type:Boolean,default:!1},skeleton_count:{type:Number,default:5}},computed:{},methods:{goToDetails:function goToDetails(t){this.$f7router.navigate(this.detailUrl,{props:{item_link:t}})}},data:function data(){return{settings:s.main_page.$data.settings}}};p._withStripped=!0;function F(){var i=this,t=i.$createElement,a=i._self._c||t;return a("f7-page",{staticClass:"whs-main-page"},[a("f7-navbar",[a("tommy-nav-menu"),i._v(" "),a("f7-nav-title",{class:!0===i.loaded.settings?"":"skeleton-effect-blink skeleton-text "},[i._v(i._s(i.settings.main.name))]),i._v(" "),a("f7-nav-right",{staticClass:"whs-navbar-links"},[a("f7-link",{attrs:{"icon-only":"","popover-open":".whs-popover-add"}},[a("f7-icon",{attrs:{f7:"add"}})],1),i._v(" "),a("f7-link",{attrs:{"icon-only":""}},[a("f7-icon",{attrs:{f7:"bell"}})],1),i._v(" "),a("f7-link",{attrs:{href:"/whs/settings/","icon-only":""}},[a("f7-icon",{attrs:{f7:"gear"}})],1)],1),i._v(" "),a("f7-subnavbar",{staticClass:"main-subnavbar"},[a("f7-searchbar",{staticClass:"whs-searchbar",attrs:{placeholder:i.$t("whs.common.search_placeholder"),customSearch:"",backdrop:!1,disableButton:!1,value:i.search},on:{input:function(t){return i.onSearchbarSearch(t.target.value)},"searchbar:clear":i.onSearchbarClear,"searchbar:enable":function(t){i.searchEnabled=!0},"searchbar:disable":function(t){i.searchEnabled=!1}}},[a("f7-link",{attrs:{"icon-only":""}},[a("i",{staticClass:"icon whs-icon-barcode"})]),i._v(" "),a("f7-link",{attrs:{"icon-only":""}},[a("i",{staticClass:"icon whs-icon-sort-black"})])],1),i._v(" "),i.searchEnabled?i._e():a("div",{class:"whs-menubar "+(!0===i.loaded.settings?"":"skeleton-effect-blink skeleton-text skeleton-icon")},[a("a",{class:"link "+("items"===i.activeTab?"whs-menubar-active":""),on:{click:function(t){i.activeTab="items"}}},[a("i",{staticClass:"icon whs-icon whs-icon-box"}),i._v(" "),a("span",[i._v(i._s(i.settings.item.plural_name))])]),i._v(" "),a("a",{class:"link "+("locations"===i.activeTab?"whs-menubar-active":""),on:{click:function(t){i.activeTab="locations"}}},[a("i",{staticClass:"icon whs-icon whs-icon-drawer"}),i._v(" "),a("span",[i._v(i._s(i.settings.location.plural_name))])]),i._v(" "),a("a",{class:"link "+("tags"===i.activeTab?"whs-menubar-active":""),on:{click:function(t){i.activeTab="tags"}}},[a("i",{staticClass:"icon whs-icon whs-icon-tag"}),i._v(" "),a("span",[i._v(i._s(i.settings.tag.plural_name))])]),i._v(" "),a("a",{class:"link "+("activity"===i.activeTab?"whs-menubar-active":""),on:{click:function(t){i.activeTab="activity"}}},[a("i",{staticClass:"icon whs-icon whs-icon-clock"}),i._v(" "),a("span",[i._v(i._s(i.settings.activity.plural_name))])])]),i._v(" "),i.searchEnabled?a("div",{staticClass:"whs-menubar"},[a("a",{class:"link "+("all"===i.activeSearchFilter?"whs-menubar-active":""),on:{click:function(t){i.activeSearchFilter="all"}}},[a("i",{staticClass:"icon whs-icon whs-icon-all"}),i._v(" "),a("span",[i._v("All")])]),i._v(" "),a("a",{class:"link "+("items"===i.activeSearchFilter?"whs-menubar-active":""),on:{click:function(t){i.activeSearchFilter="items"}}},[a("i",{staticClass:"icon whs-icon whs-icon-box"}),i._v(" "),a("span",[i._v(i._s(i.settings.item.plural_name))])]),i._v(" "),a("a",{class:"link "+("locations"===i.activeSearchFilter?"whs-menubar-active":""),on:{click:function(t){i.activeSearchFilter="locations"}}},[a("i",{staticClass:"icon whs-icon whs-icon-drawer"}),i._v(" "),a("span",[i._v(i._s(i.settings.location.plural_name))])]),i._v(" "),a("a",{class:"link "+("tags"===i.activeSearchFilter?"whs-menubar-active":""),on:{click:function(t){i.activeSearchFilter="tags"}}},[a("i",{staticClass:"icon whs-icon whs-icon-tag"}),i._v(" "),a("span",[i._v(i._s(i.settings.tag.plural_name))])])]):i._e()],1)],1),i._v(" "),a("f7-popover",{staticClass:"whs-popover whs-popover-add",attrs:{backdrop:!1}},[a("f7-list",{attrs:{"no-chevron":""}},[a("f7-list-item",{attrs:{link:"/whs/item-add/","popover-close":""}},[a("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.common.new",{text:i.settings.item.name})))])]),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/location-add/","popover-close":""}},[a("i",{staticClass:"whs-icon whs-icon-drawer",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.common.new",{text:i.settings.location.name})))])]),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/tag-add/","popover-close":""}},[a("i",{staticClass:"whs-icon whs-icon-tag",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.common.new",{text:i.settings.tag.name})))])]),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/activity-add/","popover-close":""}},[a("i",{staticClass:"whs-icon whs-icon-clock",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.common.new",{text:i.settings.activity.name})))])])],1)],1),i._v(" "),"items"!==i.activeTab||i.searchEnabled?i._e():a("main-list",{attrs:{type:"item",data:i.items,detailUrl:"/whs/item/",styleImage:i.itemStyle,loaded:i.loaded.item,rows:[{name:"Quantity",link:"quantity"}]}}),i._v(" "),"locations"!==i.activeTab||i.searchEnabled?i._e():a("main-list",{attrs:{type:"location",data:i.locations,detailUrl:"/whs/location/",styleImage:i.locationStyle,loaded:i.loaded.location,rows:[{name:"Capacity",link:"pallet_capacity"}]}}),i._v(" "),"tags"!==i.activeTab||i.searchEnabled?i._e():a("main-list",{attrs:{type:"tag",data:i.tags,detailUrl:"/whs/tag/",styleImage:i.tagStyle,loaded:i.loaded.tag,rows:[{name:"Count",link:"taggings_count"}]}}),i._v(" "),"activity"!==i.activeTab||i.searchEnabled?i._e():[a("f7-popover",{staticClass:"whs-popover whs-popover-activity",attrs:{backdrop:!1}},[a("f7-list",{attrs:{"no-chevron":""}},[a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("all")}}},[a("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.popover.activity.all")))])]),i._v(" "),a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("item")}}},[a("i",{staticClass:"whs-icon whs-icon-box",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.settings.item.plural_name))])]),i._v(" "),a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("location")}}},[a("i",{staticClass:"whs-icon whs-icon-drawer",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.settings.location.plural_name))])]),i._v(" "),a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("tag")}}},[a("i",{staticClass:"whs-icon whs-icon-tag",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.settings.tag.plural_name))])]),i._v(" "),a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("role")}}},[a("i",{staticClass:"whs-icon whs-icon-roles",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.popover.activity.role")))])]),i._v(" "),a("f7-list-item",{on:{click:function(t){return i.activityPopoverClick("team")}}},[a("i",{staticClass:"whs-icon whs-icon-team",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("span",{attrs:{slot:"title"},slot:"title"},[i._v(i._s(i.$t("whs.popover.activity.team")))])])],1)],1),i._v(" "),a("f7-list",{staticClass:"whs-list whs-main-activity",attrs:{"media-list":""}},[a("f7-list-item",{staticClass:"filter",attrs:{divider:""}},[a("f7-link",{attrs:{"popover-open":".whs-popover-activity"}},[i._v("\n          "+i._s(i.activityFilterTitle)+"\n          "),a("i",{staticClass:"whs-main-icon whs-icon-triangle"})]),i._v(" "),a("f7-button",{attrs:{fill:""}},[i._v(i._s(i.$t("whs.common.dashboard")))])],1)],1),i._v(" "),"all"===i.activity_filter?a("f7-list",{staticClass:"whs-list whs-main-activity all",attrs:{"media-list":""}},[a("f7-list-item",{staticClass:"more",attrs:{divider:""}},[a("f7-link",{on:{click:function(t){return i.actionMoreClick("item")}}},[i._v(i._s(i.$t("whs.common.more")))])],1),i._v(" "),a("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[i._v(i._s(i.settings.item.plural_name))]),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:"item",data:i.activities_main.items,detailUrl:"/whs/item/",styleImage:i.itemStyle,loaded:i.loaded.activity.item,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),i._v(" "),a("f7-list-item",{staticClass:"more",attrs:{divider:""}},[a("f7-link",{on:{click:function(t){return i.actionMoreClick("location")}}},[i._v(i._s(i.$t("whs.common.more")))])],1),i._v(" "),a("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[i._v(i._s(i.settings.location.plural_name))]),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:"location",data:i.activities_main.locations,detailUrl:"/whs/location/",styleImage:i.locationStyle,loaded:i.loaded.activity.location,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),i._v(" "),a("f7-list-item",{staticClass:"more",attrs:{divider:""}},[a("f7-link",{on:{click:function(t){return i.actionMoreClick("tag")}}},[i._v(i._s(i.$t("whs.common.more")))])],1),i._v(" "),a("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[i._v(i._s(i.settings.tag.plural_name))]),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:"tag",data:i.activities_main.tags,detailUrl:"/whs/tag/",styleImage:i.tagStyle,loaded:i.loaded.activity.tag,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),i._v(" "),a("f7-list-item",{staticClass:"more",attrs:{divider:""}},[a("f7-link",{on:{click:function(t){return i.actionMoreClick("role")}}},[i._v(i._s(i.$t("whs.common.more")))])],1),i._v(" "),a("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[i._v(i._s(i.$t("whs.popover.activity.role")))]),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:"role",data:i.activities_main.roles,detailUrl:"/whs/role/",styleImage:i.roleStyle,loaded:i.loaded.activity.role,skeleton_count:2,rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1),i._v(" "),a("f7-list-item",{staticClass:"more",attrs:{divider:""}},[a("f7-link",{on:{click:function(t){return i.actionMoreClick("team")}}},[i._v(i._s(i.$t("whs.common.more")))])],1),i._v(" "),a("f7-list-item",{staticClass:"divider-title",attrs:{divider:""}},[i._v(i._s(i.$t("whs.popover.activity.team")))]),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:"team",data:i.activities_main.team,detailUrl:"/whs/team/",styleImage:i.teamStyle,loaded:i.loaded.activity.team,skeleton_count:2,image_link:"icon_url",rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1)],1):a("f7-list",{staticClass:"selected whs-list whs-main-activity",attrs:{"media-list":""}},[i._l(i.activities_more.data,function(t,e){return a("f7-list-item",{key:"activity_selected_"+e,attrs:{"chevron-center":"",link:"",title:t.name||t.first_name+" "+t.last_name}},[a("div",{staticClass:"whs-item-image",style:[t.image?{"background-image":"url("+t.image+")"}:i.dynamicStyle],attrs:{slot:"media"},slot:"media"}),i._v(" "),a("div",{staticClass:"whs-item-row"},[i._v("OPEN: "+i._s(t.open_count))]),i._v(" "),a("div",{staticClass:"whs-item-row"},[i._v("DUE: "+i._s(t.due_count))]),i._v(" "),a("div",{staticClass:"whs-item-row"},[i._v("OVERDUE: "+i._s(t.overdue_count))])])}),i._v(" "),a("f7-list-item-row",[a("main-list",{attrs:{type:i.activities_more.target,data:i.activities_more.data,detailUrl:"/whs/"+i.activities_more.target+"/",styleImage:i.dynamicStyle,loaded:i.loaded.activity_more,image_link:"team"===i.activities_more.target?"icon_url":"image",rows:[{name:"Open",link:"open_count"},{name:"Due",link:"due_count"},{name:"Overdue",link:"overdue_count"}]}})],1)],2)]],2)}var l=normalizeComponent({render:p,staticRenderFns:[]},void 0,n,void 0,!1,void 0,!1,void 0,void 0,void 0),o=normalizeComponent({},void 0,{computed:{itemStyle:function itemStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.item.image)+")"}:{"background-image":"url("+this.settings.item.image+")"}},locationStyle:function locationStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.location.image)+")"}:{"background-image":"url("+this.settings.location.image+")"}},tagStyle:function tagStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.tag.image)+")"}:{"background-image":"url("+this.settings.tag.image+")"}},activityStyle:function activityStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.activity.image)+")"}:{"background-image":"url("+this.settings.activity.image+")"}},roleStyle:function roleStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.role.image)+")"}:{"background-image":"url("+this.settings.role.image+")"}},teamStyle:function teamStyle(){return-1===this.settings.location.image.indexOf("base64")?{"background-image":"url("+(s.file_base_url+this.settings.team.image)+")"}:{"background-image":"url("+this.settings.team.image+")"}},dynamicStyle:function dynamicStyle(){switch(self=this,self.dynamicStyleTarget){case null:case void 0:return{};case"item":return self.itemStyle;case"location":return self.locationStyle;case"tag":return self.tagStyle;case"role":return self.roleStyle;case"team":return self.teamStyle}}},data:function data(){return{dynamicStyleTarget:null}}},void 0,void 0,void 0,!1,void 0,void 0,void 0),r={name:"Inventory",components:{EmptyBlock:a,"main-list":l},mixins:[o],created:function created(){s.main_page=this,s.team_id=this.$root.team.id;var t=this.$root.addons.filter(function(t){return"whs"===t.package})[0];s.file_base_url=t.file_base_url},computed:{activityFilterTitle:function activityFilterTitle(){switch(this.activity_filter){case"all":return this.$t("whs.popover.activity.all");case"role":return this.$t("whs.popover.activity.role");case"team":return this.$t("whs.popover.activity.team");default:return this.settings[this.activity_filter].plural_name}}},methods:{getItem:function getItem(){var e=this;s.getItem().then(function(t){e.items=t,e.loaded.item=!0})},getLocations:function getLocations(){var e=this;s.getLocations().then(function(t){e.locations=t,e.loaded.location=!0})},getActivities:function getActivities(){var e=this,t={with_activity_counts:!0,page_limit:2};s.getActivities().then(function(t){console.log("TCL: getActivities -> data",t)}),s.getItem(t).then(function(t){e.activities_main.items=[t[0],t[1]],e.loaded.activity.item=!0}),s.getLocations(t).then(function(t){e.activities_main.locations=[t[0],t[1]],e.loaded.activity.location=!0}),s.getTags(t).then(function(t){e.activities_main.tags=[t[0],t[1]],e.loaded.activity.tag=!0}),s.getRoles(t).then(function(t){e.activities_main.roles=[t[0],t[1]],e.loaded.activity.role=!0}),s.getTeam(t).then(function(t){e.activities_main.team=[t[0],t[1]],e.loaded.activity.team=!0})},getActivitiesMore:function getActivitiesMore(t){var e=this,i={with_activity_counts:!0};switch(e.activities_more={data:[],target:t},e.dynamicStyleTarget=e.activities_more.target,e.loaded.activity_more=!1,t){case"item":s.getItem(i).then(function(t){e.activities_more.data=t,e.loaded.activity_more=!0});break;case"location":s.getLocations(i).then(function(t){e.activities_more.data=t,e.loaded.activity_more=!0});break;case"tag":s.getTags(i).then(function(t){e.activities_more.data=t,e.loaded.activity_more=!0});break;case"role":s.getRoles(i).then(function(t){e.activities_more.data=t,e.loaded.activity_more=!0});break;case"team":s.getTeam(i).then(function(t){e.activities_more.data=t,e.loaded.activity_more=!0})}},getTags:function getTags(){var e=this;s.getTags().then(function(t){e.tags=t,e.loaded.tag=!0})},onSearchbarSearch:function onSearchbarSearch(t){this.search=t},onSearchbarClear:function onSearchbarClear(){this.$f7.searchbar.disable()},activityPopoverClick:function activityPopoverClick(t){this.activity_filter=t,this.$f7.popover.close(".whs-popover-activity"),this.getActivitiesMore(t)},actionMoreClick:function actionMoreClick(t){this.activity_filter=t,this.getActivitiesMore(t)},itemUpdated:function itemUpdated(){this.loaded.item=!1,s.resetCache("inventory/items"),this.getItem()},locationUpdated:function locationUpdated(){this.loaded.location=!1,s.resetCache("inventory/locations"),this.getLocations()},tagUpdated:function tagUpdated(){this.loaded.tag=!1,s.resetCache("inventory/tags"),this.getTags()},parseSettings:function parseSettings(t){console.log("TCL: parseSettings -> settings",t);if(null===t)return this.settings;var e=t.reduce(function(t,e){return t[e.name]=e.data,t},{});return this.compareDefSettings(this.settings,e)},compareDefSettings:function compareDefSettings(t,e){for(def in t)if(void 0===e[def])e[def]=t[def];else for(itemDef in t[def])void 0===e[def][itemDef]?e[def][itemDef]=t[def][itemDef]:"object"==typeof e[def][itemDef]&&(e[def][itemDef]=this.compareDefSettings(t[def][itemDef],e[def][itemDef]));return e}},beforeDestroy:function beforeDestroy(){var t=this;t.$events.$off("item:updated",t.itemUpdated),t.$events.$off("item:aded",t.itemUpdated),t.$events.$off("item:deleted",t.itemUpdated),t.$events.$off("location:updated",t.locationUpdated),t.$events.$off("location:aded",t.locationUpdated),t.$events.$off("location:deleted",t.locationUpdated),t.$events.$off("tag:updated",t.tagUpdated),t.$events.$off("tag:aded",t.tagUpdated),t.$events.$off("tag:deleted",t.tagnUpdated)},mounted:function mounted(){var e=this;s.getSettings().then(function(t){e.settings=e.parseSettings(t),e.loaded.settings=!0,e.getItem(),e.getLocations(),e.getActivities(),e.getTags()}),e.$events.$on("item:updated",e.itemUpdated),e.$events.$on("item:aded",e.itemUpdated),e.$events.$on("item:deleted",e.itemUpdated),e.$events.$on("location:updated",e.locationUpdated),e.$events.$on("location:aded",e.locationUpdated),e.$events.$on("location:deleted",e.locationUpdated),e.$events.$on("tag:updated",e.tagUpdated),e.$events.$on("tag:aded",e.tagUpdated),e.$events.$on("tag:deleted",e.tagUpdated)},data:function data(){return{activeTab:"items",activeSearchFilter:"all",search:"",searchEnabled:!1,items:[],locations:[],tags:[],activities:[],activities_main:{items:[],locations:[],tags:[],roles:[],team:[]},activities_more:{data:[],target:""},activity_filter:"all",settings:t,loaded:{settings:!1,item:!1,location:!1,tag:!1,activity:{item:!1,location:!1,tag:!1,role:!1,team:!1},activity_more:!1}}}};F._withStripped=!0;function O(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[a("thead",[a("tr",[i._m(0),i._v(" "),a("th",[i._v(i._s(i.settings.location.plural_name))]),i._v(" "),a("th",[i._v("Parent")]),i._v(" "),a("th",[i._v(i._s(i.settings.item.plural_name))]),i._v(" "),a("th",[i._v("Lock")]),i._v(" "),a("th",[i._v("Lot code")]),i._v(" "),a("th",[i._v("Expiry")])])]),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell"}),i._v(" "),a("td",[i._v(i._s(t.name))]),i._v(" "),a("td",[i._v(i._s(t.parent_location_id))]),i._v(" "),a("td"),i._v(" "),t.active?a("td"):a("td",[a("i",{staticClass:"whs-summary-icon whs-icon-lock"})]),i._v(" "),a("td",[i._v(i._s(t.sku))]),i._v(" "),a("td")])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.settings.location.plural_name})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell"},[i._v("_")]),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var c=normalizeComponent({render:F,staticRenderFns:[]},void 0,r,void 0,!1,void 0,!1,void 0,void 0,void 0),d={components:{EmptyBlock:a},props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getLocations(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":location:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":location:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":location:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};O._withStripped=!0;function X(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[a("thead",[a("tr",[i._m(0),i._v(" "),a("th",[i._v(i._s(i.settings.tag.plural_name))]),i._v(" "),a("th",[i._v(i._s(i.settings.item.plural_name))]),i._v(" "),a("th",[i._v(i._s(i.settings.location.plural_name))])])]),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell media-cell-image",style:[t.image?{"background-image":"url("+t.image+")"}:i.tagStyle]}),i._v(" "),a("td",[i._v(i._s(t.name))]),i._v(" "),a("td"),i._v(" "),a("td")])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.settings.tag.plural_name})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell media-cell-image"}),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var m=normalizeComponent({render:O,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,d,void 0,!1,void 0,!1,void 0,void 0,void 0),u={components:{EmptyBlock:a},mixins:[o],props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getTags(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":tag:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":tag:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":tag:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};X._withStripped=!0;function ea(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[i._m(0),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell"}),i._v(" "),a("td",[i._v(i._s(t.generated_id))]),i._v(" "),a("td",[i._v(i._s(t.kind))]),i._v(" "),a("td",[i._v(i._s(null!==t.scheduled_at?i.$moment(t.scheduled_at).format(i.settings.main.date):""))]),i._v(" "),a("td",[i._v(i._s(t.inventory_item_id))]),i._v(" "),a("td",[i._v(i._s())]),i._v(" "),a("td",[i._v(i._s(t.executed_by_id))]),i._v(" "),a("td",[i._v(i._s(null!==t.executed_at?i.$moment(t.executed_at).format(i.settings.main.date+" "+i.settings.main.time):""))]),i._v(" "),a("td",[i._v(i._s(t.source_location_id))]),i._v(" "),a("td",[i._v(i._s(t.destination_location_id))]),i._v(" "),a("td",[i._v(i._s(t.value))]),i._v(" "),a("td",[i._v(i._s(t.count))])])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.settings.activity.plural_name})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell"},[i._v("_")]),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var v=normalizeComponent({render:X,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,u,void 0,!1,void 0,!1,void 0,void 0,void 0),h={components:{EmptyBlock:a},props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getActivities(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":activity:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":activity:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":activity:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};ea._withStripped=!0;function na(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-pagination"},[i("div",{staticClass:"whs-pagination-rows"},[t._v(t._s(t.rows)+" "+t._s(t.$t("whs.pagination.rows")))]),t._v(" "),i("div",{staticClass:"whs-pagination-nav"},[i("a",{staticClass:"link",on:{click:t.leftClick}},[i("i",{staticClass:"f7-icons"},[t._v("chevron_left")])]),t._v(" "),i("span",[t._v(t._s(t.$t("whs.pagination.page",{current:t.current,total:t.total})))]),t._v(" "),i("a",{staticClass:"link",on:{click:t.rightClick}},[i("i",{staticClass:"f7-icons"},[t._v("chevron_right")])])]),t._v(" "),t._m(0)])}var _=normalizeComponent({render:ea,staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Generated")]),t._v(" "),i("th",[t._v("Type")]),t._v(" "),i("th",[t._v("Scheduled")]),t._v(" "),i("th",[t._v("Item")]),t._v(" "),i("th",[t._v("Assignet")]),t._v(" "),i("th",[t._v("Executed By")]),t._v(" "),i("th",[t._v("Executed")]),t._v(" "),i("th",[t._v("Source")]),t._v(" "),i("th",[t._v("Destination")]),t._v(" "),i("th",[t._v("Value")]),t._v(" "),i("th",[t._v("Count")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,h,void 0,!1,void 0,!1,void 0,void 0,void 0),f={props:{link:String,parent:String},data:function data(){return{current:1,total:9,rows:999}},methods:{leftClick:function leftClick(){self=this,1<self.current&&(self.current-=1,self.$events.$emit("pagination:"+self.parent+":"+self.link+":change",self.current))},rightClick:function rightClick(){self=this,self.current<self.total&&(self.current+=1,self.$events.$emit("pagination:"+self.parent+":"+self.link+":change",self.current))},setPaginations:function setPaginations(t){self=this,self.total=t.total,self.rows=t.rows}},created:function created(){this.$events.$on("pagination:"+this.parent+":"+this.link+":set",this.setPaginations)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":"+this.link+":set",this.setPaginations)},mounted:function mounted(){self=this}};na._withStripped=!0;var y=normalizeComponent({render:na,staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"whs-pagination-actions"},[i("a",{staticClass:"link"},[i("i",{staticClass:"icon f7-icons"},[t._v("share")])]),t._v(" "),i("a",{staticClass:"link"},[i("i",{staticClass:"icon f7-icons"},[t._v("gear")])])])}]},void 0,f,void 0,!1,void 0,!1,void 0,void 0,void 0),b={AED:"د.إ",AFN:"؋",ALL:"L",AMD:"֏",ANG:"ƒ",AOA:"Kz",ARS:"$",AUD:"$",AWG:"ƒ",AZN:"₼",BAM:"KM",BBD:"$",BDT:"৳",BGN:"лв",BHD:".د.ب",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"฿",BTN:"Nu.",BWP:"P",BYR:"Br",BYN:"Br",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"¥",COP:"$",CRC:"₡",CUC:"$",CUP:"₱",CVE:"$",CZK:"Kč",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"دج",EEK:"kr",EGP:"£",ERN:"Nfk",ETB:"Br",ETH:"Ξ",EUR:"€",FJD:"$",FKP:"£",GBP:"£",GEL:"₾",GGP:"£",GHC:"₵",GHS:"GH₵",GIP:"£",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"₪",IMP:"£",INR:"₹",IQD:"ع.د",IRR:"﷼",ISK:"kr",JEP:"£",JMD:"J$",JOD:"JD",JPY:"¥",KES:"KSh",KGS:"лв",KHR:"៛",KMF:"CF",KPW:"₩",KRW:"₩",KWD:"KD",KYD:"$",KZT:"лв",LAK:"₭",LBP:"£",LKR:"₨",LRD:"$",LSL:"M",LTC:"Ł",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"ден",MMK:"K",MNT:"₮",MOP:"MOP$",MRO:"UM",MRU:"UM",MUR:"₨",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"₦",NIO:"C$",NOK:"kr",NPR:"₨",NZD:"$",OMR:"﷼",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"₱",PKR:"₨",PLN:"zł",PYG:"Gs",QAR:"﷼",RMB:"￥",RON:"lei",RSD:"Дин.",RUB:"₽",RWF:"R₣",SAR:"﷼",SBD:"$",SCR:"₨",SDG:"ج.س.",SEK:"kr",SGD:"$",SHP:"£",SLL:"Le",SOS:"S",SRD:"$",SSP:"£",STD:"Db",STN:"Db",SVC:"$",SYP:"£",SZL:"E",THB:"฿",TJS:"SM",TMT:"T",TND:"د.ت",TOP:"T$",TRL:"₤",TRY:"₺",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"₴",UGX:"USh",USD:"$",UYU:"$U",UZS:"лв",VEF:"Bs",VND:"₫",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"Ƀ",XCD:"$",XOF:"CFA",XPF:"₣",YER:"﷼",ZAR:"R",ZWD:"Z$"},w=Object.prototype.toString,k={isArray:function(t){return Array.isArray(t)}},C=Math.pow(2,53)-1;k.isArrayLike=function(t){if("object"!=typeof t||!t)return!1;var e=t.length;return"number"==typeof e&&e%1==0&&0<=e&&e<=C},k.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},k.each=function(t,e){var i,a;if(k.isArray(t))for(i=0,a=t.length;i<a&&!1!==e(t[i],i,t);i++);else for(i in t)if(!1===e(t[i],i,t))break;return t},k.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){k["is"+e]=function(t){return w.call(t)==="[object "+e+"]"}}),k.toArray=function(t,e){e=e||0;for(var i=t.length-e,a=new Array(i);i--;)a[i]=t[i+e];return a},k.toNumber=function(t){if("string"!=typeof t)return t;var e=Number(t);return isNaN(e)?t:e},k.convertRangeToArray=function(t){return[].concat(Array(t+1).keys()).slice(1)},k.convertArray=function(t){if(k.isArray(t))return t;if(k.isPlainObject(t)){for(var e,i=Object.keys(t),a=i.length,s=new Array(a);a--;)e=i[a],s[a]={$key:e,$value:t[e]};return s}return t||[]},k.getPath=function(t,e){return function multiIndex(t,e){return e.length?multiIndex(t[e[0]],e.slice(1)):t}(t,e.split("."))};w=Object.prototype.toString;function currency(t,e,i,a){var s,n,l,o,r=this&&this.currency?this.currency:{};e=k.exist(e)?e:r.symbol,i=k.exist(i)?i:r.decimalDigits,a=a||r;var c=/(\d{3})(?=\d)/g;if(t=parseFloat(t),!isFinite(t)||!t&&0!==t)return"";e=void 0!==e?e:"$",i=void 0!==i?i:2,s=null!=a.thousandsSeparator?a.thousandsSeparator:",",n=null==a.symbolOnLeft||a.symbolOnLeft,l=null!=a.spaceBetweenAmountAndSymbol&&a.spaceBetweenAmountAndSymbol,o=null!=a.showPlusSign&&a.showPlusSign;var d=function toFixed(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)}(Math.abs(t),i);d=a.decimalSeparator?d.replace(".",a.decimalSeparator):d;var m=i?d.slice(0,-1-i):d,u=m.length%3,v=0<u?m.slice(0,u)+(3<m.length?s:""):"",h=i?d.slice(-1-i):"";return e=l?n?e+" ":" "+e:e,(0<t&&o?"+":"")+(t<0?"-":"")+(e=n?e+v+m.slice(u).replace(c,"$1"+s)+h:v+m.slice(u).replace(c,"$1"+s)+h+e)}function number(t,e,i){var a=this&&this.number?this.number:{};i=i||a;var s=function parseFormat(t){void 0===t&&(t="0");var e=t?t.match(/([\+\-])?([0-9\,]+)?([\.0-9]+)?([a\s]+)?/):["","","","",""],i=e[3],a=i?i.match(/0/g).length:0;return{sign:e[1]||"",base:e[2]||"",decimals:a,unit:e[4]||""}}(e=k.exist(e)?e:a.format),n=function parseNumber(t){return{float:Math.abs(parseFloat(t)),int:Math.abs(parseInt(t)),sign:Math.sign(t)<0?"-":""}}(t),l=null!=i.thousandsSeparator?i.thousandsSeparator:",",o=null!=i.decimalSeparator?i.decimalSeparator:".";if(s.sign=s.sign||n.sign,s.unit){var r=function addUnit(t,e){var i,a=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"}];for(i=a.length-1;0<i&&!(t>=a[i].value);i--);return(t=(t/a[i].value).toFixed(e.decimals).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1"))+e.unit.replace("a",a[i].symbol)}(n.float,s);return s.sign+r}var c=0===s.decimals?toFixed$1(n.float,0):n.int;switch(s.base){case"":c="";break;case"0,0":c=function addSeparator(t,e){var i=/(\d+)(\d{3})/,a=t.toString().split("."),s=a[0],n=1<a.length?"."+a[1]:"";for(;i.test(s);)s=s.replace(i,"$1"+e+"$2");return s+n}(c,l)}var d=function getFraction(t,e,i){var a=toFixed$1(t,e).toString().split(".")[1];return a?i+a:""}(n.float,s.decimals,o);return s.sign+c+d}function toFixed$1(t,e){return(+(Math.round(+(t+"e"+e))+"e"+-e)).toFixed(e)}k.isPlainObject=function(t){return"[object Object]"===w.call(t)};var $,x=normalizeComponent({},void 0,{methods:{formatCurrency:function formatCurrency(t,e,i,a){return void 0===e&&(e=s.main_page.$data.settings.main.currency),void 0===a&&(a={}),self=this,currency(t,self.currencyList[e],i,a)},formatNumber:function formatNumber(t,e,i){return void 0===e&&(e="0,0"),void 0===i&&(i={}),void 0===t?"":number(t,e,i)}},computed:{getCurencySimbol:function getCurencySimbol(){return self=this,self.currencyList[s.main_page.$data.settings.main.currency]}},data:function data(){return{currencyList:b}}},void 0,void 0,void 0,!(k.exist=function(t){return null!=t}),void 0,void 0,void 0),T={props:{item_link:Object},components:{LocationTable:m,PaginationTable:y,TagTable:v,ActivityTable:_},mixins:[x],created:function created(){this.itemId=this.item_link.id,this.itemTitle=this.item_link.name,this.itemDesc=this.item_link.description},computed:{headerBgColor:function headerBgColor(){return{"background-color":this.settings.item.header_color}},highlightedColor:function highlightedColor(){return{color:this.settings.item.highlight_color}},highlightedBgColor:function highlightedBgColor(){return{"background-color":this.settings.item.highlight_color}},fontColor:function fontColor(){return{color:this.settings.item.font_color}},subnavbarStyle:function subnavbarStyle(){return{"background-color":this.settings.item.header_color,color:this.settings.item.font_color}}},methods:{loadItemDetail:function loadItemDetail(){self=this,s.getItemDetail(this.itemId).then(function(t){self.item=t})},itemUpdated:function itemUpdated(t){self=this,self.itemTitle=t.name,self.itemDesc=t.description,s.resetCache("inventory/items/"+self.itemId),self.loadItemDetail()},colorizeHeader:function colorizeHeader(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function colorizeHeaderOut(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function clickEdit(){this.$f7router.navigate("/whs/item-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function beforeDestroy(){this.$events.$off("item:updated",this.itemUpdated)},mounted:function mounted(){this.$events.$on("item:updated",this.itemUpdated),this.loadItemDetail()},data:function data(){return{itemTitle:null,itemDesc:null,itemId:null,itemIndex:null,locations:[],activeTab:"summary",item:{},settings:s.main_page.$data.settings}}},S="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function createInjector(t){return function(t,e){return function addStyle(t,e){var i=S?e.media||"default":t,a=E[i]||(E[i]={ids:new Set,styles:[]});if(!a.ids.has(t)){a.ids.add(t);var s=e.source;if(e.map&&(s+="\n/*# sourceURL="+e.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",e.media&&a.element.setAttribute("media",e.media),void 0===$&&($=document.head||document.getElementsByTagName("head")[0]),$.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(s),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var n=a.ids.size-1,l=document.createTextNode(s),o=a.element.childNodes;o[n]&&a.element.removeChild(o[n]),o.length?a.element.insertBefore(l,o[n]):a.element.appendChild(l)}}}(t,e)}}var E={};function Ma(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",{class:[e.itemDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":e.colorizeHeader,"page:beforeout":e.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",{style:e.fontColor},[e._v(e._s(e.itemTitle))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/item-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(t){return e.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),e._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:e.subnavbarStyle},[e.itemDesc?i("div",{staticClass:"description"},[e._v("\n      "+e._s(e.itemDesc)+"\n    ")]):e._e(),e._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===e.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="summary"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.summary")))]),e._v(" "),"summary"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("locations"===e.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="locations"}}},[i("span",[e._v(e._s(e.settings.location.plural_name))]),e._v(" "),"locations"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("tags"===e.activeTab?"whs-menubar-dynamic-active":""),style:"tags"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="tags"}}},[i("span",[e._v(e._s(e.settings.tag.plural_name))]),e._v(" "),"tags"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("activity"===e.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="activity"}}},[i("span",[e._v(e._s(e.settings.activity.plural_name))]),e._v(" "),"activity"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()])])]),e._v(" "),"summary"===e.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.item.items_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.item.tags_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.tag.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.item.locations_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.location.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.value")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatCurrency(e.item.estimated_value)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.est_total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.expiring")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.item.expiring_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_in")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.item.pending_in_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_out")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.item.pending_out_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])])])]:e._e(),e._v(" "),"locations"===e.activeTab?[i("location-table",{attrs:{loadId:e.itemId,loadIdName:"inventory_item_id",parent:"item"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"item"},slot:"fixed"})]:e._e(),e._v(" "),"tags"===e.activeTab?[i("tag-table",{attrs:{loadId:e.itemId,loadIdName:"inventory_item_id",parent:"item"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"tag",parent:"item"},slot:"fixed"})]:e._e(),e._v(" "),"activity"===e.activeTab?[i("activity-table",{attrs:{loadId:e.itemId,loadIdName:"inventory_item_id",parent:"item"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"item"},slot:"fixed"})]:e._e()],2)}var D=T;Ma._withStripped=!0;function Va(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[a("thead",[a("tr",[i._m(0),i._v(" "),a("th",[i._v(i._s(i.settings.item.plural_name))]),i._v(" "),a("th",[i._v("Description")]),i._v(" "),a("th",[i._v("Current")]),i._v(" "),a("th",[i._v("P.in")]),i._v(" "),a("th",[i._v("P.out")]),i._v(" "),a("th",[i._v(i._s(i.settings.location.plural_name))])])]),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell"}),i._v(" "),a("td",[i._v(i._s(t.name))]),i._v(" "),a("td",[i._v(i._s(t.description))]),i._v(" "),a("td"),i._v(" "),a("td"),i._v(" "),a("td"),i._v(" "),a("td")])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.settings.item.plural_name})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell"},[i._v("_")]),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var I=normalizeComponent({render:Ma,staticRenderFns:[]},function(t){t&&t("data-v-1f4e6ef6_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"item.vue"},media:void 0})},D,void 0,!1,void 0,!1,createInjector,void 0,void 0),P={components:{EmptyBlock:a},props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getItem(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":item:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":item:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":item:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};Va._withStripped=!0;function cb(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",{class:[e.locationDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":e.colorizeHeader,"page:beforeout":e.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",{style:e.fontColor},[e._v(e._s(e.locationTitle))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/location-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(t){return e.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),e._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:e.subnavbarStyle},[e.locationDesc?i("div",{staticClass:"description"},[e._v("\n    "+e._s(e.locationDesc)+"\n    ")]):e._e(),e._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===e.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="summary"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.summary")))]),e._v(" "),"summary"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("items"===e.activeTab?"whs-menubar-dynamic-active":""),style:"items"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="items"}}},[i("span",[e._v(e._s(e.settings.item.plural_name))]),e._v(" "),"items"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("tags"===e.activeTab?"whs-menubar-dynamic-active":""),style:"tags"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="tags"}}},[i("span",[e._v(e._s(e.settings.tag.plural_name))]),e._v(" "),"tags"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("locations"===e.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="locations"}}},[i("span",[e._v(e._s(e.settings.location.plural_name))]),e._v(" "),"locations"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("activity"===e.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="activity"}}},[i("span",[e._v(e._s(e.settings.activity.plural_name))]),e._v(" "),"activity"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()])])]),e._v(" "),"summary"===e.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatCurrency(e.location.items_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.location.tags_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.tag.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.location.sub_locations_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.location.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v("Capacity")])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("f7-gauge",{attrs:{type:"semicircle",size:"100","value-font-size":"18","value-font-weight":"medium","value-text-color":e.settings.location.font_color,value:e.location.capacity,"value-text":"0%","border-color":e.settings.location.highlight_color}})],1)]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.value")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[e._v(e._s(e.formatCurrency(e.location.estimated_value)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.est_total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.expiring")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.location.expiring_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_in")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[e._v(e._s(e.formatNumber(e.location.pending_in_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_out")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value"},[e._v(e._s(e.formatNumber(e.location.pending_out_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v("Low stock")])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.location.low_stock_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])])])]:e._e(),e._v(" "),"items"===e.activeTab?[i("item-table",{attrs:{loadId:e.locationId,loadIdName:"inventory_location_id",parent:"location"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"item",parent:"location"},slot:"fixed"})]:e._e(),e._v(" "),"locations"===e.activeTab?[i("location-table",{attrs:{loadId:e.locationId,loadIdName:"inventory_location_id",parent:"location"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"location"},slot:"fixed"})]:e._e(),e._v(" "),"tags"===e.activeTab?[i("tag-table",{attrs:{loadId:e.locationId,loadIdName:"inventory_location_id",parent:"location"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"tag",parent:"location"},slot:"fixed"})]:e._e(),e._v(" "),"activity"===e.activeTab?[i("activity-table",{attrs:{loadId:e.locationId,loadIdName:"inventory_location_id",parent:"location"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"location"},slot:"fixed"})]:e._e()],2)}var R=normalizeComponent({render:Va,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",{staticClass:"sort-cell"},[e("a",{staticClass:"link"},[e("i",{staticClass:"whs-icon whs-icon-sort-black"})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,P,void 0,!1,void 0,!1,void 0,void 0,void 0),B={props:{item_link:Object},components:{LocationTable:m,PaginationTable:y,TagTable:v,ActivityTable:_,ItemTable:R},mixins:[x],created:function created(){this.locationId=this.item_link.id,this.locationTitle=this.item_link.name,this.locationDesc=this.item_link.description,this.loadLocationDetail()},computed:{headerBgColor:function headerBgColor(){return{"background-color":this.settings.location.header_color}},highlightedColor:function highlightedColor(){return{color:this.settings.location.highlight_color}},highlightedBgColor:function highlightedBgColor(){return{"background-color":this.settings.location.highlight_color}},fontColor:function fontColor(){return{color:this.settings.location.font_color}},subnavbarStyle:function subnavbarStyle(){return Object.assign(this.headerBgColor,this.fontColor)}},methods:{loadLocationDetail:function loadLocationDetail(){self=this,s.getLocationDetail(this.locationId).then(function(t){self.location=t})},locationUpdated:function locationUpdated(t){self=this,self.locationTitle=t.name,self.locationDesc=t.description,s.resetCache("inventory/locations/"+self.locationId),self.loadLocationDetail()},colorizeHeader:function colorizeHeader(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function colorizeHeaderOut(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function clickEdit(){this.$f7router.navigate("/whs/location-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function beforeDestroy(){this.$events.$off("location:updated",this.locationUpdated)},mounted:function mounted(){this.$events.$on("location:updated",this.locationUpdated)},data:function data(){return{locationTitle:null,locationDesc:null,locationId:null,locationIndex:null,activeTab:"summary",location:{},settings:s.main_page.$data.settings}}};cb._withStripped=!0;function lb(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",{staticClass:"whs-details-page",on:{"page:beforein":e.colorizeHeader,"page:beforeout":e.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",{style:e.fontColor},[e._v(e._s(e.tagTitle))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/tag-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(t){return e.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),e._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:e.subnavbarStyle},[i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===e.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="summary"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.summary")))]),e._v(" "),"summary"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("items"===e.activeTab?"whs-menubar-dynamic-active":""),style:"items"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="items"}}},[i("span",[e._v(e._s(e.settings.item.plural_name))]),e._v(" "),"items"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("locations"===e.activeTab?"whs-menubar-dynamic-active":""),style:"locations"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="locations"}}},[i("span",[e._v(e._s(e.settings.location.plural_name))]),e._v(" "),"locations"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("activity"===e.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="activity"}}},[i("span",[e._v(e._s(e.settings.activity.plural_name))]),e._v(" "),"activity"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()])])]),e._v(" "),"summary"===e.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-box"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.tag.tags_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-tag"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.tag.tags_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.tag.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("i",{staticClass:"icon whs-icon-drawer"})]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.tag.locations_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label uppercase",style:e.fontColor},[e._v(e._s(e.settings.location.plural_name))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.value")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatCurrency(e.tag.estimated_value)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.est_total")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.expiring")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.tag.expiring_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_in")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.tag.pending_in_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_out")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.tag.pending_out_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])])])]:e._e(),e._v(" "),"items"===e.activeTab?[i("item-table",{attrs:{loadId:e.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"item",parent:"tag"},slot:"fixed"})]:e._e(),e._v(" "),"locations"===e.activeTab?[i("location-table",{attrs:{loadId:e.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"location",parent:"tag"},slot:"fixed"})]:e._e(),e._v(" "),"activity"===e.activeTab?[i("activity-table",{attrs:{loadId:e.tagId,loadIdName:"inventory_tag_id",parent:"tag"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"tag"},slot:"fixed"})]:e._e()],2)}var M=normalizeComponent({render:cb,staticRenderFns:[]},void 0,B,void 0,!1,void 0,!1,void 0,void 0,void 0),A={props:{item_link:Object},components:{LocationTable:m,PaginationTable:y,ActivityTable:_,ItemTable:R},mixins:[x],created:function created(){this.tagId=this.item_link.id,this.tagTitle=this.item_link.name,this.tagDesc=this.item_link.description,this.loadTagDetail()},computed:{headerBgColor:function headerBgColor(){return{"background-color":this.settings.tag.header_color}},highlightedColor:function highlightedColor(){return{color:this.settings.tag.highlight_color}},highlightedBgColor:function highlightedBgColor(){return{"background-color":this.settings.tag.highlight_color}},fontColor:function fontColor(){return{color:this.settings.tag.font_color}},subnavbarStyle:function subnavbarStyle(){return Object.assign(this.headerBgColor,this.fontColor)}},methods:{loadTagDetail:function loadTagDetail(){self=this,s.getTagDetail(this.tagId).then(function(t){self.tag=t})},tagUpdated:function tagUpdated(t){self=this,self.tagTitle=t.name,self.tagDesc=t.description,s.resetCache("inventory/tags/"+self.tagId),self.loadTagDetail()},colorizeHeader:function colorizeHeader(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function colorizeHeaderOut(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function clickEdit(){this.$f7router.navigate("/whs/tag-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function beforeDestroy(){this.$events.$off("tag:updated",this.tagUpdated)},mounted:function mounted(){this.$events.$on("tag:updated",this.tagUpdated)},data:function data(){return{tagTitle:null,tagDesc:null,tagId:null,tagIndex:null,locations:[],items:[],activeTab:"summary",tag:{},settings:s.main_page.$data.settings}}};lb._withStripped=!0;function ub(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[i._m(0),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell media-cell-image",style:[t.image?{"background-image":"url("+t.image+")"}:i.teamStyle]}),i._v(" "),a("td",[i._v(i._s(t.name))]),i._v(" "),a("td"),i._v(" "),a("td"),i._v(" "),a("td")])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.$t("whs.summary_page.roles")})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell media-cell-image"}),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var L=normalizeComponent({render:lb,staticRenderFns:[]},function(t){t&&t("data-v-9df17bca_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"tag.vue"},media:void 0})},A,void 0,!1,void 0,!1,createInjector,void 0,void 0),V={components:{EmptyBlock:a},mixins:[o],props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getRoles(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":tag:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":tag:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":tag:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};ub._withStripped=!0;function Db(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",{class:[e.teamDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":e.colorizeHeader,"page:beforeout":e.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",{style:e.fontColor},[e._v(e._s(e.teamTitle))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/team-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(t){return e.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),e._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:e.subnavbarStyle},[e.teamDesc?i("div",{staticClass:"description"},[e._v("\n      "+e._s(e.teamDesc)+"\n    ")]):e._e(),e._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===e.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="summary"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.summary")))]),e._v(" "),"summary"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("role"===e.activeTab?"whs-menubar-dynamic-active":""),style:"role"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="role"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.roles")))]),e._v(" "),"role"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("activity"===e.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="activity"}}},[i("span",[e._v(e._s(e.settings.activity.plural_name))]),e._v(" "),"activity"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()])])]),e._v(" "),"summary"===e.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.open")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.team.open_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.due")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.team.due_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.overdue")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.team.overdue_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_in")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.team.pending_in_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_out")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.team.pending_out_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.relocations")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.team.relocations_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.locations")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.movements")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.team.movements_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.stocktakes")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.team.stocktakes_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])])])]:e._e(),e._v(" "),"role"===e.activeTab?[i("role-table",{attrs:{loadId:e.teamId,loadIdName:"inventory_team_members_id",parent:"team"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"role",parent:"team"},slot:"fixed"})]:e._e(),e._v(" "),"activity"===e.activeTab?[i("activity-table",{attrs:{loadId:e.teamId,loadIdName:"inventory_team_members_id",parent:"team"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"team"},slot:"fixed"})]:e._e()],2)}var H=normalizeComponent({render:ub,staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Done")]),t._v(" "),i("th",[t._v("Open")]),t._v(" "),i("th",[t._v("Due")]),t._v(" "),i("th",[t._v("Overdue")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,V,void 0,!1,void 0,!1,void 0,void 0,void 0),N={props:{item_link:Object},components:{PaginationTable:y,ActivityTable:_,RoleTable:H},mixins:[x],created:function created(){this.teamId=this.item_link.id,this.teamTitle=this.item_link.first_name+" "+this.item_link.last_name,this.teamDesc=this.item_link.description},computed:{headerBgColor:function headerBgColor(){return{"background-color":this.settings.team.header_color}},highlightedColor:function highlightedColor(){return{color:this.settings.team.highlight_color}},highlightedBgColor:function highlightedBgColor(){return{"background-color":this.settings.team.highlight_color}},fontColor:function fontColor(){return{color:this.settings.team.font_color}},subnavbarStyle:function subnavbarStyle(){return{"background-color":this.settings.team.header_color,color:this.settings.team.font_color}}},methods:{loadDetail:function loadDetail(){self=this,s.getTeamDetail(this.teamId).then(function(t){self.team=t})},teamUpdated:function teamUpdated(t){self=this,self.teamTitle=t.name,self.teamDesc=t.description,s.resetCache("inventory/teams/"+self.teamId),self.loadDetail()},colorizeHeader:function colorizeHeader(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function colorizeHeaderOut(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function clickEdit(){this.$f7router.navigate("/whs/team-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function beforeDestroy(){this.$events.$off("team:updated",this.teamUpdated)},mounted:function mounted(){this.$events.$on("team:updated",this.teamUpdated),this.loadDetail()},data:function data(){return{teamTitle:null,teamDesc:null,teamId:null,teamIndex:null,locations:[],activeTab:"summary",team:{},settings:s.main_page.$data.settings}}};Db._withStripped=!0;function Mb(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"whs-table-container"},[i.loaded?[0<i.data.length?a("div",{staticClass:"whs-table"},[a("table",[i._m(0),i._v(" "),a("tbody",i._l(i.data,function(t,e){return a("tr",{key:"item_"+e},[a("td",{staticClass:"media-cell media-cell-image",style:[t.icon_url?{"background-image":"url("+t.icon_url+")"}:i.teamStyle]}),i._v(" "),a("td",[i._v(i._s(t.first_name)+" "+i._s(t.last_name))]),i._v(" "),a("td"),i._v(" "),a("td"),i._v(" "),a("td"),i._v(" "),a("td")])}),0)])]):i._e(),i._v(" "),0===i.data.length?a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.$t("whs.summary_page.roles")})}}):i._e()]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("div",{staticClass:"whs-table skeleton-text skeleton-effect-blink"},[a("table",[i._m(1),i._v(" "),a("tbody",i._l(12,function(t){return a("tr",{key:"skeleton_item_"+t},[a("td",{staticClass:"media-cell media-cell-image"}),i._v(" "),a("td",[i._v("___________")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("_____")]),i._v(" "),a("td",[i._v("____")])])}),0)])])])]],2)}var z=normalizeComponent({render:Db,staticRenderFns:[]},function(t){t&&t("data-v-7c11089c_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"team.vue"},media:void 0})},N,void 0,!1,void 0,!1,createInjector,void 0,void 0),U={components:{EmptyBlock:a},mixins:[o],props:{loadId:Number,loadIdName:String,parent:String},data:function data(){return{data:[],settings:s.main_page.$data.settings,page:1,loaded:!1}},methods:{loadData:function loadData(){var e=this,t={};t[e.loadIdName]=e.loadId,s.getTeam(t).then(function(t){e.data=t,e.loaded=!0}),e.$events.$emit("pagination:"+e.parent+":team:set",{total:12,rows:39})},changePagination:function changePagination(t){this.loaded=!1,this.loadData(t)}},created:function created(){this.$events.$on("pagination:"+this.parent+":team:change",this.changePagination)},beforeDestroy:function beforeDestroy(){this.$events.$off("pagination:"+this.parent+":team:change",this.changePagination)},mounted:function mounted(){self=this,self.loadData()}};Mb._withStripped=!0;function Vb(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",{class:[e.roleDesc?"whs-details-page-description":"","whs-details-page"],on:{"page:beforein":e.colorizeHeader,"page:beforeout":e.colorizeHeaderOut}},[i("f7-navbar",{attrs:{innerClass:"whs-details-navbar-inner"}},[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",{style:e.fontColor},[e._v(e._s(e.roleTitle))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":"",href:"/whs/role-add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),i("f7-link",{attrs:{"icon-only":""},on:{click:function(t){return e.clickEdit()}}},[i("f7-icon",{attrs:{f7:"gear"}})],1)],1)],1),e._v(" "),i("f7-subnavbar",{staticClass:"no-hairline",style:e.subnavbarStyle},[e.roleDesc?i("div",{staticClass:"description"},[e._v("\n      "+e._s(e.roleDesc)+"\n    ")]):e._e(),e._v(" "),i("div",{staticClass:"whs-menubar whs-menubar-labels no-swipe-panel"},[i("a",{class:"link "+("summary"===e.activeTab?"whs-menubar-dynamic-active":""),style:"summary"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="summary"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.summary")))]),e._v(" "),"summary"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("team"===e.activeTab?"whs-menubar-dynamic-active":""),style:"tean"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="team"}}},[i("span",[e._v(e._s(e.$t("whs.summary_page.team")))]),e._v(" "),"team"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()]),e._v(" "),i("a",{class:"link "+("activity"===e.activeTab?"whs-menubar-dynamic-active":""),style:"activity"===e.activeTab?e.highlightedColor:{},on:{click:function(t){e.activeTab="activity"}}},[i("span",[e._v(e._s(e.settings.activity.plural_name))]),e._v(" "),"activity"===e.activeTab?i("div",{staticClass:"after-line",style:e.highlightedBgColor}):e._e()])])]),e._v(" "),"summary"===e.activeTab?[i("div",{staticClass:"whs-summary-cards"},[i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.open")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.role.open_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.due")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.role.due_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.overdue")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.highlightedColor},[e._v(e._s(e.formatNumber(e.role.overdue_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.activities")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_in")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.role.pending_in_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.pending_out")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.role.pending_out_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.relocations")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.role.relocations_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.locations")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.movements")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.role.movements_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])]),e._v(" "),i("div",{staticClass:"whs-summary-card"},[i("div",{staticClass:"whs-summary-card-left"},[i("div",{staticClass:"whs-summary-card-title"},[e._v(e._s(e.$t("whs.summary_page.stocktakes")))])]),e._v(" "),i("div",{staticClass:"whs-summary-card-right"},[i("div",{staticClass:"whs-summary-card-value",style:e.fontColor},[e._v(e._s(e.formatNumber(e.role.stocktakes_count)))]),e._v(" "),i("div",{staticClass:"whs-summary-card-label",style:e.fontColor},[e._v(e._s(e.$t("whs.summary_page.items")))])])])])]:e._e(),e._v(" "),"team"===e.activeTab?[i("team-table",{attrs:{loadId:e.roleId,loadIdName:"inventory_role_id",parent:"role"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"team",parent:"role"},slot:"fixed"})]:e._e(),e._v(" "),"activity"===e.activeTab?[i("activity-table",{attrs:{loadId:e.roleId,loadIdName:"inventory_role_id",parent:"role"}}),e._v(" "),i("pagination-table",{attrs:{slot:"fixed",link:"activity",parent:"role"},slot:"fixed"})]:e._e()],2)}var j=normalizeComponent({render:Mb,staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("Team Member")]),t._v(" "),i("th",[t._v("Done")]),t._v(" "),i("th",[t._v("Open")]),t._v(" "),i("th",[t._v("Due")]),t._v(" "),i("th",[t._v("Overdue")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"sort-cell"},[i("a",{staticClass:"link"},[i("i",{staticClass:"whs-icon whs-icon-sort-black"})])]),t._v(" "),i("th",[t._v("________")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("______")]),t._v(" "),i("th",[t._v("____")])])])}]},void 0,U,void 0,!1,void 0,!1,void 0,void 0,void 0),Y={props:{item_link:Object},components:{PaginationTable:y,ActivityTable:_,TeamTable:j},mixins:[x],created:function created(){this.roleId=this.item_link.id,this.roleTitle=this.item_link.name,this.roleDesc=this.item_link.description},computed:{headerBgColor:function headerBgColor(){return{"background-color":this.settings.role.header_color}},highlightedColor:function highlightedColor(){return{color:this.settings.role.highlight_color}},highlightedBgColor:function highlightedBgColor(){return{"background-color":this.settings.role.highlight_color}},fontColor:function fontColor(){return{color:this.settings.role.font_color}},subnavbarStyle:function subnavbarStyle(){return{"background-color":this.settings.role.header_color,color:this.settings.role.font_color}}},methods:{loadDetail:function loadDetail(){self=this,s.getRoleDetail(this.roleId).then(function(t){self.role=t})},roleUpdated:function roleUpdated(t){self=this,self.roleTitle=t.name,self.roleDesc=t.description,s.resetCache("inventory/roles/"+self.roleId),self.loadDetail()},colorizeHeader:function colorizeHeader(){this.$f7.$(".whs-details-navbar-inner").css(this.headerBgColor)},colorizeHeaderOut:function colorizeHeaderOut(){this.$f7.$(".whs-details-navbar-inner").css("background-color","#F5F5F5")},clickEdit:function clickEdit(){this.$f7router.navigate("/whs/role-add/",{props:{item_link:this.item_link}})}},beforeDestroy:function beforeDestroy(){this.$events.$off("role:updated",this.roleUpdated)},mounted:function mounted(){this.$events.$on("role:updated",this.roleUpdated),this.loadDetail()},data:function data(){return{roleTitle:null,roleDesc:null,roleId:null,roleIndex:null,locations:[],activeTab:"summary",role:{},settings:s.main_page.$data.settings}}};Vb._withStripped=!0;function cc(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",{staticClass:"item-content whs-form-images-picker"},[i.lineWithActions?a("div",{staticClass:"item-inner justify-content-flex-end align-items-center"},[a("label",{staticClass:"link"},[a("input",{attrs:{type:"file",multiple:i.multiple,accept:"image/*"},on:{change:i.onFilesChange}}),i._v(" "),a("i",{staticClass:"f7-icons"},[i._v("images")])]),i._v(" "),i._m(0)]):i._e(),i._v(" "),i.previews.length||!i.lineWithActions?a("div",{staticClass:"whs-form-images-previews"},[i._l(i.previews,function(t,e){return a("div",{key:e,staticClass:"whs-form-images-preview",style:"background-image: url("+t+")"},[a("a",{on:{click:function(t){return i.deleteFile(e)}}},[a("i",{staticClass:"f7-icons"},[i._v("close")])])])}),i._v(" "),!i.lineWithActions&&!i.multiple&&i.previews.length<1?a("label",{staticClass:"whs-form-images-add-button"},[a("input",{attrs:{type:"file",multiple:i.multiple,accept:"image/*"},on:{change:i.onFilesChange}}),i._v(" "),a("i",{staticClass:"f7-icons"},[i._v("camera")]),i._v(" "),a("span",[i._v(i._s(i.$t("whs.common.add_photo_label")))])]):i._e()],2):i._e()])}var G=normalizeComponent({render:Vb,staticRenderFns:[]},function(t){t&&t("data-v-20844150_0",{source:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",map:{version:3,sources:[],names:[],mappings:"",file:"role.vue"},media:void 0})},Y,void 0,!1,void 0,!1,createInjector,void 0,void 0),K={props:{lineWithActions:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1}},data:function data(){return{files:[],previews:[]}},methods:{onFilesChange:function onFilesChange(t){var a=this,s=t.target.files;if(s.length){function To(t){var e=s[t],i=new FileReader;i.onload=function(){a.files.push(e),a.previews.push(i.result)},i.readAsDataURL(e)}for(var e=0;e<s.length;e+=1)To(e)}},deleteFile:function deleteFile(t){this.files.splice(t,1),this.previews.splice(t,1)}}};cc._withStripped=!0;function lc(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",[0==i.selected.length||i.multiply?a("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:i.openSelector}},[i._m(0),i._v(" "),a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[i._v(i._s(i.$t("whs.common.dynamic_search_placeholder",{text:i.settings.tag.name})))])])]):i._e(),i._v(" "),a("ul",{staticClass:"tag-items whs-picker-selected-list"},i._l(i.selected,function(e,t){return a("li",{key:t,staticClass:"tag-item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:i.tagStyle]}),i._v(" "),a("div",{staticClass:"item-title"},[i._v(i._s(e.name))]),i._v(" "),a("div",{staticClass:"item-after"},[a("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(t){return i.removeItem(e.id,e.pseudo_type)}}},[a("i",{staticClass:"material-icons"},[i._v("close")])])])])])])}),0)])}var q=normalizeComponent({render:cc,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"link"},[e("i",{staticClass:"f7-icons"},[this._v("camera")])])}]},void 0,K,void 0,!1,void 0,!1,void 0,void 0,void 0),W={props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[o],data:function data(){return{settings:s.main_page.$data.settings}},methods:{openSelector:function openSelector(){var i=this;i.$f7router.navigate("/whs/select-picker/",{props:{selected:i.selected,pageTitle:i.$t("whs.common.dynamic_select_title",{text:i.settings.tag.name}),multiply:i.multiply,getData:i.getData,type:"tag",multiply:i.multiply,onChange:function onChange(t,e){e?(i.$emit("itemAdd",t),i.addItem(t)):(i.$emit("itemRemove",t),i.deleteItem(t))}}})},getData:function getData(e){s.getTags().then(function(t){t.forEach(function(t,e){t.pseudo_type="tag"}),Object.assign(e.targets,t),console.log("TCL: getData -> self.targets",e.targets),e.loaded=!0,e.createSearchbar()})},addItem:function addItem(t){self=this,self.multiply||self.selected.splice(0,99),self.selected.push(t),self.$emit("selected:change",self.selected)},deleteItem:function deleteItem(e){self=this;var t=self.selected.findIndex(function(t){return t.id===e.id&&t.pseudo_type===e.pseudo_type});self.selected.splice(t,1),self.$emit("selected:change",self.selected)},removeItem:function removeItem(e,i){var t=this.selected.findIndex(function(t){return t.id===e&&t.pseudo_type===i});this.selected.splice(t,1),this.$emit("selected:change",this.selected)}}};lc._withStripped=!0;function Bc(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.title))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:e.addItem}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),e._v(" "),e.editId?e._e():i("a",{staticClass:"whs-toolbar-button",attrs:{slot:"fixed"},on:{click:function(){e.addItem(!0)}},slot:"fixed"},[e._v(e._s(e.$t("whs.form_add.add_more_button",{text:e.settings.item.name})))]),e._v(" "),i("form",{staticClass:"list",attrs:{id:"add-item",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("form-images-picker",{attrs:{lineWithActions:!1}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n          "+e._s(e.$t("whs.common.name_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",name:"name",required:"",validate:"","error-message":e.$t("whs.common.required_name_error"),value:e.item.name,placeholder:e.$t("whs.common.required_placeholder")},on:{input:function(t){e.item.name=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-barcode"}),e._v("\n          "+e._s(e.$t("whs.common.sku_barcode_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",name:"sku",value:e.item.sku,placeholder:e.$t("whs.common.sku_barcode_placeholder")},on:{input:function(t){e.item.sku=t.target.value}}},[i("a",{staticClass:"link whs-form-barcode-link",attrs:{slot:"input"},slot:"input"},[i("i",{staticClass:"whs-icon whs-icon-barcode"})])]),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dollar"}),e._v("\n          "+e._s(e.$t("whs.common.price_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"number",name:"price",value:e.item.price,placeholder:e.$t("whs.common.price_placeholder")},on:{input:function(t){e.item.price=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-hash"}),e._v("\n          "+e._s(e.settings.tag.name)+"\n        ")]),e._v(" "),i("tags-picker"),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1"}),e._v("\n          "+e._s(e.$t("whs.common.minimum_stock_level_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"number",name:"min_stock_level",value:e.item.min_stock_level,placeholder:e.$t("whs.common.minimum_stock_level_placeholder")},on:{input:function(t){e.item.min_stock_level=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),e._v("\n          "+e._s(e.$t("whs.common.quantity_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"number",name:"quantity",value:e.item.quantity,placeholder:e.$t("whs.common.quantity_placeholder")},on:{input:function(t){e.item.quantity=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-text"}),e._v("\n          "+e._s(e.$t("whs.common.description_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"textarea",resizable:"",name:"description",value:e.item.description,placeholder:e.$t("whs.common.description_placeholder")},on:{input:function(t){e.item.description=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-check"}),e._v("\n          "+e._s(e.$t("whs.common.storage_label"))+"\n        ")]),e._v(" "),i("f7-list-item",{staticClass:"whs-type-selector",attrs:{"smart-select":"",title:" ","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",closeOnSelect:!0,pageTitle:e.$t("whs.common.options_title"),valueEl:".whs-type-selector .item-title",cssClass:"whs-type-options"}}},[i("select",{attrs:{name:"storage_type"},on:{change:function(t){e.item.storage_type=t.target.value}}},[i("option",{attrs:{value:"unspecified"},domProps:{selected:"unspecified"===e.item.storage_type||""===e.item.storage_type}},[e._v(e._s(e.$t("whs.form_add.item_options.unspecified")))]),e._v(" "),i("option",{attrs:{value:"freezer"},domProps:{selected:"freezer"===e.item.storage_type}},[e._v(e._s(e.$t("whs.form_add.item_options.freezer")))]),e._v(" "),i("option",{attrs:{value:"ambient"},domProps:{selected:"ambient"===e.item.storage_type}},[e._v(e._s(e.$t("whs.form_add.item_options.ambient")))])])])],1)])],1),e._v(" "),e.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(t){return e.deleteDialog()}}},[e._v(e._s(e.$t("whs.common.delete")))])],1):e._e()],1)}var Z=normalizeComponent({render:lc,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}]},void 0,W,void 0,!1,void 0,!1,void 0,void 0,void 0),J=normalizeComponent({},void 0,{methods:{alertDialog:function alertDialog(t,e,i,a){void 0===a&&(a=null),this.$f7.dialog.create({title:t,text:e,cssClass:a,buttons:[{text:i,cssClass:"dialog-button-bold",keyCodes:[13]}]}).open()},confirmDialog:function confirmDialog(t,e,i,a,s,n,l){void 0===l&&(l=null),this.$f7.dialog.create({title:t,text:e,cssClass:l,buttons:[{text:a,keyCodes:[27],onClick:function(){"function"==typeof n&&n()}},{text:i,cssClass:"dialog-button-bold",keyCodes:[13],onClick:function(){"function"==typeof s&&s()}}]}).open()}}},void 0,void 0,void 0,!1,void 0,void 0,void 0),Q={props:{item_link:Object},components:{FormImagesPicker:q,TagsPicker:Z},mixins:[J],created:function created(){this.item_link&&(this.editId=this.item_link.id,this.item=Object.assign({},this.item_link))},computed:{title:function title(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.item.name}):this.$t("whs.form_add.title",{text:this.settings.item.name})}},methods:{addItem:function addItem(t){var e=this,i=this;if(!this.$f7.$("#add-item")[0].checkValidity())return this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok")),!1;this.editId?(this.item=this.setDefaults(this.item),s.editItem(this.item,this.editId).then(function(){i.$events.$emit("item:updated",e.item),i.$f7router.back(),s.toast(i.$t("whs.toast.edit",{text:e.settings.item.name}))})):(this.item=s.removeEmpty(this.item),s.createItem(this.item).then(function(){i.$events.$emit("item:aded",e.item),!0===t?i.item=s.clearObject(i.item):i.$f7router.back(),s.toast(i.$t("whs.toast.add",{text:e.settings.item.name}))}))},deleteItem:function deleteItem(){var t=this;s.deleteItem(this.editId).then(function(){self.$events.$emit("item:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),s.toast(self.$t("whs.toast.delete",{text:t.settings.item.name}))})},deleteDialog:function deleteDialog(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteItem)},setDefaults:function setDefaults(t){for(key in self=this,self.default_item)null!==t[key]&&""!==t[key]||(t[key]=self.default_item[key]);return t}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){},data:function data(){return{item:{name:null,sku:null,price:null,quantity:null,min_stock_level:null,description:null,storage_type:null,image:null},editId:null,indexEdit:null,default_item:{price:0,width:0,depth:0,weight:0,quantity:0,min_stock_level:0},settings:s.main_page.$data.settings}}};Bc._withStripped=!0;function Kc(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.title))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[e.editId?e._e():i("f7-link",{attrs:{"icon-only":""},on:{click:e.addTag}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),e._v(" "),i("form",{staticClass:"list",attrs:{id:"add-tag",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n          "+e._s(e.$t("whs.common.name_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",name:"name",required:"",validate:"","error-message":e.$t("whs.common.required_name_error"),value:e.tag.name,placeholder:e.$t("whs.common.required_placeholder")},on:{input:function(t){e.tag.name=t.target.value}}})],1)])],1),e._v(" "),e.editId?i("div",{staticClass:"whs-form-delete",staticStyle:{position:"absolute",bottom:"0",left:"50%"}},[i("f7-link",{staticClass:"delete",staticStyle:{left:"-50%"},on:{click:function(t){return e.deleteDialog()}}},[e._v(e._s(e.$t("whs.common.delete")))])],1):e._e()],1)}var tt=normalizeComponent({render:Bc,staticRenderFns:[]},void 0,Q,void 0,!1,void 0,!1,void 0,void 0,void 0),et={props:{item_link:Object},components:{FormImagesPicker:q},mixins:[J],created:function created(){this.item_link&&(this.editId=this.item_link.id,this.tag=Object.assign({},this.item_link))},computed:{title:function title(){return this.editId?this.$t("whs.form_add.title_delete",{text:this.settings.tag.name}):this.$t("whs.form_add.title",{text:this.settings.tag.name})}},methods:{addTag:function addTag(){var t=this;(self=this).$f7.$("#add-tag")[0].checkValidity()?this.editId?s.editTag(this.tag,this.editId).then(function(){self.$events.$emit("tag:updated",t.tag),self.$f7router.back(),s.toast(self.$t("whs.toast.edit",{text:t.settings.tag.name}))}):(this.tag=s.removeEmpty(this.tag),s.createTag(this.tag).then(function(){self.$events.$emit("tag:aded",t.tag),self.$f7router.back(),s.toast(self.$t("whs.toast.add",{text:t.settings.tag.name}))})):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok"))},deleteTag:function deleteTag(){var t=this;s.deleteTag(this.editId).then(function(){self.$events.$emit("tag:deleted",t.tag),self.$f7router.back("/whs/",{force:!0}),s.toast(self.$t("whs.toast.delete",{text:t.settings.tag.name}))})},deleteDialog:function deleteDialog(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteTag)}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){},data:function data(){return{tag:{name:null},editId:null,indexEdit:null,settings:s.main_page.$data.settings}}};Kc._withStripped=!0;function Tc(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",[0==i.selected.length||i.multiply?a("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:i.openSelector}},[i._m(0),i._v(" "),a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[i._v(i._s(i.$t("whs.common.dynamic_search_placeholder",{text:i.settings.location.name})))])])]):i._e(),i._v(" "),a("ul",{staticClass:"location-items whs-picker-selected-list"},i._l(i.selected,function(e,t){return a("li",{key:t,staticClass:"location-item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:i.locationStyle]}),i._v(" "),a("div",{staticClass:"item-title"},[i._v(i._s(e.name))]),i._v(" "),a("div",{staticClass:"item-after"},[a("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(t){return i.removeItem(e.id,e.pseudo_type)}}},[a("i",{staticClass:"material-icons"},[i._v("close")])])])])])])}),0)])}var it=normalizeComponent({render:Kc,staticRenderFns:[]},void 0,et,void 0,!1,void 0,!1,void 0,void 0,void 0),at={props:{loadSelect:{type:Array},multiply:{type:Boolean,default:!0}},mixins:[o],data:function data(){return{selected:[],settings:s.main_page.$data.settings}},methods:{openSelector:function openSelector(){var i=this;i.$f7router.navigate("/whs/select-picker/",{props:{selected:i.selected,pageTitle:i.$t("whs.common.dynamic_select_title",{text:i.settings.location.name}),multiply:i.multiply,getData:i.getData,type:"location",multiply:i.multiply,onChange:function onChange(t,e){e?(i.$emit("itemAdd",t),i.addItem(t)):(i.$emit("itemRemove",t),i.deleteItem(t))}}})},getData:function getData(e){s.getLocations().then(function(t){t.forEach(function(t,e){t.pseudo_type="location"}),Object.assign(e.targets,t),console.log("TCL: getData -> self.targets",e.targets),e.loaded=!0,e.createSearchbar()})},addItem:function addItem(t){self=this,self.multiply||self.selected.splice(0,99),self.selected.push(t),self.$emit("selected:change",self.selected)},deleteItem:function deleteItem(e){self=this;var t=self.selected.findIndex(function(t){return t.id===e.id&&t.pseudo_type===e.pseudo_type});self.selected.splice(t,1),self.$emit("selected:change",self.selected)},removeItem:function removeItem(e,i){var t=this.selected.findIndex(function(t){return t.id===e&&t.pseudo_type===i});this.selected.splice(t,1),this.$emit("selected:change",this.selected)},locationLoadSelect:function locationLoadSelect(){self=this,self.loadSelect&&self.loadSelect.forEach(function(t){null!==t&&s.getLocationDetail(t,!1).then(function(t){t.pseudo_type="location",self.selected.push(t)})})}},mounted:function mounted(){self=this,self.locationLoadSelect()}};Tc._withStripped=!0;function ad(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.title))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:e.addLocation}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),e._v(" "),i("form",{staticClass:"list",attrs:{id:"add-location",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("form-images-picker",{attrs:{lineWithActions:!1}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n          "+e._s(e.$t("whs.common.name_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",name:"name",required:"",validate:"","error-message":e.$t("whs.common.required_name_error"),value:e.location.name,placeholder:e.$t("whs.common.required_placeholder")},on:{input:function(t){e.location.name=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-barcode"}),e._v("\n          "+e._s(e.$t("whs.common.sku_barcode_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",name:"sku",value:e.location.sku,placeholder:e.$t("whs.common.sku_barcode_placeholder")},on:{input:function(t){e.location.sku=t.target.value}}},[i("a",{staticClass:"link whs-form-barcode-link",attrs:{slot:"input"},slot:"input"},[i("i",{staticClass:"whs-icon whs-icon-barcode"})])]),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),e._v("\n          "+e._s(e.$t("whs.common.parent_location_label"))+"\n        ")]),e._v(" "),i("location-picker",{attrs:{multiply:!1,loadSelect:[e.location.parent_location_id]},on:{"selected:change":e.parentLocationChange}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-text"}),e._v("\n          "+e._s(e.$t("whs.common.description_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{type:"textarea",resizable:"",name:"description",value:e.location.description,placeholder:e.$t("whs.common.description_placeholder")},on:{input:function(t){e.location.description=t.target.value}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1"}),e._v("\n          "+e._s(e.$t("whs.common.pallet_capacity_label"))+"\n        ")]),e._v(" "),i("f7-list-item",{attrs:{title:String(e.location.pallet_capacity)}},[i("f7-stepper",{attrs:{value:e.location.pallet_capacity,step:1,autorepeat:!0,"autorepeat-dynamic":!0,min:0,max:1e18,"buttons-only":"",color:"gray"},on:{"stepper:change":function(t){e.location.pallet_capacity=t}}})],1),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-hash"}),e._v("\n          "+e._s(e.settings.tag.name)+"\n        ")]),e._v(" "),i("tags-picker"),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-toggle"}),e._v("\n          "+e._s(e.$t("whs.common.active_location_label",{text:e.settings.location.name}))+"\n        ")]),e._v(" "),i("f7-list-item",[i("f7-toggle",{attrs:{slot:"after",checked:e.location.active},on:{"toggle:change":function(t){e.location.active=t}},slot:"after"})],1),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-check"}),e._v("\n          "+e._s(e.$t("whs.common.location_category_label",{text:e.settings.location.name}))+"\n        ")]),e._v(" "),i("f7-list-item",{staticClass:"whs-type-selector",attrs:{"smart-select":"",title:" ","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",closeOnSelect:!0,pageTitle:e.$t("whs.common.options_title"),valueEl:".whs-type-selector .item-title",cssClass:"whs-type-options"}}},[i("select",{attrs:{name:"category"},on:{change:function(t){e.location.category=t.target.value}}},[i("option",{attrs:{value:"unspecified"},domProps:{selected:"unspecified"===e.location.category||""===e.location.category}},[e._v(e._s(e.$t("whs.form_add.location_options.unspecified")))]),e._v(" "),i("option",{attrs:{value:"frozen"},domProps:{selected:"frozen"===e.location.category}},[e._v(e._s(e.$t("whs.form_add.location_options.frozen")))]),e._v(" "),i("option",{attrs:{value:"ambient"},domProps:{selected:"ambient"===e.location.category}},[e._v(e._s(e.$t("whs.form_add.location_options.ambient")))])])])],1)])],1),e._v(" "),e.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(t){return e.deleteDialog()}}},[e._v(e._s(e.$t("whs.common.delete")))])],1):e._e()],1)}var st=normalizeComponent({render:Tc,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}]},void 0,at,void 0,!1,void 0,!1,void 0,void 0,void 0),nt={props:{item_link:Object},components:{FormImagesPicker:q,TagsPicker:Z,LocationPicker:st},mixins:[J],created:function created(){this.item_link&&(this.editId=this.item_link.id,this.location=Object.assign({},this.item_link))},computed:{title:function title(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.location.name}):this.$t("whs.form_add.title",{text:this.settings.location.name})}},methods:{addLocation:function addLocation(){var t=this;(self=this).$f7.$("#add-location")[0].checkValidity()?this.editId?(this.location=this.setDefaults(this.location),s.editLocation(this.location,this.editId).then(function(){self.$events.$emit("location:updated",t.location),self.$f7router.back(),s.toast(self.$t("whs.toast.edit",{text:t.settings.location.name}))})):(this.location=s.removeEmpty(this.location),s.createLocation(this.location).then(function(){self.$events.$emit("location:aded",t.location),self.$f7router.back(),s.toast(self.$t("whs.toast.add",{text:t.settings.location.name}))})):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text"),this.$t("whs.alert_form.ok"))},deleteLocation:function deleteLocation(){var t=this;s.deleteLocation(this.editId).then(function(){self.$events.$emit("location:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),s.toast(self.$t("whs.toast.delete",{text:t.settings.location.name}))})},deleteDialog:function deleteDialog(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteLocation)},setDefaults:function setDefaults(t){for(key in self=this,self.default_item)null!==t[key]&&""!==t[key]||(t[key]=self.default_item[key]);return t},parentLocationChange:function parentLocationChange(t){self=this,0<t.length?self.location.parent_location_id=t[0].id:self.location.parent_location_id=null}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){},data:function data(){return{location:{name:null,sku:null,parent_location_id:null,description:null,pallet_capacity:0,active:!0,category:null},editId:null,indexEdit:null,default_location:{},settings:s.main_page.$data.settings}}};ad._withStripped=!0;function jd(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",[0==i.selected.length||i.multiply?a("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:i.openSelector}},[i._m(0),i._v(" "),a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[i._v(i._s(i.$t("whs.common.assets_search_placeholder")))])])]):i._e(),i._v(" "),a("ul",{staticClass:"asset-items whs-picker-selected-list"},i._l(i.selected,function(e,t){return a("li",{key:t,staticClass:"asset-item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-media",style:i.imageStyle(e)}),i._v(" "),a("div",{staticClass:"item-title"},[i._v(i._s(e.name||e.first_name+" "+e.last_name))]),i._v(" "),a("div",{staticClass:"item-after"},[a("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(t){return i.removeItem(e.id,e.context)}}},[a("i",{staticClass:"material-icons"},[i._v("close")])])])])])])}),0)])}var lt=normalizeComponent({render:ad,staticRenderFns:[]},void 0,nt,void 0,!1,void 0,!1,void 0,void 0,void 0),ot={props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[o],data:function data(){return{settings:s.main_page.$data.settings}},methods:{openSelector:function openSelector(){var i=this;i.$f7router.navigate("/whs/select-picker/",{props:{selected:i.selected,pageTitle:i.$t("whs.common.select_assets_title"),multiply:i.multiply,getData:i.getData,type:"asset",multiply:i.multiply,onChange:function onChange(t,e){e?(i.$emit("itemAdd",t),i.addItem(t)):(i.$emit("itemRemove",t),i.deleteItem(t))}}})},imageStyle:function imageStyle(t){return t.image?{"background-image":"url("+t.image+")"}:t.icon_url?{"background-image":"url("+t.icon_url+")"}:this.teamStyle},getData:function getData(e){Promise.all([s.getTeam(),s.getRoles()]).then(function(t){console.log("TCL: getData -> data",t),t[0].forEach(function(t,e){t.context="members"}),t[1].forEach(function(t,e){t.context="roles"}),Object.assign(e.targets,t[0].concat(t[1])),e.loaded=!0,e.createSearchbar()})},addItem:function addItem(t){self=this,self.multiply||self.selected.splice(0,99),self.selected.push(t),self.$emit("selected:change",self.selected)},deleteItem:function deleteItem(e){self=this;var t=self.selected.findIndex(function(t){return t.id===e.id&&t.context===e.context});self.selected.splice(t,1),self.$emit("selected:change",self.selected)},removeItem:function removeItem(e,i){var t=this.selected.findIndex(function(t){return t.id===e&&t.context===i});this.selected.splice(t,1),this.$emit("selected:change",this.selected)}}};jd._withStripped=!0;function sd(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",[0==i.selected.length||i.multiply?a("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:i.openSelector}},[i._m(0),i._v(" "),a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[i._v(i._s(i.$t("whs.common.teams_search_placeholder")))])])]):i._e(),i._v(" "),a("ul",{staticClass:"team-items whs-picker-selected-list"},i._l(i.selected,function(e,t){return a("li",{key:t,staticClass:"team-item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-media",style:[e.icon_url?{"background-image":"url("+e.icon_url+")"}:i.teamStyle]}),i._v(" "),a("div",{staticClass:"item-title"},[i._v(i._s(e.first_name)+" "+i._s(e.last_name))]),i._v(" "),a("div",{staticClass:"item-after"},[a("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(t){return i.removeItem(e.id,e.pseudo_type)}}},[a("i",{staticClass:"material-icons"},[i._v("close")])])])])])])}),0)])}var rt=normalizeComponent({render:jd,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}]},void 0,ot,void 0,!1,void 0,!1,void 0,void 0,void 0),ct={props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[o],data:function data(){return{settings:s.main_page.$data.settings}},methods:{openSelector:function openSelector(){var i=this;i.$f7router.navigate("/whs/select-picker/",{props:{selected:i.selected,pageTitle:i.$t("whs.common.select_teams_title"),multiply:i.multiply,getData:i.getData,type:"team",multiply:i.multiply,image_link:"icon_url",onChange:function onChange(t,e){e?(i.$emit("itemAdd",t),i.addItem(t)):(i.$emit("itemRemove",t),i.deleteItem(t))}}})},getData:function getData(e){s.getTeam().then(function(t){t.forEach(function(t,e){t.pseudo_type="team"}),Object.assign(e.targets,t),console.log("TCL: getData -> self.targets",e.targets),e.loaded=!0,e.createSearchbar()})},addItem:function addItem(t){self=this,self.multiply||self.selected.splice(0,99),self.selected.push(t),self.$emit("selected:change",self.selected)},deleteItem:function deleteItem(e){self=this;var t=self.selected.findIndex(function(t){return t.id===e.id&&t.pseudo_type===e.pseudo_type});self.selected.splice(t,1),self.$emit("selected:change",self.selected)},removeItem:function removeItem(e,i){var t=this.selected.findIndex(function(t){return t.id===e&&t.pseudo_type===i});this.selected.splice(t,1),this.$emit("selected:change",this.selected)}}};sd._withStripped=!0;function Bd(){var i=this,t=i.$createElement,a=i._self._c||t;return a("li",[0==i.selected.length||i.multiply?a("a",{staticClass:"item-content no-chevron item-link whs-list-search-item",on:{click:i.openSelector}},[i._m(0),i._v(" "),a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-title"},[i._v(i._s(i.$t("whs.common.dynamic_search_placeholder",{text:i.settings.item.name})))])])]):i._e(),i._v(" "),a("ul",{staticClass:"item-items whs-picker-selected-list"},i._l(i.selected,function(e,t){return a("li",{key:t,staticClass:"item-item"},[a("div",{staticClass:"item-content"},[a("div",{staticClass:"item-inner"},[a("div",{staticClass:"item-media",style:[e.image?{"background-image":"url("+e.image+")"}:i.itemStyle]}),i._v(" "),a("div",{staticClass:"item-title"},[i._v(i._s(e.name))]),i._v(" "),a("div",{staticClass:"item-after"},[a("a",{staticClass:"item-link",staticStyle:{height:"24px"},attrs:{href:"#"},on:{click:function(t){return i.removeItem(e.id,e.pseudo_type)}}},[a("i",{staticClass:"material-icons"},[i._v("close")])])])])])])}),0)])}var dt=normalizeComponent({render:sd,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}]},void 0,ct,void 0,!1,void 0,!1,void 0,void 0,void 0),mt={props:{selected:{default:Array},multiply:{type:Boolean,default:!0}},mixins:[o],data:function data(){return{settings:s.main_page.$data.settings}},methods:{openSelector:function openSelector(){var i=this;i.$f7router.navigate("/whs/select-picker/",{props:{selected:i.selected,pageTitle:i.$t("whs.common.dynamic_select_title",{text:i.settings.item.name}),multiply:i.multiply,getData:i.getData,type:"item",multiply:i.multiply,onChange:function onChange(t,e){e?(i.$emit("itemAdd",t),i.addItem(t)):(i.$emit("itemRemove",t),i.deleteItem(t))}}})},getData:function getData(e){s.getItem().then(function(t){t.forEach(function(t,e){t.pseudo_type="item"}),Object.assign(e.targets,t),e.loaded=!0,e.createSearchbar()})},addItem:function addItem(t){self=this,self.multiply||self.selected.splice(0,99),self.selected.push(t),self.$emit("selected:change",self.selected)},deleteItem:function deleteItem(e){self=this;var t=self.selected.findIndex(function(t){return t.id===e.id&&t.pseudo_type===e.pseudo_type});self.selected.splice(t,1),self.$emit("selected:change",self.selected)},removeItem:function removeItem(e,i){var t=this.selected.findIndex(function(t){return t.id===e&&t.pseudo_type===i});this.selected.splice(t,1),this.$emit("selected:change",this.selected)}}};Bd._withStripped=!0;function Kd(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.title))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""},on:{click:e.addActivity}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),e._v(" "),i("form",{staticClass:"list",attrs:{id:"add-activity",action:"javascript:void(0)",enctype:"multipart/form-data"}},[i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar"}),e._v("\n          "+e._s(e.$t("whs.common.date_label"))+"\n        ")]),e._v(" "),i("f7-list-input",{attrs:{readonly:"",type:"text",name:"scheduled",value:null!==e.activity.scheduled_at?e.$moment(e.activity.scheduled_at).format(e.settings.main.date):e.$t("whs.common.date_placeholder")},nativeOn:{click:function(t){return e.openScheduledCalendar()}}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot"}),e._v("\n          "+e._s(e.$t("whs.common.type_label"))+"\n        ")]),e._v(" "),i("f7-list-item",{staticClass:"whs-type-selector",attrs:{"smart-select":"",title:" ","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",closeOnSelect:!0,pageTitle:e.$t("whs.common.options_title"),valueEl:".whs-type-selector .item-title",cssClass:"whs-type-options"}}},[i("select",{attrs:{name:"type"},on:{change:function(t){e.activity.kind=t.target.value,e.validate_errors.kind=!0}}},[i("option",{attrs:{value:"unspecified"},domProps:{selected:"unspecified"===e.activity.kind}},[e._v(e._s(e.$t("whs.form_add.type_options.unspecified")))]),e._v(" "),i("option",{attrs:{value:"pending_out"},domProps:{selected:"pending_out"===e.activity.kind}},[e._v(e._s(e.$t("whs.form_add.type_options.pending_out")))]),e._v(" "),i("option",{attrs:{value:"pending_in"},domProps:{selected:"pending_in"===e.activity.kind}},[e._v(e._s(e.$t("whs.form_add.type_options.pending_in")))]),e._v(" "),i("option",{attrs:{value:"movement"},domProps:{selected:"movement"===e.activity.kind}},[e._v(e._s(e.$t("whs.form_add.type_options.movement")))]),e._v(" "),i("option",{attrs:{value:"stocktake"},domProps:{selected:"stocktake"===e.activity.kind}},[e._v(e._s(e.$t("whs.form_add.type_options.stocktake")))])])]),e._v(" "),e.validate_errors.kind?e._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[e._v("\n          "+e._s(e.$t("whs.form_add.validate.required"))+"\n        ")]),e._v(" "),"pending_out"===e.activity.kind||"pending_in"===e.activity.kind||"movement"===e.activity.kind?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-item"}),e._v("\n            "+e._s(e.settings.item.name)+"\n          ")]),e._v(" "),i("item-picker",{attrs:{multiply:!1},on:{"selected:change":e.itemChange}}),e._v(" "),null!==e.activity.inventory_item_id?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1"}),e._v("\n              "+e._s(e.$t("whs.common.quantity_label"))+"\n            ")]),e._v(" "),i("f7-list-item",{attrs:{title:String(e.activity.count)}},[i("f7-stepper",{ref:"stepper_qauntity",attrs:{value:e.activity.count,step:1,autorepeat:!0,"autorepeat-dynamic":!0,min:0,max:e.total.available,"buttons-only":"",color:"gray"},on:{"stepper:change":function(t){e.activity.count=t}}})],1),e._v(" "),i("f7-list-item",{class:[0==e.activity.count?"error":"","whs-validate"],attrs:{divider:""}},[e._v("\n              "+e._s(e.$t("whs.form_add.validate.available",{count:e.activity.count,total:e.total.available}))+"\n              "),i("f7-link",{on:{click:function(t){return e.clickAvailableAll()}}},[e._v(e._s(e.$t("whs.form_add.validate.available_all")))])],1),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),e._v("\n              "+e._s(e.$t("whs.common.source_label"))+"\n            ")]),e._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":e.sourceChange}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),e._v("\n              "+e._s(e.$t("whs.common.destination_label"))+"\n            ")]),e._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":e.destinationChange}})]:e._e()]:e._e(),e._v(" "),"stocktake"===e.activity.kind?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-item"}),e._v("\n            "+e._s(e.settings.item.name)+"\n          ")]),e._v(" "),i("item-picker",{attrs:{multiply:!1},on:{"selected:change":e.itemChange}}),e._v(" "),null!==e.activity.inventory_item_id?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-location"}),e._v("\n              "+e._s(e.$t("whs.common.destination_label"))+"\n            ")]),e._v(" "),i("location-picker",{attrs:{multiply:!1},on:{"selected:change":e.currentLocationChange}})]:e._e()]:e._e(),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-person"}),e._v("\n          "+e._s(e.$t("whs.common.assignet_label"))+"\n        ")]),e._v(" "),i("assets-picker",{attrs:{multiply:!1},on:{"selected:change":e.assetChange}}),e._v(" "),e.validate_errors.assign?e._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[e._v("\n          "+e._s(e.$t("whs.form_add.validate.required"))+"\n        ")]),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-hash"}),e._v("\n          "+e._s(e.settings.tag.name)+"\n        ")]),e._v(" "),i("tags-picker"),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-toggle"}),e._v("\n          "+e._s(e.$t("whs.common.executed_label"))+"\n        ")]),e._v(" "),i("f7-list-item",[i("f7-toggle",{attrs:{slot:"after",checked:e.executed},on:{"toggle:change":e.executedChange},slot:"after"})],1),e._v(" "),e.executed?[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-person"}),e._v("\n            "+e._s(e.$t("whs.common.executed_by_label"))+"\n          ")]),e._v(" "),i("team-picker",{attrs:{multiply:!1},on:{"selected:change":e.executedTeamChange}}),e._v(" "),e.validate_errors.executed_by_id?e._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[e._v("\n            "+e._s(e.$t("whs.form_add.validate.required"))+"\n          ")]),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar"}),e._v("\n            "+e._s(e.$t("whs.common.date_executed_label"))+"\n          ")]),e._v(" "),i("f7-list-input",{attrs:{readonly:"",type:"text",name:"executed",value:null!==e.activity.executed_at?e.$moment(e.activity.executed_at).format(e.settings.main.date+" "+e.settings.main.time):e.$t("whs.common.date_placeholder")},nativeOn:{click:function(t){return e.openExecutedCalendar()}}}),e._v(" "),e.validate_errors.executed_at?e._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[e._v("\n            "+e._s(e.$t("whs.form_add.validate.required"))+"\n          ")]),e._v(" "),e.validate_errors.executed_at_time?e._e():i("f7-list-item",{staticClass:"whs-validate error",attrs:{divider:""}},[e._v("\n            "+e._s(e.$t("whs.form_add.validate.scheduled"))+"\n          ")])]:e._e()],2)])],1),e._v(" "),e.editId?i("div",{staticClass:"whs-form-delete"},[i("f7-link",{staticClass:"delete",on:{click:function(t){return e.deleteDialog()}}},[e._v(e._s(e.$t("whs.common.delete")))])],1):e._e()],1)}var ut=normalizeComponent({render:Bd,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-media"},[e("i",{staticClass:"icon whs-list-search-icon"})])}]},void 0,mt,void 0,!1,void 0,!1,void 0,void 0,void 0),vt={props:{item_link:Object},components:{TagsPicker:Z,AssetsPicker:rt,TeamPicker:dt,ItemPicker:ut,LocationPicker:st},mixins:[J],created:function created(){this.item_link&&(this.editId=this.item_link.id,this.activity=Object.assign({},this.item_link),this.activity.user_id=this.$root.user.id)},computed:{title:function title(){return this.editId?this.$t("whs.form_add.title_edit",{text:this.settings.activity.name}):this.$t("whs.form_add.title",{text:this.settings.activity.name})}},watch:{filters:function filters(t){var e=this;0<t.length?(e.activity.filters=JSON.stringify(t),e.activity.with_filters=!0):(e.$delete(e.activity,"filters"),e.$delete(e.activity,"with_filters"))}},methods:{addActivity:function addActivity(){var t=this;(self=this).$f7.$("#add-activity")[0].checkValidity()&&self.checkValidity()?this.editId?(this.activity=this.setDefaults(this.activity),s.editActivity(this.activity,this.editId).then(function(){self.$events.$emit("activity:updated",t.activity),self.$f7router.back(),s.toast(self.$t("whs.toast.edit",{text:t.settings.activity.name}))})):(this.activity=s.removeEmpty(this.activity),s.createActivity(this.activity).then(function(){self.$events.$emit("activity:aded",t.activity),self.$f7router.back(),s.toast(self.$t("whs.toast.add",{text:t.settings.activity.name}))})):this.alertDialog(this.$t("whs.alert_form.title"),this.$t("whs.alert_form.text")+self.validate_message,this.$t("whs.alert_form.ok"),"whs-alert")},checkValidity:function checkValidity(){self=this;var t=!(self.validate_message="");return self.executed&&(null===self.activity.executed_by_id&&(t=!1,self.validate_message+="\nPlease select executed.",self.validate_errors.executed_by_id=!1),null===self.activity.executed_at&&(t=!1,self.validate_message+="\nPlease select executed time.",self.validate_errors.executed_at=!1)),null!==self.activity.scheduled_at&&null!==self.activity.executed_at&&self.activity.executed_at<self.activity.scheduled_at&&(t=!1,self.validate_message+="\n"+self.$t("whs.form_add.validate.scheduled_full")+".",self.validate_errors.executed_at_time=!1),null!==self.activity.kind&&"unspecified"!==self.activity.kind||(t=!1,self.validate_message+="\nPlease select activity type.",self.validate_errors.kind=!1),"pending_out"!==self.activity.kind&&"pending_in"!==self.activity.kind&&"movement"!==self.activity.kind||(null===self.activity.inventory_item_id&&(t=!1,self.validate_message+="\nInventory item can't be blank.",self.validate_errors.inventory_item_id=!1),null===self.activity.source_location_id&&(t=!1,self.validate_message+="\nSource location can't be blank.",self.validate_errors.source_location_id=!1),null===self.activity.destination_location_id&&(t=!1,self.validate_message+="\nDestination location can't be blank.",self.validate_errors.destination_location_id=!1)),"stocktake"===self.activity.kind&&null===self.activity.current_location_id&&(t=!1,self.validate_message+="\nCurrent location can't be blank.",self.validate_errors.current_location_id=!1),self.filters.findIndex(function(t){return"members"===t.context||"roles"===t.context})<0&&(t=!1,self.validate_message+="\nAssignet can't be blank.",self.validate_errors.assign=!1),t},deleteActivity:function deleteActivity(){var t=this;s.deleteActivity(this.editId).then(function(){self.$events.$emit("activity:deleted",t.item),self.$f7router.back("/whs/",{force:!0}),s.toast(self.$t("whs.toast.delete",{text:t.settings.activity.name}))})},deleteDialog:function deleteDialog(){this.confirmDialog(this.$t("whs.alert_form.delete_title"),this.$t("whs.alert_form.delete_text"),this.$t("whs.alert_form.confirm"),this.$t("whs.alert_form.cancel"),this.deleteActivity)},setDefaults:function setDefaults(t){for(key in self=this,self.default_item)null!==t[key]&&""!==t[key]||(t[key]=self.default_item[key]);return t},openScheduledCalendar:function openScheduledCalendar(){this.calendarScheduled.open()},createScheduledCalendar:function createScheduledCalendar(){var i=this,t=new Date;i.activity.scheduled_at&&(t=new Date(i.activity.scheduled_at)),i.calendarScheduled=i.$f7.calendar.create({value:[t],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function change(t,e){i.calendar_first_change.scheduled?i.activity.scheduled_at=e[0]:i.calendar_first_change.scheduled=!0}}})},openExecutedCalendar:function openExecutedCalendar(){this.calendarExecuted.open()},createExecutedCalendar:function createExecutedCalendar(){var i=this,t=new Date;i.activity.executed_at&&(t=new Date(i.activity.executed_at)),i.calendarExecuted=i.$f7.calendar.create({value:[t],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function change(t,e){i.validate_errors.executed_at=!0,i.calendar_first_change.executed?i.activity.executed_at=e[0]:i.calendar_first_change.executed=!0,null!==i.activity.scheduled_at&&null!==i.activity.executed_at&&i.calendar_first_change.executed&&(console.log("TCL: change -> self.activity.scheduled_at",i.activity.scheduled_at),i.activity.executed_at>=i.activity.scheduled_at?i.validate_errors.executed_at_time=!0:i.validate_errors.executed_at_time=!1)}}})},executedChange:function executedChange(t){self=this,self.executed=t,self.validate_errors.executed_at=!0,self.validate_errors.executed_by_id=!0,t||(self.activity.executed_at=null,self.activity.executed_by_id=null)},itemChange:function itemChange(t){self=this,0<t.length?(self.activity.inventory_item_id=t[0].id,self.total.available=t[0].quantity):(self.activity.count=0,self.total.available=0,self.activity.inventory_item_id=null)},executedTeamChange:function executedTeamChange(t){self=this,self.validate_errors.executed_by_id=!0,0<t.length?self.activity.executed_by_id=t[0].id:self.activity.executed_by_id=null},assetChange:function assetChange(t){self=this,self.validate_errors.assign=!0,self.filters.forEach(function(t,e,i){"members"!==t.context&&"roles"!==t.context||i.splice(e,1)}),0<t.length&&(self.filters=self.filters.concat(t))},sourceChange:function sourceChange(t){self=this,0<t.length?self.activity.source_location_id=t[0].id:self.activity.source_location_id=null},destinationChange:function destinationChange(t){self=this,0<t.length?self.activity.destination_location_id=t[0].id:self.activity.destination_location_id=null},currentLocationChange:function currentLocationChange(t){self=this,0<t.length?self.activity.current_location_id=t[0].id:self.activity.current_location_id=null},clickAvailableAll:function clickAvailableAll(){self=this,self.activity.count=self.total.available,self.$refs.stepper_qauntity.setValue(self.total.available)}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){this.createScheduledCalendar(),this.createExecutedCalendar()},data:function data(){return self=this,{activity:{user_id:self.$root.user.id,scheduled_at:null,executed_at:null,kind:null,executed_by_id:null,count:0,inventory_item_id:null,destination_location_id:null,source_location_id:null,current_location_id:null},editId:null,indexEdit:null,executed:!1,default_activity:{},settings:s.main_page.$data.settings,calendar_first_change:{executed:!1,scheduled:!1},validate_errors:{kind:!0,inventory_item_id:!0,source_location_id:!0,destination_location_id:!0,current_location_id:!0,executed_at:!0,executed_at_time:!0,executed_by_id:!0,assign:!0},total:{available:0,selected:0},filters:[]}}};Kd._withStripped=!0;function Td(){var i=this,t=i.$createElement,a=i._self._c||t;return a("f7-page",[a("f7-navbar",[a("tommy-nav-back"),i._v(" "),a("f7-nav-title",[i._v(i._s(i.$t("whs.settings.title")))]),i._v(" "),i.edited?a("f7-nav-right",[a("f7-link",{on:{click:function(t){return i.updateSettings()}}},[a("f7-icon",{attrs:{f7:"check"}})],1)],1):i._e()],1),i._v(" "),a("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[a("f7-list-input",{attrs:{type:"text",label:i.$t("whs.settings.name_label"),"inline-label":"",value:i.settings.name},on:{input:function(t){return i.updateValue("name",t.target.value)}}}),i._v(" "),a("f7-list-item",{attrs:{title:i.$t("whs.settings.currency"),"smart-select":"","smart-select-params":{openIn:"popup",pageBackLinkText:"",popupCloseLinkText:"",renderItem:function renderItem(t){return i.renderCurrencyItem(this,t)},closeOnSelect:!0}}},[a("select",{attrs:{name:"currency"},on:{change:function(t){return i.updateValue("currency",t.target.value)}}},i._l(i.currencyList,function(t,e){return a("option",{key:e,domProps:{value:e,selected:e===i.settings.currency}},[i._v(i._s(e))])}),0)]),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.date"),after:i.demoDate,"popup-open":".whs-date-format-popup"}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.time"),after:i.demoTime,"popup-open":".whs-time-format-popup"}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.export")}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.import")}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.permissions")}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.customers")}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.integrations")}}),i._v(" "),a("f7-list-item",{attrs:{divider:"",title:i.$t("whs.settings.preferences_title")}}),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/settings/items/",title:i.$t("whs.settings.items")}}),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/settings/tags/",title:i.$t("whs.settings.tags")}}),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/settings/locations/",title:i.$t("whs.settings.locations")}}),i._v(" "),a("f7-list-item",{attrs:{link:"/whs/settings/activities/",title:i.$t("whs.settings.activities")}}),i._v(" "),a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.activity_dashboard")}})],1),i._v(" "),a("f7-list",{staticClass:"no-hairlines whs-settings-list"},[a("f7-list-item",{attrs:{link:"",title:i.$t("whs.settings.subscriptions")}})],1),i._v(" "),a("f7-popup",{staticClass:"whs-date-format-popup",on:{"popup:open":function(t){i.editParam=i.settings.date}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-left",[a("f7-link",{staticClass:"icon-only",attrs:{"popup-close":""}},[a("i",{staticClass:"icon icon-back"})])],1),i._v(" "),a("f7-nav-title",[i._v(i._s(i.$t("whs.settings.date")))]),i._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"icon-only":"","popup-close":""},on:{click:function(t){return i.updateValue("date",i.editParam)}}},[a("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),i._v(" "),a("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[a("f7-list-input",{attrs:{type:"text",label:i.$t("whs.settings.date_format_format"),"inline-label":"",value:i.editParam},on:{input:function(t){i.editParam=t.target.value}}}),i._v(" "),a("f7-list-item",{attrs:{title:i.$t("whs.settings.date_format_demo"),after:i.$moment().format(i.editParam)}}),i._v(" "),a("f7-list-item",{attrs:{divider:"",title:i.$t("whs.settings.date_format_values")}}),i._v(" "),i._l(i.momentDateTokens,function(t){return a("f7-list-item",{key:t,attrs:{title:t,after:i.$moment().format(t)}})}),i._v(" "),a("f7-list-item",{attrs:{divider:"",title:i.$t("whs.settings.date_format_examples")}}),i._v(" "),i._l(i.momentDateExamples,function(e){return a("f7-list-item",{key:e,attrs:{title:e,after:i.$moment().format(e)},on:{click:function(t){i.editParam=e}}})})],2)],1)],1),i._v(" "),a("f7-popup",{staticClass:"whs-time-format-popup",on:{"popup:open":function(t){i.editParam=i.settings.time}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-left",[a("f7-link",{staticClass:"icon-only",attrs:{"popup-close":""}},[a("i",{staticClass:"icon icon-back"})])],1),i._v(" "),a("f7-nav-title",[i._v(i._s(i.$t("whs.settings.time")))]),i._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"icon-only":"","popup-close":""},on:{click:function(t){return i.updateValue("time",i.editParam)}}},[a("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),i._v(" "),a("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[a("f7-list-input",{attrs:{type:"text",label:i.$t("whs.settings.time_format_format"),"inline-label":"",value:i.editParam},on:{input:function(t){i.editParam=t.target.value}}}),i._v(" "),a("f7-list-item",{attrs:{title:i.$t("whs.settings.time_format_demo"),after:i.$moment().format(i.editParam)}}),i._v(" "),a("f7-list-item",{attrs:{divider:"",title:i.$t("whs.settings.time_format_values")}}),i._v(" "),i._l(i.momentTimeTokens,function(t){return a("f7-list-item",{key:t,attrs:{title:t,after:i.$moment().format(t)}})}),i._v(" "),a("f7-list-item",{attrs:{divider:"",title:i.$t("whs.settings.time_format_examples")}}),i._v(" "),i._l(i.momentTimeExamples,function(e){return a("f7-list-item",{key:e,attrs:{title:e,after:i.$moment().format(e)},on:{click:function(t){i.editParam=e}}})})],2)],1)],1)],1)}var ht=normalizeComponent({render:Kd,staticRenderFns:[]},void 0,vt,void 0,!1,void 0,!1,void 0,void 0,void 0),_t={components:{},data:function data(){return{currencyList:b,momentDateTokens:["YYYY","YY","M","MM","MMM","MMMM","D","DD","Do","ddd","dddd"],momentDateExamples:["ddd, DD MMMM YYYY","DD-MMM-YYYY","DD-MM-YYYY","M/D/YYYY","YYYY-MM-DD"],momentTimeTokens:["HH","H","h","hh","a","A","m","mm","s","ss","Z","ZZ"],momentTimeExamples:["h:mm A","HH:mm","h:mm:ss A","h:mm:s A","HH-mm"],settings:Object.assign({},s.main_page.$data.settings.main),editParam:null,edited:!1}},created:function created(){},computed:{demoDate:function demoDate(){return self=this,self.$moment(new Date).format(self.settings.date)},demoTime:function demoTime(){return self=this,self.$moment(new Date).format(self.settings.time)}},methods:{renderCurrencyItem:function renderCurrencyItem(t,e){return'\n        <li>\n          <label class="item-radio item-content">\n            <input type="radio" name="'+e.inputName+'" value="'+e.value+'" '+(e.selected?"checked":"")+'>\n            <i class="icon icon-radio"></i>\n            <div class="item-inner">\n              <div class="item-title">'+e.text+'</div>\n              <div class="item-after">'+b[e.text]+"</div>\n            </div>\n          </label>\n        </li>\n      "},updateValue:function updateValue(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function updateSettings(){self=this,self.edited=!1,s.main_page.$data.settings.main=self.settings,s.saveSettings("main",self.settings)}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};Td._withStripped=!0;var pt=normalizeComponent({render:Td,staticRenderFns:[]},void 0,_t,void 0,!1,void 0,!1,void 0,void 0,void 0),ft={colorHexToRgb:function colorHexToRgb(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(t,e,i,a){return e+e+i+i+a+a}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return i?i.slice(1).map(function(t){return parseInt(t,16)}):null},colorRgbToHex:function colorRgbToHex(t,e,i){return"#"+[t,e,i].map(function(t){var e=t.toString(16);return 1===e.length?"0"+e:e}).join("")},colorRgbToHsl:function colorRgbToHsl(t,e,i){t/=255,e/=255,i/=255;var a,s=Math.max(t,e,i),n=Math.min(t,e,i),l=s-n;0==l?a=0:s===t?a=(e-i)/l%6:s===e?a=(i-t)/l+2:s===i&&(a=(t-e)/l+4);var o=(n+s)/2;return a<0&&(a=6+a),[60*a,0==l?0:l/(1-Math.abs(2*o-1)),o]},colorHslToRgb:function colorHslToRgb(t,e,i){var a,s=(1-Math.abs(2*i-1))*e,n=t/60,l=s*(1-Math.abs(n%2-1));Number.isNaN(t)||void 0===t?a=[0,0,0]:n<=1?a=[s,l,0]:n<=2?a=[l,s,0]:n<=3?a=[0,s,l]:n<=4?a=[0,l,s]:n<=5?a=[l,0,s]:n<=6&&(a=[s,0,l]);var o=i-s/2;return a.map(function(t){return Math.max(0,Math.min(255,Math.round(255*(t+o))))})},colorHsbToHsl:function colorHsbToHsl(t,e,i){var a={h:t,s:0,l:0},s=e,n=i;return a.l=(2-s)*n/2,a.s=a.l&&a.l<1?s*n/(a.l<.5?2*a.l:2-2*a.l):a.s,[a.h,a.s,a.l]},colorHslToHsb:function colorHslToHsb(t,e,i){var a={h:t,s:0,b:0},s=i,n=e*(s<.5?s:1-s);return a.b=s+n,a.s=0<s?2*n/a.b:a.s,[a.h,a.s,a.b]}},gt={render:function render(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.alphaLabelText;return'\n      <div class="color-picker-module color-picker-module-alpha-slider">\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-alpha"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.01" min="0" max="1" class="color-picker-value-alpha">\n              ':'\n                <span class="color-picker-value-alpha"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(a){function handleInputChange(t){var e=a.value.alpha,i=parseFloat(t.target.value);Number.isNaN(i)?t.target.value=e:(i=Math.max(0,Math.min(1,i)),a.setValue({alpha:i}))}a.alphaRangeSlider=a.app.range.create({el:a.$el.find(".color-picker-slider-alpha"),min:0,max:1,step:.01,value:1,on:{change:function change(t,e){var i=Math.floor(100*e)/100;a.setValue({alpha:i})}}}),a.$el.on("change",".color-picker-module-alpha-slider input",handleInputChange),a.destroyAlphaSliderEvents=function destroyAlphaSliderEvents(){a.$el.off("change",".color-picker-module-alpha-slider input",handleInputChange)}},update:function update(t){var e=t.value,i=t.params,a=i.sliderValue,s=i.sliderValueEditable,n=e.alpha;t.alphaRangeSlider.value=n,t.alphaRangeSlider.layout(),a&&s?t.$el.find("input.color-picker-value-alpha").val(n):t.$el.find("span.color-picker-value-alpha").text(n)},destroy:function destroy(t){t.alphaRangeSlider&&t.alphaRangeSlider.destroy&&t.alphaRangeSlider.destroy(),delete t.alphaRangeSlider,t.destroyAlphaSliderEvents&&t.destroyAlphaSliderEvents(),delete t.destroyAlphaSliderEvents}},yt={render:function render(){return'\n      <div class="color-picker-module color-picker-module-current-color">\n        <div class="color-picker-current-color"></div>\n      </div>\n    '},update:function update(t){t.$el.find(".color-picker-module-current-color .color-picker-current-color").css("background-color",t.value.hex)}},bt={render:function render(t){var e=t.params,i=e.hexLabel,a=e.hexLabelText;return'\n      <div class="color-picker-module color-picker-module-hex">\n        <div class="color-picker-hex-wrap">\n          '+(i?'\n            <div class="color-picker-hex-label">'+a+"</div>\n          ":"")+'\n          <div class="color-picker-hex-value">\n            '+(e.hexValueEditable?'\n              <input type="text" class="color-picker-value-hex">\n            ':'\n              <span class="color-picker-value-hex"></span>\n            ')+"\n          </div>\n        </div>\n      </div>\n    "},init:function init(s){function handleInputChange(t){var e=s.value.hex,i=t.target.value.replace(/#/g,"");if(Number.isNaN(i)||!i||3!==i.length&&6!==i.length)t.target.value=e;else{var a=parseInt(i,16);parseInt("ffffff",16)<a&&(i="fff"),a<0&&(i="000"),s.setValue({hex:i})}}s.$el.on("change",".color-picker-module-hex input",handleInputChange),s.destroyHexEvents=function destroyHexEvents(){s.$el.off("change",".color-picker-module-hex input",handleInputChange)}},update:function update(t){var e=t.value,i=t.params.hexValueEditable,a=e.hex;i?t.$el.find("input.color-picker-value-hex").val(a):t.$el.find("span.color-picker-value-hex").text(a)},destroy:function destroy(t){t.destroyHexEvents&&t.destroyHexEvents(),delete t.destroyHexEvents}},wt={render:function render(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.hueLabelText,l=e.saturationLabelText,o=e.brightnessLabelText;return'\n      <div class="color-picker-module color-picker-module-hsb-sliders">\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-hue"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.1" min="0" max="360" class="color-picker-value-hue" data-color-index="0">\n              ':'\n                <span class="color-picker-value-hue"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+l+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-saturation"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-saturation" data-color-index="1">\n              ':'\n                <span class="color-picker-value-saturation"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+o+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-brightness"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-brightness" data-color-index="2">\n              ':'\n                <span class="color-picker-value-brightness"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(s){var n=s.app;function handleInputChange(t){var e=[].concat(s.value.hsb),i=parseInt(n.$(t.target).attr("data-color-index"),10),a=parseFloat(t.target.value);Number.isNaN(a)?t.target.value=e[i]:(a=0===i?Math.max(0,Math.min(360,a)):Math.max(0,Math.min(100,a))/100,e[i]=a,s.setValue({hsb:e}))}s.hueRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function change(t,e){s.setValue({hue:e})}}}),s.saturationRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-saturation"),min:0,max:1,step:.001,value:0,on:{change:function change(t,e){var i=Math.floor(1e3*e)/1e3;s.setValue({hsb:[s.value.hsb[0],i,s.value.hsb[2]]})}}}),s.brightnessRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function change(t,e){var i=Math.floor(1e3*e)/1e3;s.setValue({hsb:[s.value.hsb[0],s.value.hsb[1],i]})}}}),s.$el.on("change",".color-picker-module-hsb-sliders input",handleInputChange),s.destroyHsbSlidersEvents=function destroyHsbSlidersEvents(){s.$el.off("change",".color-picker-module-hsb-sliders input",handleInputChange)}},update:function update(t){var e=t.app,i=t.value,a=t.params,s=a.sliderValue,n=a.sliderValueEditable,l=i.hsb,o=i.hue;t.hueRangeSlider.value=o,t.saturationRangeSlider.value=l[1],t.brightnessRangeSlider.value=l[2],t.hueRangeSlider.layout(),t.saturationRangeSlider.layout(),t.brightnessRangeSlider.layout();var r=ft.colorHsbToHsl(l[0],l[1],1),c=ft.colorHsbToHsl(l[0],0,1),d=ft.colorHsbToHsl(l[0],1,1),m=l[2];t.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+o+", 100%, 50%)"),t.saturationRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+r[0]+", "+100*r[1]+"%, "+100*r[2]+"%)"),t.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","rgb("+255*m+", "+255*m+", "+255*m+")"),t.saturationRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(e.rtl?"to left":"to right")+", hsl("+c[0]+", "+100*c[1]+"%, "+100*c[2]+"%), hsl("+d[0]+", "+100*d[1]+"%, "+100*d[2]+"%))"),s&&n?(t.$el.find("input.color-picker-value-hue").val(""+o),t.$el.find("input.color-picker-value-saturation").val(""+1e3*l[1]/10),t.$el.find("input.color-picker-value-brightness").val(""+1e3*l[2]/10)):s&&(t.$el.find("span.color-picker-value-hue").text(""+o),t.$el.find("span.color-picker-value-saturation").text(""+1e3*l[1]/10),t.$el.find("span.color-picker-value-brightness").text(""+1e3*l[2]/10))},destroy:function destroy(t){t.hueRangeSlider&&t.hueRangeSlider.destroy&&t.hueRangeSlider.destroy(),t.saturationRangeSlider&&t.saturationRangeSlider.destroy&&t.saturationRangeSlider.destroy(),t.brightnessRangeSlider&&t.brightnessRangeSlider.destroy&&t.brightnessRangeSlider.destroy(),delete t.hueRangeSlider,delete t.saturationRangeSlider,delete t.brightnessRangeSlider,t.destroyHsbSlidersEvents&&t.destroyHsbSlidersEvents(),delete t.destroyHsbSlidersEvents}},kt={render:function render(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.hueLabelText;return'\n      <div class="color-picker-module color-picker-module-hue-slider">\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-hue"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.1" min="0" max="360" class="color-picker-value-hue">\n              ':'\n                <span class="color-picker-value-hue"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(i){i.hueRangeSlider=i.app.range.create({el:i.$el.find(".color-picker-slider-hue"),min:0,max:360,step:.1,value:0,on:{change:function change(t,e){i.setValue({hue:e})}}})},update:function update(t){var e=t.value,i=t.params,a=i.sliderValue,s=i.sliderValueEditable,n=e.hue;t.hueRangeSlider.value=n,t.hueRangeSlider.layout(),t.hueRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+n+", 100%, 50%)"),a&&s?t.$el.find("input.color-picker-value-hue").val(""+n):a&&t.$el.find("span.color-picker-value-hue").text(""+n)},destroy:function destroy(t){t.hueRangeSlider&&t.hueRangeSlider.destroy&&t.hueRangeSlider.destroy(),delete t.hueRangeSlider}},Ct={render:function render(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.brightnessLabelText;return'\n      <div class="color-picker-module color-picker-module-brightness-slider">\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-brightness"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="0.1" min="0" max="100" class="color-picker-value-brightness">\n              ':'\n                <span class="color-picker-value-brightness"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(a){a.brightnessRangeSlider=a.app.range.create({el:a.$el.find(".color-picker-slider-brightness"),min:0,max:1,step:.001,value:0,on:{change:function change(t,e){var i=Math.floor(1e3*e)/1e3;a.setValue({hsb:[a.value.hsb[0],a.value.hsb[1],i]})}}})},update:function update(t){var e=t.value,i=t.app,a=t.params,s=a.sliderValue,n=a.sliderValueEditable,l=e.hsb;t.brightnessRangeSlider.value=l[2],t.brightnessRangeSlider.layout();var o=ft.colorHsbToHsl(l[0],l[1],l[2]),r=ft.colorHsbToHsl(l[0],l[1],0),c=ft.colorHsbToHsl(l[0],l[1],1);t.brightnessRangeSlider.$el[0].style.setProperty("--f7-range-knob-color","hsl("+o[0]+", "+100*o[1]+"%, "+100*o[2]+"%)"),t.brightnessRangeSlider.$el.find(".range-bar").css("background-image","linear-gradient("+(i.rtl?"to left":"to right")+", hsl("+r[0]+", "+100*r[1]+"%, "+100*r[2]+"%), hsl("+c[0]+", "+100*c[1]+"%, "+100*c[2]+"%))"),s&&n?t.$el.find("input.color-picker-value-brightness").val(""+1e3*l[2]/10):s&&t.$el.find("span.color-picker-value-brightness").text(""+1e3*l[2]/10)},destroy:function destroy(t){t.brightnessRangeSlider&&t.brightnessRangeSlider.destroy&&t.brightnessRangeSlider.destroy(),delete t.brightnessRangeSlider}},$t={render:function render(t){return'\n      <div class="color-picker-module color-picker-module-palette">\n        <div class="color-picker-palette">\n          '+t.params.palette.map(function(t){if(Array.isArray(t)){var e='<div class="color-picker-palette-row">';return e+=t.map(function(t){return'\n                <div class="color-picker-palette-value" data-palette-color="'+t+'" style="background-color: '+t+'"></div>\n              '}).join(""),e+="</div>"}return'\n              <div class="color-picker-palette-value" data-palette-color="'+t+'" style="background-color: '+t+'"></div>\n            '}).join("")+"\n        </div>\n      </div>\n    "},init:function init(i){function handlePaletteClick(t){var e=i.app.$(t.target).attr("data-palette-color");i.setValue({hex:e})}i.$el.on("click",".color-picker-module-palette .color-picker-palette-value",handlePaletteClick),i.destroyPaletteEvents=function destroyPaletteEvents(){i.$el.off("click",".color-picker-module-hex input",handlePaletteClick)}},destroy:function destroy(t){t.destroyPaletteEvents&&t.destroyPaletteEvents(),delete t.destroyPaletteEvents}},xt={render:function render(){return'\n      <div class="color-picker-module color-picker-module-initial-current-colors">\n        <div class="color-picker-initial-current-colors">\n          <div class="color-picker-initial-color"></div>\n          <div class="color-picker-current-color"></div>\n        </div>\n      </div>\n    '},init:function init(a){function handleInitialColorClick(){if(a.initialValue){var t=a.initialValue,e=t.hex,i=t.alpha;a.setValue({hex:e,alpha:i})}}a.$el.on("click",".color-picker-initial-color",handleInitialColorClick),a.destroyInitialCurrentEvents=function destroyInitialCurrentEvents(){a.$el.off("click",".color-picker-initial-color",handleInitialColorClick)}},update:function update(t){t.$el.find(".color-picker-module-initial-current-colors .color-picker-initial-color").css("background-color",t.initialValue.hex),t.$el.find(".color-picker-module-initial-current-colors .color-picker-current-color").css("background-color",t.value.hex)},destroy:function destroy(t){t.destroyInitialCurrentEvents&&t.destroyInitialCurrentEvents(),delete t.destroyInitialCurrentEvents}},Tt={render:function render(t){var e=t.params,i=e.barLabel,a=e.barValue,s=e.barValueEditable,n=e.redLabelText,l=e.greenLabelText,o=e.blueLabelText;return'\n      <div class="color-picker-module color-picker-module-rgb-bars">\n        <div class="color-picker-bar-wrap">\n          '+(i?'\n            <div class="color-picker-bar-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-bar color-picker-bar-red"></div>\n          '+(a?'\n            <div class="color-picker-bar-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-red" data-color-index="0">\n              ':'\n                <span class="color-picker-value-bar-red"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-bar-wrap">\n          '+(i?'\n            <div class="color-picker-bar-label">'+l+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-bar color-picker-bar-green"></div>\n          '+(a?'\n            <div class="color-picker-bar-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-green" data-color-index="1">\n              ':'\n                <span class="color-picker-value-bar-green"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-bar-wrap">\n          '+(i?'\n            <div class="color-picker-bar-label">'+o+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-bar color-picker-bar-blue"></div>\n          '+(a?'\n            <div class="color-picker-bar-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-bar-blue" data-color-index="2">\n              ':'\n                <span class="color-picker-value-bar-blue"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(s){function handleInputChange(t){var e=[].concat(s.value.rgb),i=parseInt(s.app.$(t.target).attr("data-color-index"),10),a=parseInt(t.target.value,10);Number.isNaN(a)?t.target.value=e[i]:(a=Math.max(0,Math.min(255,a)),e[i]=a,s.setValue({rgb:e}))}s.redBar=s.app.range.create({el:s.$el.find(".color-picker-bar-red"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function change(t,e){s.setValue({rgb:[e,s.value.rgb[1],s.value.rgb[2]]})}}}),s.greenBar=s.app.range.create({el:s.$el.find(".color-picker-bar-green"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function change(t,e){s.setValue({rgb:[s.value.rgb[0],e,s.value.rgb[2]]})}}}),s.blueBar=s.app.range.create({el:s.$el.find(".color-picker-bar-blue"),min:0,max:255,step:1,value:0,vertical:!0,on:{change:function change(t,e){s.setValue({rgb:[s.value.rgb[0],s.value.rgb[1],e]})}}}),s.$el.on("change",".color-picker-module-rgb-bars input",handleInputChange),s.destroyRgbBarsEvents=function destroyRgbBarsEvents(){s.$el.off("change",".color-picker-module-rgb-bars input",handleInputChange)}},update:function update(t){var e=t.value,i=t.redBar,a=t.greenBar,s=t.blueBar,n=t.params,l=n.barValue,o=n.barValueEditable,r=e.rgb;i.value=r[0],a.value=r[1],s.value=r[2],i.layout(),a.layout(),s.layout(),i.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb(0, "+r[1]+", "+r[2]+"), rgb(255, "+r[1]+", "+r[2]+"))"),a.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+r[0]+", 0, "+r[2]+"), rgb("+r[0]+", 255, "+r[2]+"))"),s.$el.find(".range-bar").css("background-image","linear-gradient(to top, rgb("+r[0]+", "+r[1]+", 0), rgb("+r[0]+", "+r[1]+", 255))"),l&&o?(t.$el.find("input.color-picker-value-bar-red").val(r[0]),t.$el.find("input.color-picker-value-bar-green").val(r[1]),t.$el.find("input.color-picker-value-bar-blue").val(r[2])):l&&(t.$el.find("span.color-picker-value-bar-red").text(r[0]),t.$el.find("span.color-picker-value-bar-green").text(r[1]),t.$el.find("span.color-picker-value-bar-blue").text(r[2]))},destroy:function destroy(t){t.redBar&&t.redBar.destroy&&t.redBar.destroy(),t.greenBar&&t.greenBar.destroy&&t.greenBar.destroy(),t.blueBar&&t.blueBar.destroy&&t.blueBar.destroy(),delete t.redBar,delete t.greenBar,delete t.blueBar,t.destroyRgbBarsEvents&&t.destroyRgbBarsEvents(),delete t.destroyRgbBarsEvents}},St={render:function render(t){var e=t.params,i=e.sliderLabel,a=e.sliderValue,s=e.sliderValueEditable,n=e.redLabelText,l=e.greenLabelText,o=e.blueLabelText;return'\n      <div class="color-picker-module color-picker-module-rgb-sliders">\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+n+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-red"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-red" data-color-index="0">\n              ':'\n                <span class="color-picker-value-red"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+l+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-green"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-green" data-color-index="1">\n              ':'\n                <span class="color-picker-value-green"></span>\n              ')+"\n            </div>\n          ":"")+'\n        </div>\n        <div class="color-picker-slider-wrap">\n          '+(i?'\n            <div class="color-picker-slider-label">'+o+"</div>\n          ":"")+'\n          <div class="range-slider color-picker-slider color-picker-slider-blue"></div>\n          '+(a?'\n            <div class="color-picker-slider-value">\n              '+(s?'\n                <input type="number" step="1" min="0" max="255" class="color-picker-value-blue" data-color-index="2">\n              ':'\n                <span class="color-picker-value-blue"></span>\n              ')+"\n            </div>\n          ":"")+"\n        </div>\n      </div>\n    "},init:function init(s){function handleInputChange(t){var e=[].concat(s.value.rgb),i=parseInt(s.app.$(t.target).attr("data-color-index"),10),a=parseInt(t.target.value,10);Number.isNaN(a)?t.target.value=e[i]:(a=Math.max(0,Math.min(255,a)),e[i]=a,s.setValue({rgb:e}))}s.redRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-red"),min:0,max:255,step:1,value:0,on:{change:function change(t,e){s.setValue({rgb:[e,s.value.rgb[1],s.value.rgb[2]]})}}}),s.greenRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-green"),min:0,max:255,step:1,value:0,on:{change:function change(t,e){s.setValue({rgb:[s.value.rgb[0],e,s.value.rgb[2]]})}}}),s.blueRangeSlider=s.app.range.create({el:s.$el.find(".color-picker-slider-blue"),min:0,max:255,step:1,value:0,on:{change:function change(t,e){s.setValue({rgb:[s.value.rgb[0],s.value.rgb[1],e]})}}}),s.$el.on("change",".color-picker-module-rgb-sliders input",handleInputChange),s.destroyRgbSlidersEvents=function destroyRgbSlidersEvents(){s.$el.off("change",".color-picker-module-rgb-sliders input",handleInputChange)}},update:function update(t){var e=t.app,i=t.value,a=t.redRangeSlider,s=t.greenRangeSlider,n=t.blueRangeSlider,l=t.params,o=l.sliderValue,r=l.sliderValueEditable,c=i.rgb;a.value=c[0],s.value=c[1],n.value=c[2],a.layout(),s.layout(),n.layout(),a.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")"),s.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")"),n.$el[0].style.setProperty("--f7-range-knob-color","rgb("+c[0]+", "+c[1]+", "+c[2]+")");var d=e.rtl?"to left":"to right";a.$el.find(".range-bar").css("background-image","linear-gradient("+d+", rgb(0, "+c[1]+", "+c[2]+"), rgb(255, "+c[1]+", "+c[2]+"))"),s.$el.find(".range-bar").css("background-image","linear-gradient("+d+", rgb("+c[0]+", 0, "+c[2]+"), rgb("+c[0]+", 255, "+c[2]+"))"),n.$el.find(".range-bar").css("background-image","linear-gradient("+d+", rgb("+c[0]+", "+c[1]+", 0), rgb("+c[0]+", "+c[1]+", 255))"),o&&r?(t.$el.find("input.color-picker-value-red").val(c[0]),t.$el.find("input.color-picker-value-green").val(c[1]),t.$el.find("input.color-picker-value-blue").val(c[2])):o&&(t.$el.find("span.color-picker-value-red").text(c[0]),t.$el.find("span.color-picker-value-green").text(c[1]),t.$el.find("span.color-picker-value-blue").text(c[2]))},destroy:function destroy(t){t.redRangeSlider&&t.redRangeSlider.destroy&&t.redRangeSlider.destroy(),t.greenRangeSlider&&t.greenRangeSlider.destroy&&t.greenRangeSlider.destroy(),t.blueRangeSlider&&t.blueRangeSlider.destroy&&t.blueRangeSlider.destroy(),delete t.redRangeSlider,delete t.greenRangeSlider,delete t.blueRangeSlider,t.destroyRgbSlidersEvents&&t.destroyRgbSlidersEvents(),delete t.destroyRgbSlidersEvents}},Et={render:function render(){return'\n      <div class="color-picker-module color-picker-module-sb-spectrum">\n        <div class="color-picker-sb-spectrum" style="background-color: hsl(0, 100%, 50%)">\n          <div class="color-picker-sb-spectrum-handle"></div>\n        </div>\n      </div>\n    '},init:function init(s){var i,a,n,l,o,r,c,d,t=s.app,m=s.$el;function setSBFromSpecterCoords(t,e){var i=(t-r.left)/r.width,a=(e-r.top)/r.height;i=Math.max(0,Math.min(1,i)),a=1-Math.max(0,Math.min(1,a)),s.setValue({hsb:[s.value.hue,i,a]})}function handleTouchStart(t){if(!i){a="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,l=a,n="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,o=n;var e=s.app.$(t.target);(d=0<e.closest(".color-picker-sb-spectrum-handle").length)||(c=0<e.closest(".color-picker-sb-spectrum").length),c&&(r=m.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),setSBFromSpecterCoords(a,n)),(d||c)&&m.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function handleTouchMove(t){(c||d)&&(l="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,o="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),i||(i=!0,d&&(r=m.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(c||d)&&setSBFromSpecterCoords(l,o))}function handleTouchEnd(){i=!1,(c||d)&&m.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),d=c=!1}function handleResize(){s.modules["sb-spectrum"].update(s)}var e=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener)&&{passive:!0,capture:!1};s.$el.on(t.touchEvents.start,handleTouchStart,e),t.on("touchmove:active",handleTouchMove),t.on("touchend:passive",handleTouchEnd),t.on("resize",handleResize),s.destroySpectrumEvents=function destroySpectrumEvents(){s.$el.off(t.touchEvents.start,handleTouchStart,e),t.off("touchmove:active",handleTouchMove),t.off("touchend:passive",handleTouchEnd),t.off("resize",handleResize)}},update:function update(t){var e=t.value,i=e.hsl,a=e.hsb,s=t.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,n=t.$el.find(".color-picker-sb-spectrum")[0].offsetHeight;t.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+i[0]+", 100%, 50%)"),t.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+i[0]+", "+100*i[1]+"%, "+100*i[2]+"%)").transform("translate("+s*a[1]+"px, "+n*(1-a[2])+"px)")},destroy:function destroy(t){t.destroySpectrumEvents&&t.destroySpectrumEvents(),delete t.destroySpectrumEvents}},Dt={render:function render(){return'\n      <div class="color-picker-module color-picker-module-hs-spectrum">\n        <div class="color-picker-hs-spectrum">\n          <div class="color-picker-hs-spectrum-handle"></div>\n        </div>\n      </div>\n    '},init:function init(s){var i,a,n,l,o,r,c,d,m=s.app,u=s.$el;function setHSFromSpecterCoords(t,e){var i=(t-r.left)/r.width*360,a=(e-r.top)/r.height;i=Math.max(0,Math.min(360,i)),a=1-Math.max(0,Math.min(1,a)),s.setValue({hsb:[i,a,s.value.hsb[2]]})}function handleTouchStart(t){if(!i){a="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,l=a,n="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,o=n;var e=m.$(t.target);(d=0<e.closest(".color-picker-hs-spectrum-handle").length)||(c=0<e.closest(".color-picker-hs-spectrum").length),c&&(r=u.find(".color-picker-hs-spectrum")[0].getBoundingClientRect(),setHSFromSpecterCoords(a,n)),(d||c)&&u.find(".color-picker-hs-spectrum-handle").addClass("color-picker-hs-spectrum-handle-pressed")}}function handleTouchMove(t){(c||d)&&(l="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,o="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),i||(i=!0,d&&(r=u.find(".color-picker-hs-spectrum")[0].getBoundingClientRect())),(c||d)&&setHSFromSpecterCoords(l,o))}function handleTouchEnd(){i=!1,(c||d)&&u.find(".color-picker-hs-spectrum-handle").removeClass("color-picker-hs-spectrum-handle-pressed"),d=c=!1}function handleResize(){s.modules["hs-spectrum"].update(s)}var t=!("touchstart"!==m.touchEvents.start||!m.support.passiveListener)&&{passive:!0,capture:!1};s.$el.on(m.touchEvents.start,handleTouchStart,t),m.on("touchmove:active",handleTouchMove),m.on("touchend:passive",handleTouchEnd),m.on("resize",handleResize),s.destroySpectrumEvents=function destroySpectrumEvents(){s.$el.off(m.touchEvents.start,handleTouchStart,t),m.off("touchmove:active",handleTouchMove),m.off("touchend:passive",handleTouchEnd),m.off("resize",handleResize)}},update:function update(t){var e=t.value.hsb,i=t.$el.find(".color-picker-hs-spectrum")[0].offsetWidth,a=t.$el.find(".color-picker-hs-spectrum")[0].offsetHeight,s=ft.colorHsbToHsl(e[0],e[1],1);t.$el.find(".color-picker-hs-spectrum-handle").css("background-color","hsl("+s[0]+", "+100*s[1]+"%, "+100*s[2]+"%)").transform("translate("+i*(e[0]/360)+"px, "+a*(1-e[1])+"px)")},destroy:function destroy(t){t.destroySpectrumEvents&&t.destroySpectrumEvents(),delete t.destroySpectrumEvents}};var It,Pt={render:function render(){return'\n      <div class="color-picker-module color-picker-module-wheel">\n        <div class="color-picker-wheel">\n          <svg viewBox="0 0 300 300" width="300" height="300">'+function svgWheelCircles(){for(var t="",e=256;0<e;e-=1){var i=e*Math.PI/128,a=1.40625*e;t+='<circle cx="'+(150-125*Math.sin(i))+'" cy="'+(150-125*Math.cos(i))+'" r="25" fill="hsl('+a+', 100%, 50%)"></circle>'}return t}()+'</svg>\n          <div class="color-picker-wheel-handle"></div>\n          <div class="color-picker-sb-spectrum" style="background-color: hsl(0, 100%, 50%)">\n            <div class="color-picker-sb-spectrum-handle"></div>\n          </div>\n        </div>\n      </div>\n    '},init:function init(n){var i,a,s,l,o,r,c,d,m,u,v,t=n.app,h=n.$el;function setHueFromWheelCoords(t,e){var i=r.left+r.width/2,a=r.top+r.height/2,s=180*Math.atan2(e-a,t-i)/Math.PI+90;s<0&&(s+=360),s=360-s,n.setValue({hue:s})}function setSBFromSpecterCoords(t,e){var i=(t-m.left)/m.width,a=(e-m.top)/m.height;i=Math.max(0,Math.min(1,i)),a=1-Math.max(0,Math.min(1,a)),n.setValue({hsb:[n.value.hue,i,a]})}function handleTouchStart(t){if(!i){a="touchstart"===t.type?t.targetTouches[0].pageX:t.pageX,l=a,s="touchstart"===t.type?t.targetTouches[0].pageY:t.pageY,o=s;var e=n.app.$(t.target);d=0<e.closest(".color-picker-wheel-handle").length,c=0<e.closest("circle").length,(v=0<e.closest(".color-picker-sb-spectrum-handle").length)||(u=0<e.closest(".color-picker-sb-spectrum").length),c&&(r=h.find(".color-picker-wheel")[0].getBoundingClientRect(),setHueFromWheelCoords(a,s)),u&&(m=h.find(".color-picker-sb-spectrum")[0].getBoundingClientRect(),setSBFromSpecterCoords(a,s)),(v||u)&&h.find(".color-picker-sb-spectrum-handle").addClass("color-picker-sb-spectrum-handle-pressed")}}function handleTouchMove(t){(c||d||u||v)&&(l="touchmove"===t.type?t.targetTouches[0].pageX:t.pageX,o="touchmove"===t.type?t.targetTouches[0].pageY:t.pageY,t.preventDefault(),i||(i=!0,d&&(r=h.find(".color-picker-wheel")[0].getBoundingClientRect()),v&&(m=h.find(".color-picker-sb-spectrum")[0].getBoundingClientRect())),(c||d)&&setHueFromWheelCoords(l,o),(u||v)&&setSBFromSpecterCoords(l,o))}function handleTouchEnd(){i=!1,(u||v)&&h.find(".color-picker-sb-spectrum-handle").removeClass("color-picker-sb-spectrum-handle-pressed"),v=u=d=c=!1}function handleResize(){n.modules.wheel.update(n)}var e=!("touchstart"!==t.touchEvents.start||!t.support.passiveListener)&&{passive:!0,capture:!1};n.$el.on(t.touchEvents.start,handleTouchStart,e),t.on("touchmove:active",handleTouchMove),t.on("touchend:passive",handleTouchEnd),t.on("resize",handleResize),n.destroyWheelEvents=function destroyWheelEvents(){n.$el.off(t.touchEvents.start,handleTouchStart,e),t.off("touchmove:active",handleTouchMove),t.off("touchend:passive",handleTouchEnd),t.off("resize",handleResize)}},update:function update(t){var e=t.value,i=e.hsl,a=e.hsb,s=t.$el.find(".color-picker-sb-spectrum")[0].offsetWidth,n=t.$el.find(".color-picker-sb-spectrum")[0].offsetHeight,l=t.$el.find(".color-picker-wheel")[0].offsetWidth,o=l/2,r=e.hue*Math.PI/180,c=l/6/2,d=o-Math.sin(r)*(o-c)-c,m=o-Math.cos(r)*(o-c)-c;t.$el.find(".color-picker-wheel-handle").css("background-color","hsl("+i[0]+", 100%, 50%)").transform("translate("+d+"px, "+m+"px)"),t.$el.find(".color-picker-sb-spectrum").css("background-color","hsl("+i[0]+", 100%, 50%)"),t.$el.find(".color-picker-sb-spectrum-handle").css("background-color","hsl("+i[0]+", "+100*i[1]+"%, "+100*i[2]+"%)").transform("translate("+s*a[1]+"px, "+n*(1-a[2])+"px)")},destroy:function destroy(t){t.destroyWheelEvents&&t.destroyWheelEvents(),delete t.destroyWheelEvents}},Rt={value:null,modules:["wheel"],palette:[["#FFEBEE","#FFCDD2","#EF9A9A","#E57373","#EF5350","#F44336","#E53935","#D32F2F","#C62828","#B71C1C"],["#F3E5F5","#E1BEE7","#CE93D8","#BA68C8","#AB47BC","#9C27B0","#8E24AA","#7B1FA2","#6A1B9A","#4A148C"],["#E8EAF6","#C5CAE9","#9FA8DA","#7986CB","#5C6BC0","#3F51B5","#3949AB","#303F9F","#283593","#1A237E"],["#E1F5FE","#B3E5FC","#81D4FA","#4FC3F7","#29B6F6","#03A9F4","#039BE5","#0288D1","#0277BD","#01579B"],["#E0F2F1","#B2DFDB","#80CBC4","#4DB6AC","#26A69A","#009688","#00897B","#00796B","#00695C","#004D40"],["#F1F8E9","#DCEDC8","#C5E1A5","#AED581","#9CCC65","#8BC34A","#7CB342","#689F38","#558B2F","#33691E"],["#FFFDE7","#FFF9C4","#FFF59D","#FFF176","#FFEE58","#FFEB3B","#FDD835","#FBC02D","#F9A825","#F57F17"],["#FFF3E0","#FFE0B2","#FFCC80","#FFB74D","#FFA726","#FF9800","#FB8C00","#F57C00","#EF6C00","#E65100"]],groupedModules:!1,centerModules:!0,sliderLabel:!1,sliderValue:!1,sliderValueEdiable:!1,barLabel:!1,barValue:!1,barValueEdiable:!1,hexLabel:!1,hexValueEditable:!1,redLabelText:"R",greenLabelText:"G",blueLabelText:"B",hueLabelText:"H",saturationLabelText:"S",brightnessLabelText:"B",hexLabelText:"HEX",alphaLabelText:"A",containerEl:null,openIn:"popover",openInPhone:"popup",popupPush:!0,popupSwipeToClose:void 0,sheetPush:!1,sheetSwipeToClose:void 0,formatValue:null,targetEl:null,targetElSetBackgroundColor:!1,inputEl:null,inputReadOnly:!0,closeByOutsideClick:!0,scrollToInput:!0,toolbarSheet:!0,toolbarPopover:!1,toolbarCloseText:"Done",navbarPopup:!0,navbarCloseText:"Done",navbarTitleText:"Color",navbarBackLinkText:"Back",cssClass:null,routableModals:!0,view:null,url:"color/",backdrop:null,closeByBackdropClick:!0,renderToolbar:null,renderNavbar:null,renderInline:null,renderPopover:null,renderSheet:null,renderPopup:null,render:null};function qe(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-list-item",{attrs:{title:t.title},on:{click:t.openColorPicker}},[i("span",{ref:"targetEl",staticClass:"list-color-picker-target",style:"background-color: "+t.value,attrs:{slot:"after"},slot:"after"})])}var Bt={props:{title:String,value:String},mounted:function mounted(){var i=this;i.colorPicker=function createColorPicker(t,e){return void 0===e&&(e={}),It?new It(t,e):new(It=function(o){function ColorPicker(i,t){void 0===t&&(t={}),o.call(this,t,[i]);var e,a,s,n,l=this;if(l.params=i.utils.extend({},Rt,t),l.params.containerEl&&0===(e=i.$(l.params.containerEl)).length)return l;function onInputClick(){l.open()}function onInputFocus(t){t.preventDefault()}function onTargetClick(){l.open()}function onHtmlClick(t){if("page"!==l.params.openIn){var e=i.$(t.target);l.opened&&!l.closing&&(e.closest('[class*="backdrop"]').length||e.closest(".color-picker-popup, .color-picker-popover").length||(a&&0<a.length?e[0]!==a[0]&&0===e.closest(".sheet-modal").length&&l.close():0===i.$(t.target).closest(".sheet-modal").length&&l.close()))}}return l.params.inputEl&&(a=i.$(l.params.inputEl)),l.params.targetEl&&(s=i.$(l.params.targetEl)),a&&(n=a.parents(".view").length&&a.parents(".view")[0].f7View),!n&&s&&(n=s.parents(".view").length&&s.parents(".view")[0].f7View),n=n||i.views.main,i.utils.extend(l,{app:i,$containerEl:e,containerEl:e&&e[0],inline:e&&0<e.length,$inputEl:a,inputEl:a&&a[0],$targetEl:s,targetEl:s&&s[0],initialized:!1,opened:!1,url:l.params.url,view:n,modules:{"alpha-slider":gt,"current-color":yt,hex:bt,"hsb-sliders":wt,"hue-slider":kt,"brightness-slider":Ct,palette:$t,"initial-current-colors":xt,"rgb-bars":Tt,"rgb-sliders":St,"sb-spectrum":Et,"hs-spectrum":Dt,wheel:Pt}}),i.utils.extend(l,{attachInputEvents:function attachInputEvents(){l.$inputEl.on("click",onInputClick),l.params.inputReadOnly&&l.$inputEl.on("focus mousedown",onInputFocus)},detachInputEvents:function detachInputEvents(){l.$inputEl.off("click",onInputClick),l.params.inputReadOnly&&l.$inputEl.off("focus mousedown",onInputFocus)},attachTargetEvents:function attachTargetEvents(){l.$targetEl.on("click",onTargetClick)},detachTargetEvents:function detachTargetEvents(){l.$targetEl.off("click",onTargetClick)},attachHtmlEvents:function attachHtmlEvents(){i.on("click",onHtmlClick)},detachHtmlEvents:function detachHtmlEvents(){i.off("click",onHtmlClick)}}),l.init(),l}return o&&(ColorPicker.__proto__=o),((ColorPicker.prototype=Object.create(o&&o.prototype)).constructor=ColorPicker).prototype.attachEvents=function attachEvents(){var t=this;t.centerModules=t.centerModules.bind(t),t.params.centerModules&&t.app.on("resize",t.centerModules)},ColorPicker.prototype.detachEvents=function detachEvents(){this.params.centerModules&&this.app.off("resize",this.centerModules)},ColorPicker.prototype.centerModules=function centerModules(){if(this.opened&&this.$el&&!this.inline){var t=this.$el.find(".page-content");if(t.length){var e=t[0];e.scrollHeight<=e.offsetHeight?t.addClass("justify-content-center"):t.removeClass("justify-content-center")}}},ColorPicker.prototype.initInput=function initInput(){this.$inputEl&&this.params.inputReadOnly&&this.$inputEl.prop("readOnly",!0)},ColorPicker.prototype.getModalType=function getModalType(){var t=this.app,e=this.modal,i=this.params,a=i.openIn,s=i.openInPhone;return e&&e.type?e.type:"auto"!==a?a:this.inline?null:t.device.ios?t.device.ipad?"popover":s:768<=t.width||t.device.desktop&&"aurora"===t.theme?"popover":s},ColorPicker.prototype.formatValue=function formatValue(){var t=this.value;return this.params.formatValue?this.params.formatValue.call(this,t):t.hex},ColorPicker.prototype.normalizeHsValues=function normalizeHsValues(t){return[Math.floor(10*t[0])/10,Math.floor(1e3*t[1])/1e3,Math.floor(1e3*t[2])/1e3]},ColorPicker.prototype.setValue=function setValue(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);var a=this,i=a.app;if(void 0!==e){var s=a.value||{},n=s.hex,l=s.rgb,o=s.hsl,r=s.hsb,c=s.alpha;void 0===c&&(c=1);var d,m=s.hue,u=s.rgba,v=s.hsla,h=a.value||!a.value&&!a.params.value;if(Object.keys(e).forEach(function(i){if(a.value&&void 0!==a.value[i]){var t=e[i];Array.isArray(t)?t.forEach(function(t,e){t!==a.value[i][e]&&(d=!0)}):t!==a.value[i]&&(d=!0)}else d=!0}),d){if(e.rgb||e.rgba){var _=e.rgb||e.rgba,p=_[0],f=_[1],g=_[2],y=_[3];void 0===y&&(y=c),l=[p,f,g],n=ft.colorRgbToHex.apply(ft,l),o=ft.colorRgbToHsl.apply(ft,l),r=ft.colorHslToHsb.apply(ft,o),o=a.normalizeHsValues(o),m=(r=a.normalizeHsValues(r))[0],c=y,u=[l[0],l[1],l[2],y],v=[o[0],o[1],o[2],y]}if(e.hsl||e.hsla){var b=e.hsl||e.hsla,w=b[0],k=b[1],C=b[2],$=b[3];void 0===$&&($=c),o=[w,k,C],l=ft.colorHslToRgb.apply(ft,o),n=ft.colorRgbToHex.apply(ft,l),r=ft.colorHslToHsb.apply(ft,o),o=a.normalizeHsValues(o),m=(r=a.normalizeHsValues(r))[0],c=$,u=[l[0],l[1],l[2],$],v=[o[0],o[1],o[2],$]}if(e.hsb){var x=e.hsb,T=x[0],S=x[1],E=x[2],D=x[3];void 0===D&&(D=c),r=[T,S,E],o=ft.colorHsbToHsl.apply(ft,r),l=ft.colorHslToRgb.apply(ft,o),n=ft.colorRgbToHex.apply(ft,l),o=a.normalizeHsValues(o),m=(r=a.normalizeHsValues(r))[0],c=D,u=[l[0],l[1],l[2],D],v=[o[0],o[1],o[2],D]}if(e.hex&&(l=ft.colorHexToRgb(e.hex),n=ft.colorRgbToHex.apply(ft,l),o=ft.colorRgbToHsl.apply(ft,l),r=ft.colorHslToHsb.apply(ft,o),o=a.normalizeHsValues(o),m=(r=a.normalizeHsValues(r))[0],u=[l[0],l[1],l[2],c],v=[o[0],o[1],o[2],c]),void 0!==e.alpha&&(c=e.alpha,void 0!==l&&(u=[l[0],l[1],l[2],c]),void 0!==o&&(v=[o[0],o[1],o[2],c])),void 0!==e.hue){o[0];var I=o[1],P=o[2];o=[e.hue,I,P],r=ft.colorHslToHsb.apply(ft,o),l=ft.colorHslToRgb.apply(ft,o),n=ft.colorRgbToHex.apply(ft,l),o=a.normalizeHsValues(o),m=(r=a.normalizeHsValues(r))[0],u=[l[0],l[1],l[2],c],v=[o[0],o[1],o[2],c]}a.value={hex:n,alpha:c,hue:m,rgb:l,hsl:o,hsb:r,rgba:u,hsla:v},a.initialValue||(a.initialValue=i.utils.extend({},a.value)),a.updateValue(h),a.opened&&t&&a.updateModules()}}},ColorPicker.prototype.getValue=function getValue(){return this.value},ColorPicker.prototype.updateValue=function updateValue(t){void 0===t&&(t=!0);var e=this,i=e.$inputEl,a=e.value,s=e.$targetEl;if(s&&e.params.targetElSetBackgroundColor){var n=a.rgba;s.css("background-color","rgba("+n.join(", ")+")")}if(t&&e.emit("local::change colorPickerChange",e,a),i&&i.length){var l=e.formatValue(a);i&&i.length&&(i.val(l),t&&i.trigger("change"))}},ColorPicker.prototype.updateModules=function updateModules(){var e=this,i=e.modules;e.params.modules.forEach(function(t){"string"==typeof t&&i[t]&&i[t].update?i[t].update(e):t&&t.update&&t.update(e)})},ColorPicker.prototype.update=function update(){this.updateModules()},ColorPicker.prototype.renderPicker=function renderPicker(){var e=this,t=e.params,i=e.modules,a="";return t.modules.forEach(function(t){"string"==typeof t&&i[t]&&i[t].render?a+=i[t].render(e):t&&t.render&&(a+=t.render(e))}),a},ColorPicker.prototype.renderNavbar=function renderNavbar(){var t=this;if(t.params.renderNavbar)return t.params.renderNavbar.call(t,t);var e=t.params,i=e.openIn,a=e.navbarTitleText,s=e.navbarBackLinkText,n=e.navbarCloseText;return('\n      <div class="navbar">\n        <div class="navbar-bg"></div>\n        <div class="navbar-inner sliding">\n          '+("page"===i?'\n          <div class="left">\n            <a class="link back">\n              <i class="icon icon-back"></i>\n              <span class="if-not-md">'+s+"</span>\n            </a>\n          </div>\n          ":"")+'\n          <div class="title">'+a+"</div>\n          "+("page"!==i?'\n          <div class="right">\n            <a class="link popup-close" data-popup=".color-picker-popup">'+n+"</a>\n          </div>\n          ":"")+"\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.renderToolbar=function renderToolbar(){var t=this;return t.params.renderToolbar?t.params.renderToolbar.call(t,t):('\n      <div class="toolbar toolbar-top no-shadow">\n        <div class="toolbar-inner">\n          <div class="left"></div>\n          <div class="right">\n            <a class="link sheet-close popover-close" data-sheet=".color-picker-sheet-modal" data-popover=".color-picker-popover">'+t.params.toolbarCloseText+"</a>\n          </div>\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.renderInline=function renderInline(){var t=this.params,e=t.cssClass;return('\n      <div class="color-picker color-picker-inline '+(t.groupedModules?"color-picker-grouped-modules":"")+" "+(e||"")+'">\n        '+this.renderPicker()+"\n      </div>\n    ").trim()},ColorPicker.prototype.renderSheet=function renderSheet(){var t=this.params,e=t.cssClass,i=t.toolbarSheet;return('\n      <div class="sheet-modal color-picker color-picker-sheet-modal '+(t.groupedModules?"color-picker-grouped-modules":"")+" "+(e||"")+'">\n        '+(i?this.renderToolbar():"")+'\n        <div class="sheet-modal-inner">\n          <div class="page-content">\n            '+this.renderPicker()+"\n          </div>\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.renderPopover=function renderPopover(){var t=this.params,e=t.cssClass,i=t.toolbarPopover;return('\n      <div class="popover color-picker-popover '+(e||"")+'">\n        <div class="popover-inner">\n          <div class="color-picker '+(t.groupedModules?"color-picker-grouped-modules":"")+'">\n            '+(i?this.renderToolbar():"")+'\n            <div class="page-content">\n              '+this.renderPicker()+"\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.renderPopup=function renderPopup(){var t=this.params,e=t.cssClass,i=t.navbarPopup,a=t.groupedModules;return('\n      <div class="popup color-picker-popup '+(e||"")+'">\n        <div class="page">\n          '+(i?this.renderNavbar():"")+'\n          <div class="color-picker '+(a?"color-picker-grouped-modules":"")+'">\n            <div class="page-content">\n              '+this.renderPicker()+"\n            </div>\n          </div>\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.renderPage=function renderPage(){var t=this.params,e=t.cssClass,i=t.groupedModules;return('\n      <div class="page color-picker-page '+(e||"")+'" data-name="color-picker-page">\n        '+this.renderNavbar()+'\n        <div class="color-picker '+(i?"color-picker-grouped-modules":"")+'">\n          <div class="page-content">\n            '+this.renderPicker()+"\n          </div>\n        </div>\n      </div>\n    ").trim()},ColorPicker.prototype.render=function render(){var t=this,e=t.params;if(e.render)return e.render.call(t);if(t.inline)return t.renderInline();if("page"===e.openIn)return t.renderPage();var i=t.getModalType();return"popover"===i?t.renderPopover():"sheet"===i?t.renderSheet():"popup"===i?t.renderPopup():void 0},ColorPicker.prototype.onOpen=function onOpen(){var e=this,t=e.initialized,i=e.$el,a=e.app,s=e.$inputEl,n=e.inline,l=e.value,o=e.params,r=e.modules;e.closing=!1,e.opened=!0,e.opening=!0,e.attachEvents(),o.modules.forEach(function(t){"string"==typeof t&&r[t]&&r[t].init?r[t].init(e):t&&t.init&&t.init(e)});var c=!l&&o.value;t?l&&(e.initialValue=a.utils.extend({},l),e.setValue(l,!1)):l?e.setValue(l):o.value?e.setValue(o.value,!1):o.value||e.setValue({hex:"#ff0000"},!1),c&&e.updateValue(),e.updateModules(),o.centerModules&&e.centerModules(),!n&&s&&s.length&&"md"===a.theme&&s.trigger("focus"),e.initialized=!0,i&&i.trigger("colorpicker:open"),s&&s.trigger("colorpicker:open"),e.emit("local::open colorPickerOpen",e)},ColorPicker.prototype.onOpened=function onOpened(){var t=this;t.opening=!1,t.$el&&t.$el.trigger("colorpicker:opened"),t.$inputEl&&t.$inputEl.trigger("colorpicker:opened"),t.emit("local::opened colorPickerOpened",t)},ColorPicker.prototype.onClose=function onClose(){var e=this,t=e.app,i=e.params,a=e.modules;e.opening=!1,e.closing=!0,e.detachEvents(),e.$inputEl&&"md"===t.theme&&e.$inputEl.trigger("blur"),i.modules.forEach(function(t){"string"==typeof t&&a[t]&&a[t].update?a[t].destroy(e):t&&t.destroy&&t.destroy(e)}),e.$el&&e.$el.trigger("colorpicker:close"),e.$inputEl&&e.$inputEl.trigger("colorpicker:close"),e.emit("local::close colorPickerClose",e)},ColorPicker.prototype.onClosed=function onClosed(){var t=this;t.opened=!1,t.closing=!1,t.inline||t.app.utils.nextTick(function(){t.modal&&t.modal.el&&t.modal.destroy&&(t.params.routableModals||t.modal.destroy()),delete t.modal}),t.$el&&t.$el.trigger("colorpicker:closed"),t.$inputEl&&t.$inputEl.trigger("colorpicker:closed"),t.emit("local::closed colorPickerClosed",t)},ColorPicker.prototype.open=function open(){var t,i=this,e=i.app,a=i.opened,s=i.inline,n=i.$inputEl,l=i.$targetEl,o=i.params;if(!a){if(s)return i.$el=e.$(i.render()),(i.$el[0].f7ColorPicker=i).$containerEl.append(i.$el),i.onOpen(),void i.onOpened();var r=i.render();if("page"===o.openIn)i.view.router.navigate({url:i.url,route:{content:r,path:i.url,on:{pageBeforeIn:function pageBeforeIn(t,e){i.$el=e.$el.find(".color-picker"),(i.$el[0].f7ColorPicker=i).onOpen()},pageAfterIn:function pageAfterIn(){i.onOpened()},pageBeforeOut:function pageBeforeOut(){i.onClose()},pageAfterOut:function pageAfterOut(){i.onClosed(),i.$el&&i.$el[0]&&(i.$el[0].f7ColorPicker=null,delete i.$el[0].f7ColorPicker)}}}});else{var c=i.getModalType(),d=o.backdrop;null==d&&("popover"===c&&!1!==e.params.popover.backdrop&&(d=!0),"popup"===c&&(d=!0));var m={targetEl:l||n,scrollToEl:o.scrollToInput?l||n:void 0,content:r,backdrop:d,closeByBackdropClick:o.closeByBackdropClick,on:{open:function open(){i.modal=this,i.$el="popover"===c||"popup"===c?this.$el.find(".color-picker"):this.$el,(i.$el[0].f7ColorPicker=i).onOpen()},opened:function opened(){i.onOpened()},close:function close(){i.onClose()},closed:function closed(){i.onClosed(),i.$el&&i.$el[0]&&(i.$el[0].f7ColorPicker=null,delete i.$el[0].f7ColorPicker)}}};"popup"===c&&(m.push=o.popupPush,m.swipeToClose=o.popupSwipeToClose),"sheet"===c&&(m.push=o.sheetPush,m.swipeToClose=o.sheetSwipeToClose),o.routableModals?i.view.router.navigate({url:i.url,route:(t={path:i.url},t[c]=m,t)}):(i.modal=e[c].create(m),i.modal.open())}}},ColorPicker.prototype.close=function close(){var t=this,e=t.opened,i=t.inline;if(e)return i?(t.onClose(),void t.onClosed()):void(t.params.routableModals?t.view.router.back():t.modal.close())},ColorPicker.prototype.init=function init(){var t=this;if(t.initInput(),t.inline)return t.open(),void t.emit("local::init colorPickerInit",t);!t.initialized&&t.params.value&&t.setValue(t.params.value),t.$inputEl&&t.attachInputEvents(),t.$targetEl&&t.attachTargetEvents(),t.params.closeByOutsideClick&&t.attachHtmlEvents(),t.emit("local::init colorPickerInit",t)},ColorPicker.prototype.destroy=function destroy(){var t=this;if(!t.destroyed){var e=t.$el;t.emit("local::beforeDestroy colorPickerBeforeDestroy",t),e&&e.trigger("colorpicker:beforedestroy"),t.close(),t.detachEvents(),t.$inputEl&&t.detachInputEvents(),t.$targetEl&&t.detachTargetEvents(),t.params.closeByOutsideClick&&t.detachHtmlEvents(),e&&e.length&&delete t.$el[0].f7ColorPicker,t.app.utils.deleteProps(t),t.destroyed=!0}},ColorPicker}(t.constructor.Class))(t,e)}(i.$f7,{targetEl:i.$refs.targetEl,value:{hex:i.value},openIn:"popover",openInPhone:"popover",backdrop:!1,modules:["wheel"],cssClass:"whs-color-picker-popover",on:{change:function change(t,e){i.$emit("change",e.hex)}}})},beforeDestroy:function beforeDestroy(){this.colorPicker&&this.colorPicker.destroy()},methods:{openColorPicker:function openColorPicker(){this.colorPicker.open()}}};qe._withStripped=!0;function ze(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_edit.title_item")))]),e._v(" "),e.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(t){return e.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):e._e()],1),e._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.name_label"),"inline-label":"",value:e.settings.name},on:{input:function(t){return e.updateValue("name",t.target.value)}}}),e._v(" "),i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:e.settings.plural_name},on:{input:function(t){return e.updateValue("plural_name",t.target.value)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_bg_color"),value:e.settings.header_color},on:{change:function(t){return e.updateValue("header_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_font_color"),value:e.settings.highlight_color},on:{change:function(t){return e.updateValue("highlight_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.standard_font_color"),value:e.settings.font_color},on:{change:function(t){return e.updateValue("font_color",t)}}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_edit.fields"),link:"/whs/settings/items/fields/"}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings"),divider:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_main_menu"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_summary"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_locations"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_tags"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)}var Ft=normalizeComponent({render:qe,staticRenderFns:[]},void 0,Bt,void 0,!1,void 0,!1,void 0,void 0,void 0),Mt={components:{ListColorPicker:Ft},data:function data(){return{edited:!1,settings:Object.assign({},s.main_page.$data.settings.item)}},created:function created(){},computed:{},methods:{updateValue:function updateValue(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function updateSettings(){var t=this;self=this,self.edited=!1,s.main_page.$data.settings.item=self.settings,s.saveSettings("item",self.settings).then(function(){s.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))})}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};ze._withStripped=!0;function Ie(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.$t("whs.settings_fields.title")))]),t._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list",attrs:{sortable:"",sortableEnabled:""}},[i("ul",[i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings_fields.active")}}),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.name_label"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.description_label"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.settings_fields.description_info")))])]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.photo_label"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-photo",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.settings_fields.photo_info")))])]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.value_label"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dollar",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.settings_fields.value_info")))])]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.weight_label"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-int",attrs:{slot:"media"},slot:"media"}),t._v(" "),i("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("whs.settings_fields.weight_info")))])])],1)]),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list"},[i("ul",[i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings_fields.inactive")}}),t._v(" "),i("f7-list-item",{attrs:{title:"Lot Code",link:"/whs/settings/items/field/"}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa",attrs:{slot:"media"},slot:"media"})])],1)]),t._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list whs-fields-list"},[i("ul",[i("f7-list-item",{attrs:{divider:"",title:t.$t("whs.settings_fields.inactive_custom")}}),t._v(" "),i("f7-list-item",{attrs:{title:"Custom Field Name",link:"/whs/settings/items/field/"}},[i("div",{attrs:{slot:"title"},slot:"title"},[t._v("Custom description")]),t._v(" "),i("i",{staticClass:"whs-form-icon whs-form-icon-calendar",attrs:{slot:"media"},slot:"media"})]),t._v(" "),i("f7-list-item",{attrs:{title:t.$t("whs.settings_fields.new_custom_field"),link:"/whs/settings/items/field/"}},[i("i",{staticClass:"icon f7-icons color-red",attrs:{slot:"media"},slot:"media"},[t._v("add")])])],1)])],1)}var At=normalizeComponent({render:ze,staticRenderFns:[]},void 0,Mt,void 0,!1,void 0,!1,void 0,void 0,void 0),Lt={data:function data(){return{}},created:function created(){},computed:{},methods:{},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};Ie._withStripped=!0;function Re(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-popup",{staticClass:"whs-field-type-popup"},[i("f7-page",[i("f7-navbar",[i("f7-nav-left",[i("f7-link",{attrs:{"icon-f7":"close","popup-close":".whs-field-type-popup"}})],1),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_type.title")))])],1),e._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines"},[i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.currency"),checked:"currency"===e.type,radio:""},on:{change:function(t){return e.onChange("currency")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dollar",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.switch"),checked:"switch"===e.type,radio:""},on:{change:function(t){return e.onChange("switch")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-toggle",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.single_line_text"),checked:"single_line_text"===e.type,radio:""},on:{change:function(t){return e.onChange("single_line_text")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.multi_line_text"),checked:"multi_line_text"===e.type,radio:""},on:{change:function(t){return e.onChange("multi_line_text")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-text-multiline",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.percentage"),checked:"percentage"===e.type,radio:""},on:{change:function(t){return e.onChange("percentage")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-percentage",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.integer"),checked:"integer"===e.type,radio:""},on:{change:function(t){return e.onChange("integer")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-1",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.barcode"),checked:"barcode"===e.type,radio:""},on:{change:function(t){return e.onChange("barcode")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-barcode",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.date"),checked:"date"===e.type,radio:""},on:{change:function(t){return e.onChange("date")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-calendar",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.url"),checked:"url"===e.type,radio:""},on:{change:function(t){return e.onChange("url")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-link",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.single_select"),checked:"single_select"===e.type,radio:""},on:{change:function(t){return e.onChange("single_select")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot",attrs:{slot:"media"},slot:"media"})]),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_type.multi_select"),checked:"multi_select"===e.type,radio:""},on:{change:function(t){return e.onChange("multi_select")}}},[i("i",{staticClass:"whs-form-icon whs-form-icon-check",attrs:{slot:"media"},slot:"media"})])],1)],1)],1)}var Vt=normalizeComponent({render:Ie,staticRenderFns:[]},void 0,Lt,void 0,!1,void 0,!1,void 0,void 0,void 0),Ht={props:{type:String},methods:{onChange:function onChange(t){this.$emit("change",t)}}};Re._withStripped=!0;function $e(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_field.title")))]),e._v(" "),i("f7-nav-right",{staticClass:"whs-navbar-links"},[i("f7-link",{attrs:{"icon-only":""}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"whs-field-delete-button",attrs:{slot:"fixed"},slot:"fixed"},[i("a",[e._v(e._s(e.$t("whs.settings_field.delete")))])]),e._v(" "),i("f7-list",{staticClass:"whs-form"},[i("ul",[i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n        "+e._s(e.$t("whs.settings_field.name_label"))+"\n      ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:e.$t("whs.common.required_placeholder"),value:"Name"}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n        "+e._s(e.$t("whs.settings_field.alias_label"))+"\n      ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:e.$t("whs.common.required_placeholder"),value:"Name"}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-aa"}),e._v("\n        "+e._s(e.$t("whs.settings_field.description_label"))+"\n      ")]),e._v(" "),i("f7-list-input",{attrs:{type:"text",placeholder:e.$t("whs.common.required_placeholder"),value:"Short single line name of the item"}}),e._v(" "),i("f7-list-item",{attrs:{divider:""}},[i("i",{staticClass:"whs-form-icon whs-form-icon-dot"}),e._v("\n        "+e._s(e.$t("whs.settings_field.type_label"))+"\n      ")]),e._v(" "),i("f7-list-item",{attrs:{link:"","popup-open":".whs-field-type-popup",title:"Single line text"}})],1)]),e._v(" "),i("field-type-picker",{attrs:{type:e.type},on:{change:function(t){return e.type=t}}})],1)}var Nt={components:{FieldTypePicker:normalizeComponent({render:Re,staticRenderFns:[]},void 0,Ht,void 0,!1,void 0,!1,void 0,void 0,void 0)},data:function data(){return{type:"single_line_text"}},created:function created(){},computed:{},methods:{},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};$e._withStripped=!0;function hf(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_edit.title_location")))]),e._v(" "),e.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(t){return e.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):e._e()],1),e._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.name_label"),"inline-label":"",value:e.settings.name},on:{input:function(t){return e.updateValue("name",t.target.value)}}}),e._v(" "),i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:e.settings.plural_name},on:{input:function(t){return e.updateValue("plural_name",t.target.value)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_bg_color"),value:e.settings.header_color},on:{change:function(t){return e.updateValue("header_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_font_color"),value:e.settings.highlight_color},on:{change:function(t){return e.updateValue("highlight_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.standard_font_color"),value:e.settings.font_color},on:{change:function(t){return e.updateValue("font_color",t)}}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_edit.fields"),link:"/whs/settings/locations/fields/"}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings"),divider:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_main_menu"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_summary"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_items"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_tags"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)}var Ot=normalizeComponent({render:$e,staticRenderFns:[]},void 0,Nt,void 0,!1,void 0,!1,void 0,void 0,void 0),zt={components:{ListColorPicker:Ft},data:function data(){return{edited:!1,settings:Object.assign({},s.main_page.$data.settings.location)}},created:function created(){},computed:{},methods:{updateValue:function updateValue(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function updateSettings(){var t=this;self=this,self.edited=!1,s.main_page.$data.settings.location=self.settings,s.saveSettings("location",self.settings).then(function(){s.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))})}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};hf._withStripped=!0;function rf(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_edit.title_tag")))]),e._v(" "),e.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(t){return e.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):e._e()],1),e._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.name_label"),"inline-label":"",value:e.settings.name},on:{input:function(t){return e.updateValue("name",t.target.value)}}}),e._v(" "),i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:e.settings.plural_name},on:{input:function(t){return e.updateValue("plural_name",t.target.value)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_bg_color"),value:e.settings.header_color},on:{change:function(t){return e.updateValue("header_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_font_color"),value:e.settings.highlight_color},on:{change:function(t){return e.updateValue("highlight_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.standard_font_color"),value:e.settings.font_color},on:{change:function(t){return e.updateValue("font_color",t)}}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_edit.fields"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings"),divider:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_main_menu"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_summary"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_locations"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_tags"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)}var Ut=normalizeComponent({render:hf,staticRenderFns:[]},void 0,zt,void 0,!1,void 0,!1,void 0,void 0,void 0),jt={components:{ListColorPicker:Ft},data:function data(){return{edited:!1,settings:Object.assign({},s.main_page.$data.settings.tag)}},created:function created(){},computed:{},methods:{updateValue:function updateValue(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function updateSettings(){var t=this;self=this,self.edited=!1,s.main_page.$data.settings.item=self.settings,s.saveSettings("tag",self.settings).then(function(){s.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))})}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};rf._withStripped=!0;function Af(){var e=this,t=e.$createElement,i=e._self._c||t;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),e._v(" "),i("f7-nav-title",[e._v(e._s(e.$t("whs.settings_edit.title_activities")))]),e._v(" "),e.edited?i("f7-nav-right",[i("f7-link",{on:{click:function(t){return e.updateSettings()}}},[i("f7-icon",{attrs:{f7:"check"}})],1)],1):e._e()],1),e._v(" "),i("f7-list",{staticClass:"no-margin no-hairlines whs-settings-list"},[i("ul",[i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.name_label"),"inline-label":"",value:e.settings.name},on:{input:function(t){return e.updateValue("name",t.target.value)}}}),e._v(" "),i("f7-list-input",{attrs:{type:"text",label:e.$t("whs.settings_edit.plural_name_label"),"inline-label":"",value:e.settings.plural_name},on:{input:function(t){return e.updateValue("plural_name",t.target.value)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_bg_color"),value:e.settings.header_color},on:{change:function(t){return e.updateValue("header_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.header_font_color"),value:e.settings.highlight_color},on:{change:function(t){return e.updateValue("highlight_color",t)}}}),e._v(" "),i("list-color-picker",{attrs:{title:e.$t("whs.settings_edit.standard_font_color"),value:e.settings.font_color},on:{change:function(t){return e.updateValue("font_color",t)}}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings_edit.fields"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings"),divider:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_main_menu"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_summary"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_locations"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_tags"),link:""}}),e._v(" "),i("f7-list-item",{attrs:{title:e.$t("whs.settings.view_settings_activities"),link:""}})],1)])],1)}var Yt=normalizeComponent({render:rf,staticRenderFns:[]},void 0,jt,void 0,!1,void 0,!1,void 0,void 0,void 0),Gt={components:{ListColorPicker:Ft},data:function data(){return{edited:!1,settings:Object.assign({},s.main_page.$data.settings.activity)}},created:function created(){},computed:{},methods:{updateValue:function updateValue(t,e){self=this,self.editParam=null,self.edited=!0,self.settings[t]=e},updateSettings:function updateSettings(){var t=this;self=this,self.edited=!1,s.main_page.$data.settings.activity=self.settings,s.saveSettings("activity",self.settings).then(function(){s.toast(self.$t("whs.toast.settings",{text:t.settings.plural_name}))})}},beforeDestroy:function beforeDestroy(){},mounted:function mounted(){}};Af._withStripped=!0;function Jf(){var i=this,t=i.$createElement,a=i._self._c||t;return a("div",{staticClass:"main-list-container"},[i.loaded?[0<Object.keys(i.data).length?a("f7-list",{staticClass:"whs-list whs-select-list searchbar-found",attrs:{"media-list":"",id:"whs-select-"+i.type}},i._l(i.data,function(e,t){return a("f7-list-item",{key:i.type+"_"+t,attrs:{checkbox:i.multiply,radio:!i.multiply,name:"whs-select-list-item",checked:i.checkId(e),title:e.name||e.first_name+" "+e.last_name},on:{change:function(t){return i.toggleItem(e,t.target.checked)}}},[a("div",{staticClass:"whs-item-image",style:[e[i.image_link]?{"background-image":"url("+e[i.image_link]+")"}:i.styleImage],attrs:{slot:"media"},slot:"media"}),i._v(" "),e.description?a("div",{staticClass:"whs-item-row description"},[i._v(i._s(e.description))]):i._e()])}),1):a("empty-block",{attrs:{text:i.$t("whs.common.no",{text:i.settings[i.type].plural_name})}})]:i._e(),i._v(" "),i.loaded?i._e():[a("div",{staticStyle:{background:"#fff"}},[a("f7-list",{staticClass:"whs-list whs-select-list skeleton-text skeleton-effect-blink",attrs:{"media-list":""}},i._l(i.skeleton_count,function(t){return a("f7-list-item",{key:"skeleton"+i.type+"_"+t},[a("div",{staticClass:"item-title",staticStyle:{color:"#ccc !important"}},[i._v("_______________")]),i._v(" "),a("div",{staticClass:"whs-item-image",attrs:{slot:"media"},slot:"media"}),i._v(" "),a("div",{staticClass:"whs-item-row"},[i._v("_______________")])])}),1)],1)]],2)}var Kt=normalizeComponent({render:Af,staticRenderFns:[]},void 0,Gt,void 0,!1,void 0,!1,void 0,void 0,void 0),qt={name:"MainList",components:{EmptyBlock:a},props:{type:String,data:Object,selected:Array,styleImage:Object,multiply:Boolean,image_link:{type:String,default:"image"},loaded:{type:Boolean,default:!1},skeleton_count:{type:Number,default:5}},methods:{toggleItem:function toggleItem(t,e){self=this,self.$emit("change",{target:t,checked:e})},checkId:function checkId(e){return void 0!==this.selected&&0<this.selected.filter(function(t){return t.id===e.id&&t.pseudo_type===e.pseudo_type}).length}},data:function data(){return{settings:s.main_page.$data.settings}}};Jf._withStripped=!0;function Sf(){var t=this,e=t.$createElement,i=t._self._c||e;return i("f7-page",[i("f7-navbar",[i("tommy-nav-back"),t._v(" "),i("f7-nav-title",[t._v(t._s(t.pageTitle))]),t._v(" "),i("f7-subnavbar",{attrs:{inner:!1}},[i("f7-searchbar",{attrs:{init:!1}})],1)],1),t._v(" "),i("select-list",{attrs:{type:t.type,data:t.targets,styleImage:t.tagStyle,loaded:t.loaded,selected:t.selected,multiply:t.multiply,image_link:t.image_link},on:{change:t.selectChanget}})],1)}var Wt=normalizeComponent({render:Jf,staticRenderFns:[]},void 0,qt,void 0,!1,void 0,!1,void 0,void 0,void 0),Xt={props:{selected:Array,onChange:Function,getData:Function,pageTitle:String,type:String,multiply:Boolean,image_link:String},components:{"select-list":Wt},mixins:[o],mounted:function mounted(){self=this,self.getData(this)},methods:{createSearchbar:function createSearchbar(){self=this,self.$nextTick(function(){self.$f7.searchbar.create({el:".searchbar",searchContainer:"#whs-select-"+self.type,searchIn:".item-title"})})},selectChanget:function selectChanget(t){self=this,self.onChange(t.target,t.checked)}},data:function data(){return{targets:{},loaded:!1,settings:s.main_page.$data.settings}}};return[{path:"/whs/",component:c,keepAlive:Sf._withStripped=!0},{path:"/whs/item/",component:I},{path:"/whs/location/",component:M},{path:"/whs/tag/",component:L},{path:"/whs/team/",component:z},{path:"/whs/role/",component:G},{path:"/whs/item-add/",component:tt},{path:"/whs/tag-add/",component:it},{path:"/whs/location-add/",component:lt},{path:"/whs/activity-add/",component:ht},{path:"/whs/settings/",component:pt},{path:"/whs/settings/items/",component:At},{path:"/whs/settings/items/fields/",component:Vt},{path:"/whs/settings/items/field/",component:Ot},{path:"/whs/settings/locations/",component:Ut},{path:"/whs/settings/tags/",component:Yt},{path:"/whs/settings/activities/",component:Kt},{path:"/whs/select-picker/",component:normalizeComponent({render:Sf,staticRenderFns:[]},void 0,Xt,void 0,!1,void 0,!1,void 0,void 0,void 0)}]}();