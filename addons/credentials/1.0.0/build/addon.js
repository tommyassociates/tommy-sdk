var addon=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e,n){"use strict";function o(t,e,n,o,r,a,i,c){var s,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),o&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),i?(s=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=s):r&&(s=c?function(){r.call(this,this.$root.$options.shadowRoot)}:r),s)if(l.functional){l._injectStyles=s;var d=l.render;l.render=function(t,e){return s.call(e),d(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,s):[s]}return{exports:t,options:l}}n.d(e,"a",(function(){return o}))},function(t,e,n){"use strict";var o=n(2),r=n.n(o);e.default=r.a},function(t,e){},function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"credentials__help-xero",id:"credentials__help-xero"}},[n("f7-navbar",[n("tommy-nav-back"),t._v(" "),n("f7-nav-title",[t._v("Xero Help")]),t._v(" "),n("f7-nav-right")],1),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("Xero Integration")]),t._v(" "),n("div",{staticClass:"card-content card-content-padding"},[n("p",[t._v("\n          If you are already using Xero to manage your staff and payroll\n          then you can connect your Xero account to Tommy in order to have\n          employee timesheets from Tommy automatically synchronized to Xero.\n        ")])])]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("Matching Employee Records")]),t._v(" "),n("div",{staticClass:"card-content card-content-padding"},[n("p",[t._v("\n          In order to synchronize data between Tommy and Xero for employees the\n          email address will need to match on both platforms.\n          This means that the email address the employee used to sign up with\n          Tommy needs to match the email adress listed for the employee on Xero.\n        ")])])]),t._v(" "),n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[t._v("Configuring Pay Periods")]),t._v(" "),n("div",{staticClass:"card-content card-content-padding"},[n("p",[t._v("\n          When synchronizing timesheets from Tommy to Xero its essential that the\n          time periods match between the two platforms, or synchronization will fail.\n          For instance, if you use forntnightly time periods on Xero you will need to use\n          the same setting on Tommy.\n        ")]),t._v(" "),n("p",[t._v("\n          On the "),n("strong",[t._v("Tommy")]),t._v(" side you can configure the time priod on the\n          "),n("strong",[t._v("Timesheets > Settings")]),t._v(" page.\n        ")]),t._v(" "),n("p",[t._v("\n          On the "),n("strong",[t._v("Xero")]),t._v(" side you will need to have a payroll calendar\n          configured which matches the pay period on Tommy. Please refer to the\n          "),n("a",{attrs:{target:"_blank",href:"https://central.xero.com/s/article/Add-a-pay-calendar-AU"}},[t._v("Xero documentation")]),t._v("\n          for help.\n        ")])])])],1)},r=[];o._withStripped=!0,n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}))},function(t,e,n){"use strict";var o=n(3),r=n(1),a=n(0),i=Object(a.a)(r.default,o.a,o.b,!1,null,null,null);i.options.__file="addons/credentials/1.0.0/src/pages/help-xero.vue",e.default=i.exports},,function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{id:"credentials__index"}},[n("f7-navbar",[n("tommy-nav-menu"),t._v(" "),n("f7-nav-title",[t._v(t._s(t.$t("credentials.index.title")))]),t._v(" "),n("f7-nav-right")],1),t._v(" "),n("f7-list",{staticClass:"list-custom credentials",attrs:{"media-list":""}},[n("f7-list-item",{attrs:{title:"Xero",text:"Xero's online accounting software connects you to accountants & bookkeepers, your bank, & helps get you STP compliant."}},[n("div",{staticClass:"segmented",attrs:{slot:"after"},slot:"after"},[n("f7-button",{attrs:{"icon-material":"help",href:"/credentials/help/xero",small:""}}),t._v(" "),t.credentials.xero_oauth2?n("f7-button",{attrs:{"icon-material":"info",href:"/credentials/audit-logs/Xero",small:""}}):t._e(),t._v(" "),t.credentials.xero_oauth2?n("f7-button",{attrs:{color:"red","icon-material":"link",fill:"",small:""},on:{click:function(e){return t.disconnectAccount(t.credentials.xero_oauth2)}}}):t._e(),t._v(" "),t.credentials.xero_oauth2?t._e():n("f7-button",{attrs:{color:"green","icon-material":"link",fill:"",small:""},on:{click:function(e){return t.connectAccount("xero_oauth2")}}})],1),t._v(" "),n("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"xero.png"},slot:"media"})])],1)],1)};o._withStripped=!0;var r={data:{},get:function(t,e){return t&&this.data[t]?e?this.data[t][e]:this.data[t]:null},set:function(t,e,n){void 0===this.data[t]&&(this.data[t]={}),this.data[t][e]=n},reset:function(t,e){var n=this;t&&e?this.data[t]&&Object.keys(this.data[t]).forEach((function(o){-1!==o.indexOf(e)&&delete n.data[t][o]})):t?this.data[t]={}:this.data={}}},a={env:"production",setJSON:function(t,e){r.set("config",t,e),localStorage.setItem(t,JSON.stringify(e))},getJSON:function(t){var e=r.get("config",t);if(e)return e;e=localStorage.getItem(t);try{return null!==(e=JSON.parse(localStorage.getItem(t)))&&(e=JSON.parse(localStorage.getItem(t)),r.set("config",t,e)),e}catch(e){return localStorage.removeItem(t),null}}};Object.defineProperties(a,{locale:{get:function(){var t=window.localeOverride||localStorage.language;return t||(t="zh-CN"===window.navigator.language||window.location.hostname.indexOf(".cn")>0?"zh-CN":"en-US"),t}},country:{get:function(){var t=window.countryOverride||localStorage.country;return t||(t=-1===window.location.hostname.indexOf(".cn")?"en":"cn"),t}},serverUrl:{get:function(){return localStorage.serverUrl?localStorage.serverUrl:"cn"===a.country?"https://api.tuome.com.cn":"https://api.mytommy.com"}},cdnUrl:{get:function(){return localStorage.cdnUrl?localStorage.cdnUrl:"cn"===a.country?"https://cdn.tuome.com.cn":"https://cdn.mytommy.com"}},apiUrl:{get:function(){return"".concat(a.serverUrl,"/v1/")}},chatServerUrl:{get:function(){return localStorage.chatServerUrl?localStorage.chatServerUrl:"cn"===a.country?"https://chat.tuome.com.cn":"https://chat.mytommy.com"}},errorLog:{get:function(){if(void 0===localStorage.errorLogEnable)return!1;switch(localStorage.errorLogEnable){case"true":return!0;case"false":default:return!1}},set:function(t){localStorage.errorLogEnable=t}},firstRun:{get:function(){if(void 0===localStorage.firstRun)return!0;switch(localStorage.firstRun){case"true":return!0;case"false":return!1;default:return!0}},set:function(t){localStorage.firstRun=t}}});var i=a,c={data:function(){return{credentials:{}}},mounted:function(){this.loadCredentials()},methods:{loadCredentials:function(){var t=this;this.$api.call({endpoint:"credentials",cache:!1}).then((function(e){e.forEach((function(e){return t.$set(t.credentials,e.provider,e)})),console.log("loaded credentials",t.credentials)}))},connectAccount:function(t){confirm("Are you sure?")&&this.$api.call({endpoint:"credentials",method:"POST",data:{provider:t}}).then((function(t){console.log("created credential",t),window.location="".concat(i.serverUrl,"/v1/credentials/").concat(t.id,"/connect?token=").concat(localStorage.token,"&redirect_url=").concat(location.href)}))},disconnectAccount:function(t){var e=this;confirm("Are you sure?")&&this.$api.call({endpoint:"credentials/".concat(t.id),method:"DELETE"}).then((function(t){console.log("deleted credential",t),e.$delete(e.credentials,t.provider)}))}}},s=n(0),l=Object(s.a)(c,o,[],!1,null,null,null);l.options.__file="addons/credentials/1.0.0/src/pages/index.vue";var d=l.exports,u=n(4),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{name:"credentials__audit-logs",id:"credentials__audit-logs"}},[n("f7-navbar",[n("tommy-nav-back"),t._v(" "),n("f7-nav-title",[t._v("Audit Logs")]),t._v(" "),n("f7-nav-right")],1),t._v(" "),!t.loading&&t.items.length?n("f7-list",{attrs:{"media-list":""}},t._l(t.items,(function(e,o){return n("f7-list-item",{key:o,attrs:{title:e.name,text:t.logMessage(e),after:t.formatDate(e.created_at,"D/M/YY hh:mm:ss")}})})),1):n("div",{staticClass:"text-align-center",staticStyle:{"font-size":"18px",color:"#999"}},[t._v("No items to display")])],1)};f._withStripped=!0;var m={data:function(){return{items:[],loading:!0}},mounted:function(){this.loadLogs()},methods:{formatDate:function(t,e){var n=window.tommy.moment,o=n.utc(t).toDate();return n(o).format(e)},logMessage:function(t){var e=t.message;return t.error&&(e+=": "+t.error),e},loadLogs:function(){var t=this;this.$api.call({endpoint:"audit_logs?realm=".concat(this.$f7route.params.realm),cache:!1}).then((function(e){t.items=e,t.loading=!1,console.log("loaded audit logs",t.items)}))}}},h=Object(s.a)(m,f,[],!1,null,null,null);h.options.__file="addons/credentials/1.0.0/src/pages/audit-logs.vue";var v=h.exports,p=[{path:"/credentials/",name:"credentials__index",component:d},{path:"/credentials/help/xero",component:u.default},{path:"/credentials/audit-logs/:realm",component:v}];e.default=p}]).default;