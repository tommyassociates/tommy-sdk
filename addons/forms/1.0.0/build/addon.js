var addon=function(t){var e={};function s(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=t,s.c=e,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([,function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-menu"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.index.title","Forms")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"icon-f7":"gear"}})],1)],1),t._v(" "),s("div",{staticClass:"forms-scrollable-tabbar no-swipe-panel"},[s("div",{staticClass:"forms-tabbar-inner"},[s("a",{staticClass:"tab-link tab-link-active",attrs:{href:"#tab-templates"}},[t._v(t._s(t.$t("forms.index.menu_templates_label")))]),t._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-assigned"}},[t._v(t._s(t.$t("forms.index.menu_assigned_label")))]),t._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-completed"}},[t._v(t._s(t.$t("forms.index.menu_completed_label")))]),t._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-shortcuts"}},[t._v(t._s(t.$t("forms.index.menu_shortcuts_label")))]),t._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-my-forms"}},[t._v(t._s(t.$t("forms.index.menu_myforms_label")))])])]),t._v(" "),t.fabBackdropVisible?s("div",{staticClass:"forms-fab-backdrop",attrs:{slot:"fixed"},slot:"fixed"}):t._e(),t._v(" "),s("f7-fab",{staticClass:"forms-fab",nativeOn:{"fab:open":function(e){t.fabBackdropVisible=!0},"fab:close":function(e){t.fabBackdropVisible=!1}}},[s("i",{staticClass:"icon forms-fab-icon-plus"}),t._v(" "),s("i",{staticClass:"icon forms-fab-icon-close"}),t._v(" "),s("f7-fab-buttons",{attrs:{position:"left"}},[s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/shortcut-create/"}},[s("i",{staticClass:"icon forms-fab-icon-pointer"}),t._v(" "),s("span",[t._v(t._s(t.$t("forms.index_add.shortcut_button")))])]),t._v(" "),s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/assignment-create/"}},[s("i",{staticClass:"icon forms-fab-icon-people"}),t._v(" "),s("span",[t._v(t._s(t.$t("forms.index_add.assign_button")))])]),t._v(" "),s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/template-create/"}},[s("i",{staticClass:"icon forms-fab-icon-template"}),t._v(" "),s("span",[t._v(t._s(t.$t("forms.index_add.template_button")))])])],1)],1),t._v(" "),s("f7-tabs",[s("f7-tab",{attrs:{"tab-active":"",id:"tab-templates"}},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return s("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,swipeout:"",link:"/forms/template-details/"+e.id+"/","route-props":{template:e}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"}),t._v(" "),s("f7-swipeout-actions",{attrs:{right:""}},[s("f7-swipeout-button",{staticClass:"forms-swipeout-button-green",attrs:{href:"/forms/assignment-create/?templateId="+e.id,"route-props":{template:e}}},[t._v(t._s(t.$t("forms.index.assign_button")))]),t._v(" "),s("f7-swipeout-button",{staticClass:"forms-swipeout-button-blue",attrs:{href:"/forms/template-edit/"+e.id+"/"}},[t._v(t._s(t.$t("forms.index.edit_button")))])],1)],1)})),1)],1),t._v(" "),s("f7-tab",{attrs:{id:"tab-assigned"}},t._l(t.assignments,(function(e){return s("f7-link",{key:e.id,staticClass:"forms-card",attrs:{"no-link-class":"",href:"/forms/assignment-details/"+e.id+"/","route-props":{assignment:e,template:t.getTemplateById(e.data.templateId)}}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[t._v(t._s(t.$moment(e.created_at).format("DD MMM YYYY")))]),t._v(" "),e.data.enabled?s("div",{staticClass:"forms-card-status"},[t._v(t._s(t.$t("forms.assignment.enabled_label")))]):t._e()]),t._v(" "),s("div",{staticClass:"forms-card-content"},[s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-template"}),t._v(" "),s("span",[t._v(t._s(t.getTemplateNameById(e.data.templateId)))])]),t._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user"}),t._v(" "),s("span",[t._v("Safety Office")])]),t._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-tag"}),t._v(" "),s("span",[t._v("Custom Tags")])])])])])})),1),t._v(" "),s("f7-tab",{attrs:{id:"tab-completed"}},[s("a",{staticClass:"forms-card",attrs:{href:"#"}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[t._v("31st August 2018")])]),t._v(" "),s("div",{staticClass:"forms-card-content"},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback"}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user-round"}),t._v(" "),s("span",[t._v("Mason Fok")])])])],1)])]),t._v(" "),s("f7-tab",{attrs:{id:"tab-shortcuts"}},t._l(t.shortcuts,(function(e){return s("f7-link",{key:e.id,staticClass:"forms-card",attrs:{"no-link-class":"",href:"/forms/shortcut-edit/"+e.id+"/","route-props":{shortcut:e,template:t.getTemplateById(e.data.templateId)}}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[t._v(t._s(t.$moment(e.created_at).format("DD MMM YYYY")))])]),t._v(" "),s("div",{staticClass:"forms-card-content"},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.getTemplateNameById(e.data.templateId),text:t.getTemplateDescriptionById(e.data.templateId)}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user"}),t._v(" "),s("span",[t._v("Safety Office")])]),t._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-tag"}),t._v(" "),s("span",[t._v("Custom Tags")])]),t._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-eye"}),t._v(" "),s("span",[t._v(t._s(e.data.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")))])])])],1)])})),1),t._v(" "),s("f7-tab",{attrs:{id:"tab-my-forms"}},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{divider:"",title:"Assigned"}}),t._v(" "),s("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"}),t._v(" "),s("div",[s("span",{staticClass:"forms-templates-list-badge"},[t._v("17 June 2018")])])]),t._v(" "),s("f7-list-item",{attrs:{divider:"",title:"Available"}}),t._v(" "),s("f7-list-item",{attrs:{title:"Safety Check",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})]),t._v(" "),s("f7-list-item",{attrs:{title:"Risk Assessment",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1)],1)],1)],1)};a._withStripped=!0;var n=window.tommy.api,i={cache:{templates:null},createTemplate:function(t,e){var s={addon:"forms",kind:"FormsTemplate",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(e)};return n.createFragment(s)},getTemplates:function(t){return n.getFragments({addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.templates=t,t}))},getTemplate:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateTemplate:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteTemplate:function(t){return n.deleteFragment(t)},createAssignment:function(t,e){var s={addon:"forms",kind:"FormsAssignment",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(Object.assign({enabled:!0,anonymous:!1},e))};return n.createFragment(s)},getAssignments:function(t){return n.getFragments({addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.assignments=t,t}))},getAssignment:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateAssignment:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteAssignment:function(t){return n.deleteFragment(t)},createShortcut:function(t,e){var s={addon:"forms",kind:"FormsShortcut",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(Object.assign({},e))};return n.createFragment(s)},getShortcuts:function(t){return n.getFragments({addon:"forms",kind:"FormsShortcut",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.assignments=t,t}))},getShortcut:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsShortcut",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateShortcut:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteShortcut:function(t){return n.deleteFragment(t)}},r=i;function l(t,e,s,a,n,i,r,l){var o,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=s,c._compiled=!0),a&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=o):n&&(o=l?function(){n.call(this,this.$root.$options.shadowRoot)}:n),o)if(c.functional){c._injectStyles=o;var m=c.render;c.render=function(t,e){return o.call(e),m(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,o):[o]}return{exports:t,options:c}}var o=l({data:function(){return{fabBackdropVisible:!1,templates:null,assignments:null,completed:null,shortcuts:null,my_forms:null}},mounted:function(){this.getTemplates(),this.getAssignments(),this.getShortcuts(),this.$events.$on("forms:assignmentcreated",this.getAssignments),this.$events.$on("forms:assignmentupdated",this.getAssignments),this.$events.$on("forms:assignmentdeleted",this.getAssignments),this.$events.$on("forms:templatecreated",this.getTemplates),this.$events.$on("forms:templateupdated",this.getTemplates),this.$events.$on("forms:templatedeleted",this.getTemplates),this.$events.$on("forms:shortcutcreated",this.getShortcuts),this.$events.$on("forms:shortcutupdated",this.getShortcuts),this.$events.$on("forms:shortcutdeleted",this.getShortcuts)},beforeDestroy:function(){this.$events.$off("forms:assignmentcreated",this.getAssignments),this.$events.$off("forms:assignmentupdated",this.getAssignments),this.$events.$off("forms:assignmentdeleted",this.getAssignments),this.$events.$off("forms:templatecreated",this.getTemplates),this.$events.$off("forms:templateupdated",this.getTemplates),this.$events.$off("forms:templatedeleted",this.getTemplates),this.$events.$off("forms:shortcutcreated",this.getShortcuts),this.$events.$off("forms:shortcutupdated",this.getShortcuts),this.$events.$off("forms:shortcutdeleted",this.getShortcuts)},methods:{getTemplateById:function(t){var e;return this.templates?(this.templates.forEach((function(s){s.id===t&&(e=s)})),e):""},getTemplateNameById:function(t){if(!this.templates)return"";var e="";return this.templates.forEach((function(s){s.id===t&&(e=s.data.name)})),e},getTemplateDescriptionById:function(t){if(!this.templates)return"";var e="";return this.templates.forEach((function(s){s.id===t&&(e=s.data.description)})),e},getAssignments:function(){var t=this;r.getAssignments(t.$root.user).then((function(e){t.assignments=e}))},getTemplates:function(){var t=this;r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},getShortcuts:function(){var t=this;r.getShortcuts(t.$root.user).then((function(e){t.shortcuts=e}))}}},a,[],!1,null,null,null);o.options.__file="addons/forms/1.0.0/src/pages/index.vue";var c=o.exports,m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.template_details.template_new_title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.$t("forms.template_edit.template_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_name_label"),placeholder:t.$t("forms.template_edit.template_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),s("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_description_label"),placeholder:t.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:t.description},on:{input:function(e){t.description=e.target.value}}})],1)],1)};m._withStripped=!0;var f=l({data:function(){return{iconUrl:"",name:"",description:""}},computed:{allowSave:function(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},methods:{save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,s=t.description;r.createTemplate(t.$root.user,{name:e,description:s}).then((function(){t.$f7router.back(),t.$events.$emit("forms:templatecreated")}))}}}},m,[],!1,null,null,null);f.options.__file="addons/forms/1.0.0/src/pages/template-create.vue";var p=f.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.template_details.template_view_title")))])],1),t._v(" "),s("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.template.data.name}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.template.iconUrl?"url("+t.template.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{header:t.$t("forms.template_edit.template_description_label")}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.template.data.description))])]),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_created_label"),after:t.$moment(t.template.created_at).format("DD MMM YYYY")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.index.version_label"),after:"???"}})],1)],1)};d._withStripped=!0;var u=l({props:{template:Object,id:[String,Number]}},d,[],!1,null,null,null);u.options.__file="addons/forms/1.0.0/src/pages/template-details.vue";var _=u.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.template_edit.title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),t.template?s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.$t("forms.template_edit.template_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1):t._e(),t._v(" "),t.template?s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_name_label"),placeholder:t.$t("forms.template_edit.template_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),s("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_description_label"),placeholder:t.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:t.description},on:{input:function(e){t.description=e.target.value}}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_completes_label"),after:199}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_assignments_label"),after:10}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_shortcuts_label"),after:2}})],1):t._e(),t._v(" "),t.template?s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteTemplate}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1):t._e()],1)};v._withStripped=!0;var h=l({props:{id:[String,Number]},data:function(){return{template:null,iconUrl:"",name:"",description:""}},computed:{allowSave:function(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},mounted:function(){this.getTemplate()},methods:{deleteTemplate:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.template_delete_confirm.text"),(function(){r.deleteTemplate(t.template.id).then((function(){t.$f7router.back(),t.$events.$emit("forms:templatedeleted")}))}))},getTemplate:function(){var t=this;r.getTemplate(t.$root.user,t.id).then((function(e){var s=e.data,a=s.name,n=s.description,i=s.iconUrl;t.template=e,t.name=a,t.description=n,t.iconUrl=i}))},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,s=t.description;Object.assign(t.template.data,{name:e,description:s}),r.updateTemplate(t.template).then((function(){t.$f7router.back(),t.$events.$emit("forms:templateupdated")}))}}}},v,[],!1,null,null,null);h.options.__file="addons/forms/1.0.0/src/pages/template-edit.vue";var g=h.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.create_title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.deadline).format("DD MMM YYYY")},on:{click:function(e){return t.openDeadLineCalendar()}}}),t._v(" "),s("f7-list-item",{attrs:{divider:"",title:t.$t("forms.assignment.repeat_label")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.repeat},on:{change:function(e){t.repeat=e.target.checked}},slot:"after"})],1),t._v(" "),t.repeat?s("f7-list-item",{staticClass:"assignment-frequency-selector",attrs:{link:"",title:t.$t("forms.assignment.frequency_label"),after:t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverFrequencyOpened=!0}}},[s("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverFrequencyOpened},on:{"popover:close":function(e){t.popoverFrequencyOpened=!1}}},[s("f7-list",t._l(["minutes","hours","days"],(function(e,a){return s("f7-list-item",{key:a,attrs:{radio:"",title:t.$t("forms.assignment.frequency_"+e+"_label"),checked:t.repeatFrequency===e},on:{change:function(){t.repeatFrequency=e,t.popoverFrequencyOpened=!1}}})})),1)],1)],1):t._e(),t._v(" "),t.repeat?s("f7-list-item",{staticClass:"assignment-every-selector",attrs:{link:"",title:t.$t("forms.assignment.every_label"),after:t.repeatEvery+" "+t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverEveryOpened=!0}}},[s("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverEveryOpened},on:{"popover:close":function(e){t.popoverEveryOpened=!1}}},[s("f7-list",{staticStyle:{height:"300px"}},t._l(60,(function(e){return s("f7-list-item",{key:e,attrs:{radio:"",title:e,checked:t.repeatEvery===e},on:{change:function(){t.repeatEvery=e,t.popoverEveryOpened=!1}}})})),1)],1)],1):t._e()],1),t._v(" "),s("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,a){return[s("f7-list",{key:a,attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),s("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),s("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return s("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)};b._withStripped=!0;var y=l({data:function(){var t=this.$f7route.query.templateId;return{typeSelectOpened:!1,templateSelectOpened:!1,popoverFrequencyOpened:!1,popoverEveryOpened:!1,templates:r.cache.templates,templateId:t?parseInt(t,10):null,type:"single",deadline:(new Date).getTime()+6048e5,repeat:!1,repeatFrequency:"hours",repeatEvery:2}},computed:{allowSave:function(){return!!this.templateId},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e})),t.calendar=t.$f7.calendar.create({value:[new Date(t.deadline)],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,s){t.deadline=s[0]}}})},methods:{openDeadLineCalendar:function(){this.calendar.open()},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.templateId,s=t.type,a=t.deadline,n=t.repeat,i=t.repeatFrequency,l=t.repeatEvery;r.createAssignment(t.$root.user,{templateId:e,type:s,deadline:a,repeat:n,repeatFrequency:i,repeatEvery:l}).then((function(){t.$f7router.back(),t.$events.$emit("forms:assignmentcreated")}))}}}},b,[],!1,null,null,null);y.options.__file="addons/forms/1.0.0/src/pages/assignment-create.vue";var $=y.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.assignment_label")))])],1),t._v(" "),s("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[t.template?s("f7-list-item",{attrs:{title:t.template.data.name}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.template.iconUrl?"url("+t.template.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})]):t._e()],1),t._v(" "),s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[s("f7-toggle",{attrs:{checked:t.assignment.data.enabled||void 0===t.assignment.data.enabled},on:{change:function(e){return t.toggleEnabled(e.target.checked)}}})],1),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.assignment.data.type+"_label")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_created_label"),after:t.$moment(t.assignment.created_at).format("DD MMM YYYY")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.assignment.data.deadline).format("DD MMM YYYY")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_anonymous_label"),after:t.$t("label."+(t.assignment.data.anonymous?"yes":"no"))}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_completes_label"),after:"5"}})],1),t._v(" "),s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-button",{attrs:{href:"/forms/assignment-edit/"+t.assignment.id+"/","route-props":{assignment:t.assignment}}},[t._v("\n      "+t._s(t.$t("forms.index.edit_button"))+"\n    ")]),t._v(" "),s("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteAssignment}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1)],1)};k._withStripped=!0;var C=l({props:{template:Object,assignment:Object,id:[String,Number]},methods:{toggleEnabled:function(t){var e=this,s=Object.assign({},e.assignment);s.data.enabled=t,r.updateAssignment(s).then((function(){e.$events.$emit("forms:assignmentupdated")}))},deleteAssignment:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.assignment_delete_confirm.text"),(function(){r.deleteAssignment(t.assignment.id).then((function(){t.$events.$emit("forms:assignmentdeleted"),t.$f7router.back()}))}))}}},k,[],!1,null,null,null);C.options.__file="addons/forms/1.0.0/src/pages/assignment-details.vue";var S=C.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.create_title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.deadline).format("DD MMM YYYY")},on:{click:function(e){return t.openDeadLineCalendar()}}}),t._v(" "),s("f7-list-item",{attrs:{divider:"",title:t.$t("forms.assignment.repeat_label")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.repeat},on:{change:function(e){t.repeat=e.target.checked}},slot:"after"})],1),t._v(" "),t.repeat?s("f7-list-item",{staticClass:"assignment-frequency-selector",attrs:{link:"",title:t.$t("forms.assignment.frequency_label"),after:t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverFrequencyOpened=!0}}},[s("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverFrequencyOpened},on:{"popover:close":function(e){t.popoverFrequencyOpened=!1}}},[s("f7-list",t._l(["minutes","hours","days"],(function(e,a){return s("f7-list-item",{key:a,attrs:{radio:"",title:t.$t("forms.assignment.frequency_"+e+"_label"),checked:t.repeatFrequency===e},on:{change:function(){t.repeatFrequency=e,t.popoverFrequencyOpened=!1}}})})),1)],1)],1):t._e(),t._v(" "),t.repeat?s("f7-list-item",{staticClass:"assignment-every-selector",attrs:{link:"",title:t.$t("forms.assignment.every_label"),after:t.repeatEvery+" "+t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverEveryOpened=!0}}},[s("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverEveryOpened},on:{"popover:close":function(e){t.popoverEveryOpened=!1}}},[s("f7-list",{staticStyle:{height:"300px"}},t._l(60,(function(e){return s("f7-list-item",{key:e,attrs:{radio:"",title:e,checked:t.repeatEvery===e},on:{change:function(){t.repeatEvery=e,t.popoverEveryOpened=!1}}})})),1)],1)],1):t._e()],1),t._v(" "),s("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,a){return[s("f7-list",{key:a,attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),s("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),s("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return s("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)};O._withStripped=!0;var x=l({props:{assignment:Object},data:function(){var t=this.assignment;return{typeSelectOpened:!1,templateSelectOpened:!1,popoverFrequencyOpened:!1,popoverEveryOpened:!1,templates:r.cache.templates,templateId:t.data.templateId,type:t.data.type,deadline:t.data.deadline,repeat:t.data.repeat,repeatFrequency:t.data.repeatFrequency,repeatEvery:t.data.repeatEvery}},computed:{allowSave:function(){return!!this.templateId},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e})),t.calendar=t.$f7.calendar.create({value:[new Date(t.deadline)],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,s){t.deadline=s[0]}}})},methods:{openDeadLineCalendar:function(){this.calendar.open()},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.templateId,s=t.type,a=t.deadline,n=t.repeat,i=t.repeatFrequency,l=t.repeatEvery;r.updateAssignment({id:t.assignment.id,data:Object.assign({},t.assignment.data,{templateId:e,type:s,deadline:a,repeat:n,repeatFrequency:i,repeatEvery:l})}).then((function(){t.$f7router.back("/forms/",{force:!0}),t.$events.$emit("forms:assignmentupdated")}))}}}},O,[],!1,null,null,null);x.options.__file="addons/forms/1.0.0/src/pages/assignment-edit.vue";var w=x.exports,I=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details.title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{"inline-label":"",label:t.$t("forms.shortcut_details.shortcut_name_label"),placeholder:t.$t("forms.shortcut_details.shortcut_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_availbale_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.available},on:{change:function(e){t.available=e.target.checked}},slot:"after"})],1),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_display_label"),"smart-select":"","smart-select-params":{openIn:"sheet",on:{change:function(e,s){t.setDisplay(s)}}},after:t.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")}},[s("select",{attrs:{multiple:""}},[s("option",{attrs:{value:"menu"},domProps:{selected:t.display.indexOf("menu")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.menu_label")))]),t._v(" "),s("option",{attrs:{value:"team"},domProps:{selected:t.display.indexOf("team")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.team_label")))]),t._v(" "),s("option",{attrs:{value:"contact"},domProps:{selected:t.display.indexOf("contact")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.contact_label")))])])]),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_anonymous_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.anonymous},on:{change:function(e){t.anonymous=e.target.checked}},slot:"after"})],1)],1),t._v(" "),s("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,a){return[s("f7-list",{key:a,attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),s("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),s("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return s("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)};I._withStripped=!0;var F=l({data:function(){var t=this.$f7route.query.templateId;return{typeSelectOpened:!1,templateSelectOpened:!1,templates:r.cache.templates,iconUrl:"",name:"",available:!0,templateId:t?parseInt(t,10):null,display:["menu"],type:"single",anonymous:!0}},computed:{allowSave:function(){var t=this.templateId,e=this.name;return!(!t||!e.trim().length)},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},methods:{setDisplay:function(t){this.display=t},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.iconUrl,s=t.name,a=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous,c=t.deadline;r.createShortcut(t.$root.user,{iconUrl:e,name:s,available:a,templateId:n,display:i,type:l,anonymous:o,deadline:c}).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutcreated")}))}}}},I,[],!1,null,null,null);F.options.__file="addons/forms/1.0.0/src/pages/shortcut-create.vue";var T=F.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details.edit_title")))]),t._v(" "),s("f7-nav-right",[t.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[s("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{"inline-label":"",label:t.$t("forms.shortcut_details.shortcut_name_label"),placeholder:t.$t("forms.shortcut_details.shortcut_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_availbale_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.available},on:{change:function(e){t.available=e.target.checked}},slot:"after"})],1),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_display_label"),"smart-select":"","smart-select-params":{openIn:"sheet",on:{change:function(e,s){t.setDisplay(s)}}},after:t.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")}},[s("select",{attrs:{multiple:""}},[s("option",{attrs:{value:"menu"},domProps:{selected:t.display.indexOf("menu")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.menu_label")))]),t._v(" "),s("option",{attrs:{value:"team"},domProps:{selected:t.display.indexOf("team")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.team_label")))]),t._v(" "),s("option",{attrs:{value:"contact"},domProps:{selected:t.display.indexOf("contact")>=0}},[t._v(t._s(t.$t("forms.shortcuts_display_options.contact_label")))])])]),t._v(" "),s("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_anonymous_label")}},[s("f7-toggle",{attrs:{slot:"after",checked:t.anonymous},on:{change:function(e){t.anonymous=e.target.checked}},slot:"after"})],1)],1),t._v(" "),s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteShortcut}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1),t._v(" "),s("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,a){return[s("f7-list",{key:a,attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),s("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),s("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[s("f7-page",[s("f7-navbar",[s("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return s("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)};q._withStripped=!0;var E=l({props:{shortcut:Object},data:function(){var t=this.shortcut.data,e=t.iconUrl,s=t.name,a=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous;return{typeSelectOpened:!1,templateSelectOpened:!1,templates:r.cache.templates,iconUrl:e,name:s,available:a,templateId:n,display:i,type:l,anonymous:o}},computed:{allowSave:function(){var t=this.templateId,e=this.name;return!(!t||!e.trim().length)},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},methods:{setDisplay:function(t){this.display=t},deleteShortcut:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.shortcut_delete_confirm.text"),(function(){r.deleteShortcut(t.shortcut.id).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutdeleted")}))}))},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.iconUrl,s=t.name,a=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous;r.updateShortcut({id:t.shortcut.id,data:Object.assign({},t.shortcut.data,{iconUrl:e,name:s,available:a,templateId:n,display:i,type:l,anonymous:o})}).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutupdated")}))}}}},q,[],!1,null,null,null);E.options.__file="addons/forms/1.0.0/src/pages/shortcut-edit.vue";var U=[{path:"/forms/",component:c},{path:"/forms/template-create/",component:p},{path:"/forms/template-details/:id/",component:_},{path:"/forms/template-edit/:id/",component:g},{path:"/forms/assignment-create/",component:$},{path:"/forms/assignment-details/:id/",component:S},{path:"/forms/assignment-edit/:id/",component:w},{path:"/forms/shortcut-create/",component:T},{path:"/forms/shortcut-edit/:id/",component:E.exports}];e.default=U}]).default;