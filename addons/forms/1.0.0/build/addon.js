var addon=function(){var a=window.tommy.api,l={cache:{templates:null},createTemplate:function createTemplate(t,e){var s={addon:"forms",kind:"FormsTemplate",with_filters:!0,tags:[{context:"members",name:t.first_name+" "+t.last_name,user_id:t.id}],filters:[{context:"members",name:t.first_name+" "+t.last_name,user_id:t.id}],data:JSON.stringify(e)};return a.createFragment(s)},getTemplates:function getTemplates(t){return a.getFragments({addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then(function(t){return l.cache.templates=t})},getTemplate:function getTemplate(t,e){return a.getFragment(e,{addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateTemplate:function updateTemplate(t){return t.data=JSON.stringify(t.data),a.updateFragment(t.id,t)},deleteTemplate:function deleteTemplate(t){return a.deleteFragment(t)},createAssignment:function createAssignment(t,e){var s={addon:"forms",kind:"FormsAssignment",with_filters:!0,tags:[{context:"members",name:t.first_name+" "+t.last_name,user_id:t.id}],filters:[{context:"members",name:t.first_name+" "+t.last_name,user_id:t.id}],data:JSON.stringify(e)};return a.createFragment(s)},getAssignments:function getAssignments(t){return a.getFragments({addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then(function(t){return l.cache.assignments=t})},getAssignment:function getAssignment(t,e){return a.getFragment(e,{addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateAssignment:function updateAssignment(t){return t.data=JSON.stringify(t.data),a.updateFragment(t.id,t)},deleteAssignment:function deleteAssignment(t){return a.deleteFragment(t)}};return[{path:"/forms/",component:{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-menu"),e._v(" "),s("f7-nav-title",[e._v(e._s(e.$t("forms.index.title","Forms")))]),e._v(" "),s("f7-nav-right",[s("f7-link",{attrs:{"icon-f7":"gear"}})],1)],1),e._v(" "),s("div",{staticClass:"forms-scrollable-tabbar no-swipe-panel"},[s("div",{staticClass:"forms-tabbar-inner"},[s("a",{staticClass:"tab-link tab-link-active",attrs:{href:"#tab-templates"}},[e._v(e._s(e.$t("forms.index.menu_templates_label")))]),e._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-assigned"}},[e._v(e._s(e.$t("forms.index.menu_assigned_label")))]),e._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-completed"}},[e._v(e._s(e.$t("forms.index.menu_completed_label")))]),e._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-shortcuts"}},[e._v(e._s(e.$t("forms.index.menu_shortcuts_label")))]),e._v(" "),s("a",{staticClass:"tab-link",attrs:{href:"#tab-my-forms"}},[e._v(e._s(e.$t("forms.index.menu_myforms_label")))])])]),e._v(" "),e.fabBackdropVisible?s("div",{staticClass:"forms-fab-backdrop",attrs:{slot:"fixed"},slot:"fixed"}):e._e(),e._v(" "),s("f7-fab",{staticClass:"forms-fab",nativeOn:{"fab:open":function(t){e.fabBackdropVisible=!0},"fab:close":function(t){e.fabBackdropVisible=!1}}},[s("i",{staticClass:"icon forms-fab-icon-plus"}),e._v(" "),s("i",{staticClass:"icon forms-fab-icon-close"}),e._v(" "),s("f7-fab-buttons",{attrs:{position:"left"}},[s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/shortcut-create/"}},[s("i",{staticClass:"icon forms-fab-icon-pointer"}),e._v(" "),s("span",[e._v(e._s(e.$t("forms.index_add.shortcut_button")))])]),e._v(" "),s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/assignment-create/"}},[s("i",{staticClass:"icon forms-fab-icon-people"}),e._v(" "),s("span",[e._v(e._s(e.$t("forms.index_add.assign_button")))])]),e._v(" "),s("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/template-create/"}},[s("i",{staticClass:"icon forms-fab-icon-template"}),e._v(" "),s("span",[e._v(e._s(e.$t("forms.index_add.template_button")))])])],1)],1),e._v(" "),s("f7-tabs",[s("f7-tab",{attrs:{"tab-active":"",id:"tab-templates"}},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},e._l(e.templates,function(t){return s("f7-list-item",{key:t.id,attrs:{title:t.data.name,text:t.data.description,swipeout:"",link:"/forms/template-details/"+t.id+"/","route-props":{template:t}}},[s("div",{staticClass:"forms-template-icon s70",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null},attrs:{slot:"media"},slot:"media"}),e._v(" "),s("f7-swipeout-actions",{attrs:{right:""}},[s("f7-swipeout-button",{staticClass:"forms-swipeout-button-green",attrs:{href:"/forms/assignment-create/?templateId="+t.id,"route-props":{template:t}}},[e._v(e._s(e.$t("forms.index.assign_button")))]),e._v(" "),s("f7-swipeout-button",{staticClass:"forms-swipeout-button-blue",attrs:{href:"/forms/template-edit/"+t.id+"/"}},[e._v(e._s(e.$t("forms.index.edit_button")))])],1)],1)}))],1),e._v(" "),s("f7-tab",{attrs:{id:"tab-assigned"}},[s("a",{staticClass:"forms-card",attrs:{href:"#"}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[e._v("31st August 2018")]),e._v(" "),s("div",{staticClass:"forms-card-status"},[e._v("Enabled")])]),e._v(" "),s("div",{staticClass:"forms-card-content"},[s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-template"}),e._v(" "),s("span",[e._v("Risk Assessment")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user"}),e._v(" "),s("span",[e._v("Safety Office")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-tag"}),e._v(" "),s("span",[e._v("Custom Tags")])])])])]),e._v(" "),s("a",{staticClass:"forms-card",attrs:{href:"#"}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[e._v("31st August 2018")]),e._v(" "),s("div",{staticClass:"forms-card-status"},[e._v("Enabled")])]),e._v(" "),s("div",{staticClass:"forms-card-content"},[s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-template"}),e._v(" "),s("span",[e._v("Risk Assessment")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user"}),e._v(" "),s("span",[e._v("Safety Office")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-tag"}),e._v(" "),s("span",[e._v("Custom Tags")])])])])])]),e._v(" "),s("f7-tab",{attrs:{id:"tab-completed"}},[s("a",{staticClass:"forms-card",attrs:{href:"#"}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[e._v("31st August 2018")])]),e._v(" "),s("div",{staticClass:"forms-card-content"},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback"}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),e._v(" "),s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user-round"}),e._v(" "),s("span",[e._v("Mason Fok")])])])],1)])]),e._v(" "),s("f7-tab",{attrs:{id:"tab-shortcuts"}},[s("a",{staticClass:"forms-card",attrs:{href:"#"}},[s("div",{staticClass:"forms-card-header"},[s("div",{staticClass:"forms-card-date"},[e._v("31st August 2018")])]),e._v(" "),s("div",{staticClass:"forms-card-content"},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback"}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),e._v(" "),s("div",{staticClass:"forms-card-rows"},[s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-user"}),e._v(" "),s("span",[e._v("Safety Office")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-tag"}),e._v(" "),s("span",[e._v("Custom Tags")])]),e._v(" "),s("div",{staticClass:"forms-card-row"},[s("i",{staticClass:"forms-card-icon-eye"}),e._v(" "),s("span",[e._v("Main Menu, Team Profile")])])])],1)])]),e._v(" "),s("f7-tab",{attrs:{id:"tab-my-forms"}},[s("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[s("f7-list-item",{attrs:{divider:"",title:"Assigned"}}),e._v(" "),s("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"}),e._v(" "),s("div",[s("span",{staticClass:"forms-templates-list-badge"},[e._v("17 June 2018")])])]),e._v(" "),s("f7-list-item",{attrs:{divider:"",title:"Available"}}),e._v(" "),s("f7-list-item",{attrs:{title:"Safety Check",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})]),e._v(" "),s("f7-list-item",{attrs:{title:"Risk Assessment",text:"Collect user feedback",link:""}},[s("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1)],1)],1)],1)},staticRenderFns:[],data:function data(){return{fabBackdropVisible:!1,templates:null,assignments:null,completed:null,shortcuts:null,my_forms:null}},mounted:function mounted(){var t=this;t.getTemplates(),t.$events.$on("forms:assignmentcreated",t.getAssignments),t.$events.$on("forms:assignmentupdated",t.getAssignments),t.$events.$on("forms:assignmentdeleted",t.getAssignments),t.$events.$on("forms:templatecreated",t.getTemplates),t.$events.$on("forms:templateupdated",t.getTemplates),t.$events.$on("forms:templatedeleted",t.getTemplates)},beforeDestroy:function beforeDestroy(){var t=this;t.$events.$off("forms:assignmentcreated",t.getAssignments),t.$events.$off("forms:assignmentupdated",t.getAssignments),t.$events.$off("forms:assignmentdeleted",t.getAssignments),t.$events.$off("forms:templatecreated",t.getTemplates),t.$events.$off("forms:templateupdated",t.getTemplates),t.$events.$off("forms:templatedeleted",t.getTemplates)},methods:{getAssignments:function getAssignments(){var e=this;l.getAssignments(e.$root.user).then(function(t){e.assignments=t})},getTemplates:function getTemplates(){var e=this;l.getTemplates(e.$root.user).then(function(t){e.templates=t})}}}},{path:"/forms/template-create/",component:{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),e._v(" "),s("f7-nav-title",[e._v(e._s(e.$t("forms.template_details.template_new_title")))]),e._v(" "),s("f7-nav-right",[e.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:e.save}},[s("i",{staticClass:"icon f7-icons"},[e._v("check")])]):e._e()],1)],1),e._v(" "),s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:e.$t("forms.template_edit.template_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null}})])],1),e._v(" "),s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{label:e.$t("forms.template_edit.template_name_label"),placeholder:e.$t("forms.template_edit.template_name_label"),type:"text",value:e.name},on:{input:function(t){e.name=t.target.value}}}),e._v(" "),s("f7-list-input",{attrs:{label:e.$t("forms.template_edit.template_description_label"),placeholder:e.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:e.description},on:{input:function(t){e.description=t.target.value}}})],1)],1)},staticRenderFns:[],data:function data(){return{iconUrl:"",name:"",description:""}},computed:{allowSave:function allowSave(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},methods:{save:function save(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,s=t.description;l.createTemplate(t.$root.user,{name:e,description:s}).then(function(){t.$f7router.back(),t.$events.$emit("forms:templatecreated")})}}}}},{path:"/forms/template-details/:id/",component:{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),t._v(" "),s("f7-nav-title",[t._v(t._s(t.$t("forms.template_details.template_view_title")))])],1),t._v(" "),s("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:t.template.data.name}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.template.iconUrl?"url("+t.template.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{header:t.$t("forms.template_edit.template_description_label")}},[s("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.template.data.description))])]),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_created_label"),after:t.$moment(t.template.created_at).format("DD MMM YYYY")}}),t._v(" "),s("f7-list-item",{attrs:{title:t.$t("forms.index.version_label"),after:"???"}})],1)],1)},staticRenderFns:[],props:{template:Object,id:[String,Number]}}},{path:"/forms/template-edit/:id/",component:{render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("f7-page",[s("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[s("tommy-nav-back"),e._v(" "),s("f7-nav-title",[e._v(e._s(e.$t("forms.template_edit.title")))]),e._v(" "),s("f7-nav-right",[e.allowSave?s("f7-link",{attrs:{href:"#","icon-only":""},on:{click:e.save}},[s("i",{staticClass:"icon f7-icons"},[e._v("check")])]):e._e()],1)],1),e._v(" "),e.template?s("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[s("f7-list-item",{attrs:{title:e.$t("forms.template_edit.template_icon_label"),link:""}},[s("div",{staticClass:"forms-template-icon s60",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null}})])],1):e._e(),e._v(" "),e.template?s("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[s("f7-list-input",{attrs:{label:e.$t("forms.template_edit.template_name_label"),placeholder:e.$t("forms.template_edit.template_name_label"),type:"text",value:e.name},on:{input:function(t){e.name=t.target.value}}}),e._v(" "),s("f7-list-input",{attrs:{label:e.$t("forms.template_edit.template_description_label"),placeholder:e.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:e.description},on:{input:function(t){e.description=t.target.value}}}),e._v(" "),s("f7-list-item",{attrs:{link:"",title:e.$t("forms.template_edit.template_completes_label"),after:199}}),e._v(" "),s("f7-list-item",{attrs:{link:"",title:e.$t("forms.template_edit.template_assignments_label"),after:10}}),e._v(" "),s("f7-list-item",{attrs:{link:"",title:e.$t("forms.template_edit.template_shortcuts_label"),after:2}})],1):e._e(),e._v(" "),e.template?s("f7-list",{attrs:{"no-hairlines":""}},[s("f7-list-button",{attrs:{color:"red"},on:{click:e.deleteTemplate}},[e._v(" "+e._s(e.$t("forms.template_edit.delete_button"))+" ")])],1):e._e()],1)},staticRenderFns:[],props:{id:[String,Number]},data:function data(){return{template:null,iconUrl:"",name:"",description:""}},computed:{allowSave:function allowSave(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},mounted:function mounted(){this.getTemplate()},methods:{deleteTemplate:function deleteTemplate(){var t=this;t.$f7.dialog.confirm(t.$t("forms.template_delete_confirm.text"),function(){l.deleteTemplate(t.template.id).then(function(){t.$f7router.back(),t.$events.$emit("forms:templatedeleted")})})},getTemplate:function getTemplate(){var n=this;l.getTemplate(n.$root.user,n.id).then(function(t){var e=t.data,s=e.name,a=e.description,i=e.iconUrl;n.template=t,n.name=s,n.description=a,n.iconUrl=i})},save:function save(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,s=t.description;Object.assign(t.template.data,{name:e,description:s}),console.log(t.template.data),l.updateTemplate(t.template).then(function(){t.$f7router.back(),t.$events.$emit("forms:templateupdated")})}}}}},{path:"/forms/assignment-create/",component:{render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),s._v(" "),a("f7-nav-title",[s._v(s._s(s.$t("forms.assignment.create_title")))]),s._v(" "),a("f7-nav-right",[s.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:s.save}},[a("i",{staticClass:"icon f7-icons"},[s._v("check")])]):s._e()],1)],1),s._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{link:"",title:s.$t("forms.assignment.template_label"),after:s.templateName},on:{click:function(t){s.templateSelectOpened=!0}}}),s._v(" "),a("f7-list-item",{attrs:{link:"",title:s.$t("forms.assignment.type_label"),after:s.$t("forms.shortcuts_type_options."+s.type+"_label")},on:{click:function(t){s.typeSelectOpened=!0}}}),s._v(" "),a("f7-list-item",{attrs:{link:"",title:s.$t("forms.assignment.deadline_label"),after:s.$moment(s.deadline).format("DD MMM YYYY")},on:{click:function(t){s.openDeadLineCalendar()}}}),s._v(" "),a("f7-list-item",{attrs:{divider:"",title:s.$t("forms.assignment.repeat_label")}}),s._v(" "),a("f7-list-item",{attrs:{title:s.$t("forms.assignment.enabled_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:s.repeat},on:{change:function(t){s.repeat=t.target.checked}},slot:"after"})],1),s._v(" "),s.repeat?a("f7-list-item",{staticClass:"assignment-frequency-selector",attrs:{link:"",title:s.$t("forms.assignment.frequency_label"),after:s.$t("forms.assignment.frequency_"+s.repeatFrequency+"_label")},on:{click:function(t){s.popoverFrequencyOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:s.popoverFrequencyOpened},on:{"popover:close":function(t){s.popoverFrequencyOpened=!1}}},[a("f7-list",s._l(["minutes","hours","days"],function(t,e){return a("f7-list-item",{key:e,attrs:{radio:"",title:s.$t("forms.assignment.frequency_"+t+"_label"),checked:s.repeatFrequency===t},on:{change:function(){s.repeatFrequency=t,s.popoverFrequencyOpened=!1}}})}))],1)],1):s._e(),s._v(" "),s.repeat?a("f7-list-item",{staticClass:"assignment-every-selector",attrs:{link:"",title:s.$t("forms.assignment.every_label"),after:s.repeatEvery+" "+s.$t("forms.assignment.frequency_"+s.repeatFrequency+"_label")},on:{click:function(t){s.popoverEveryOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:s.popoverEveryOpened},on:{"popover:close":function(t){s.popoverEveryOpened=!1}}},[a("f7-list",{staticStyle:{height:"300px"}},s._l(60,function(t){return a("f7-list-item",{key:t,attrs:{radio:"",title:t,checked:s.repeatEvery===t},on:{change:function(){s.repeatEvery=t,s.popoverEveryOpened=!1}}})}))],1)],1):s._e()],1),s._v(" "),a("f7-popup",{attrs:{opened:s.typeSelectOpened},on:{"popup:close":function(t){s.typeSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[s._v(s._s(s.$t("forms.assignment.type_label")))]),s._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),s._v(" "),s._l(["single","multi","recent"],function(t,e){return[a("f7-list",{key:e,attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{radio:"",checked:s.type===t,title:s.$t("forms.shortcuts_type_options."+t+"_label")},on:{change:function(){s.type=t,s.typeSelectOpened=!1}}}),s._v(" "),a("f7-block-footer",[s._v(s._s(s.$t("forms.shortcuts_type_options."+t+"_text")))])],1)]})],2)],1),s._v(" "),a("f7-popup",{attrs:{opened:s.templateSelectOpened},on:{"popup:close":function(t){s.templateSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[s._v(s._s(s.$t("forms.shortcut_details_template_select.title")))]),s._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),s._v(" "),a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},s._l(s.templates,function(t){return a("f7-list-item",{key:t.id,attrs:{title:t.data.name,text:t.data.description,radio:"",checked:t.id===s.templateId},on:{change:function(){s.templateId=t.id,s.templateSelectOpened=!1}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])}))],1)],1)],1)},staticRenderFns:[],data:function data(){var t=this.$f7route.query.templateId;return{typeSelectOpened:!1,templateSelectOpened:!1,popoverFrequencyOpened:!1,popoverEveryOpened:!1,templates:l.cache.templates,templateId:t?parseInt(t,10):null,type:"single",deadline:(new Date).getTime()+6048e5,repeat:!1,repeatFrequency:"hours",repeatEvery:2}},computed:{allowSave:function allowSave(){return!!this.templateId},templateName:function templateName(){var e=this;if(!e.templateId)return e.$t("forms.index.notset_label");if(!e.templates)return"";var t=e.templates.filter(function(t){return t.id===e.templateId})[0];return t?t.data.name:""}},mounted:function mounted(){var s=this;s.templates||l.getTemplates(s.$root.user).then(function(t){s.templates=t}),s.calendar=s.$f7.calendar.create({value:[new Date(s.deadline)],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function change(t,e){s.deadline=e[0]}}})},methods:{openDeadLineCalendar:function openDeadLineCalendar(){this.calendar.open()},save:function save(){var t=this;if(!t.saving){t.saving=!0;var e=t.templateId,s=t.type,a=t.deadline,i=t.repeat,n=t.repeatFrequency,r=t.repeatEvery;l.createAssignment(t.$root.user,{templateId:e,type:s,deadline:a,repeat:i,repeatFrequency:n,repeatEvery:r}).then(function(){t.$f7router.back(),t.$events.$emit("forms:assignmentcreated")})}}}}}]}();