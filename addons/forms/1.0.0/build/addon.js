var addon=function(t){var e={};function a(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}return a.m=t,a.c=e,a.d=function(t,e,s){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(s,n,function(e){return t[e]}.bind(null,n));return s},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([,function(t,e,a){"use strict";function s(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-menu"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.index.title","Forms")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"icon-f7":"gear"}})],1)],1),t._v(" "),a("div",{staticClass:"forms-scrollable-tabbar no-swipe-panel"},[a("div",{staticClass:"forms-tabbar-inner"},[a("a",{staticClass:"tab-link tab-link-active",attrs:{href:"#tab-templates"}},[t._v(t._s(t.$t("forms.index.menu_templates_label")))]),t._v(" "),a("a",{staticClass:"tab-link",attrs:{href:"#tab-assigned"}},[t._v(t._s(t.$t("forms.index.menu_assigned_label")))]),t._v(" "),a("a",{staticClass:"tab-link",attrs:{href:"#tab-completed"}},[t._v(t._s(t.$t("forms.index.menu_completed_label")))]),t._v(" "),a("a",{staticClass:"tab-link",attrs:{href:"#tab-shortcuts"}},[t._v(t._s(t.$t("forms.index.menu_shortcuts_label")))]),t._v(" "),a("a",{staticClass:"tab-link",attrs:{href:"#tab-my-forms"}},[t._v(t._s(t.$t("forms.index.menu_myforms_label")))])])]),t._v(" "),t.fabBackdropVisible?a("div",{staticClass:"forms-fab-backdrop",attrs:{slot:"fixed"},slot:"fixed"}):t._e(),t._v(" "),a("f7-fab",{staticClass:"forms-fab",nativeOn:{"fab:open":function(e){t.fabBackdropVisible=!0},"fab:close":function(e){t.fabBackdropVisible=!1}}},[a("i",{staticClass:"icon forms-fab-icon-plus"}),t._v(" "),a("i",{staticClass:"icon forms-fab-icon-close"}),t._v(" "),a("f7-fab-buttons",{attrs:{position:"left"}},[a("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/shortcut-create/"}},[a("i",{staticClass:"icon forms-fab-icon-pointer"}),t._v(" "),a("span",[t._v(t._s(t.$t("forms.index_add.shortcut_button")))])]),t._v(" "),a("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/assignment-create/"}},[a("i",{staticClass:"icon forms-fab-icon-people"}),t._v(" "),a("span",[t._v(t._s(t.$t("forms.index_add.assign_button")))])]),t._v(" "),a("f7-fab-button",{attrs:{"fab-close":"",href:"/forms/template-create/"}},[a("i",{staticClass:"icon forms-fab-icon-template"}),t._v(" "),a("span",[t._v(t._s(t.$t("forms.index_add.template_button")))])])],1)],1),t._v(" "),a("f7-tabs",[a("f7-tab",{attrs:{"tab-active":"",id:"tab-templates"}},[a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,swipeout:"",link:"/forms/template-details/"+e.id+"/","route-props":{template:e}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"}),t._v(" "),a("f7-swipeout-actions",{attrs:{right:""}},[a("f7-swipeout-button",{staticClass:"forms-swipeout-button-green",attrs:{href:"/forms/assignment-create/?templateId="+e.id,"route-props":{template:e}}},[t._v(t._s(t.$t("forms.index.assign_button")))]),t._v(" "),a("f7-swipeout-button",{staticClass:"forms-swipeout-button-blue",attrs:{href:"/forms/template-edit/"+e.id+"/"}},[t._v(t._s(t.$t("forms.index.edit_button")))])],1)],1)})),1)],1),t._v(" "),a("f7-tab",{attrs:{id:"tab-assigned"}},t._l(t.assignments,(function(e){return a("f7-link",{key:e.id,staticClass:"forms-card",attrs:{"no-link-class":"",href:"/forms/assignment-details/"+e.id+"/","route-props":{assignment:e,template:t.getTemplateById(e.data.templateId)}}},[a("div",{staticClass:"forms-card-header"},[a("div",{staticClass:"forms-card-date"},[t._v(t._s(t.$moment(e.created_at).format("DD MMM YYYY")))]),t._v(" "),e.data.enabled?a("div",{staticClass:"forms-card-status"},[t._v(t._s(t.$t("forms.assignment.enabled_label")))]):t._e()]),t._v(" "),a("div",{staticClass:"forms-card-content"},[a("div",{staticClass:"forms-card-rows"},[a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-template"}),t._v(" "),a("span",[t._v(t._s(t.getTemplateNameById(e.data.templateId)))])]),t._v(" "),a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-user"}),t._v(" "),a("span",[t._v("Safety Office")])]),t._v(" "),a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-tag"}),t._v(" "),a("span",[t._v("Custom Tags")])])])])])})),1),t._v(" "),a("f7-tab",{attrs:{id:"tab-completed"}},[a("a",{staticClass:"forms-card",attrs:{href:"#"}},[a("div",{staticClass:"forms-card-header"},[a("div",{staticClass:"forms-card-date"},[t._v("31st August 2018")])]),t._v(" "),a("div",{staticClass:"forms-card-content"},[a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[a("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback"}},[a("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),a("div",{staticClass:"forms-card-rows"},[a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-user-round"}),t._v(" "),a("span",[t._v("Mason Fok")])])])],1)])]),t._v(" "),a("f7-tab",{attrs:{id:"tab-shortcuts"}},t._l(t.shortcuts,(function(e){return a("f7-link",{key:e.id,staticClass:"forms-card",attrs:{"no-link-class":"",href:"/forms/shortcut-edit/"+e.id+"/","route-props":{shortcut:e,template:t.getTemplateById(e.data.templateId)}}},[a("div",{staticClass:"forms-card-header"},[a("div",{staticClass:"forms-card-date"},[t._v(t._s(t.$moment(e.created_at).format("DD MMM YYYY")))])]),t._v(" "),a("div",{staticClass:"forms-card-content"},[a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.getTemplateNameById(e.data.templateId),text:t.getTemplateDescriptionById(e.data.templateId)}},[a("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),a("div",{staticClass:"forms-card-rows"},[a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-user"}),t._v(" "),a("span",[t._v("Safety Office")])]),t._v(" "),a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-tag"}),t._v(" "),a("span",[t._v("Custom Tags")])]),t._v(" "),a("div",{staticClass:"forms-card-row"},[a("i",{staticClass:"forms-card-icon-eye"}),t._v(" "),a("span",[t._v(t._s(e.data.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")))])])])],1)])})),1),t._v(" "),a("f7-tab",{attrs:{id:"tab-my-forms"}},[a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},[a("f7-list-item",{attrs:{divider:"",title:"Assigned"}}),t._v(" "),a("f7-list-item",{attrs:{title:"Home Service Feedback",text:"Collect user feedback",link:""}},[a("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"}),t._v(" "),a("div",[a("span",{staticClass:"forms-templates-list-badge"},[t._v("17 June 2018")])])]),t._v(" "),a("f7-list-item",{attrs:{divider:"",title:"Available"}}),t._v(" "),a("f7-list-item",{attrs:{title:"Safety Check",text:"Collect user feedback",link:""}},[a("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:"Risk Assessment",text:"Collect user feedback",link:""}},[a("div",{staticClass:"forms-template-icon s70",attrs:{slot:"media"},slot:"media"})])],1)],1)],1)],1)}a.r(e),s._withStripped=!0;var n=window.tommy.api,i={cache:{templates:null},createTemplate:function(t,e){var a={addon:"forms",kind:"FormsTemplate",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(e)};return n.createFragment(a)},getTemplates:function(t){return n.getFragments({addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.templates=t}))},getTemplate:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsTemplate",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateTemplate:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteTemplate:function(t){return n.deleteFragment(t)},createAssignment:function(t,e){var a={addon:"forms",kind:"FormsAssignment",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(Object.assign({enabled:!0,anonymous:!1},e))};return n.createFragment(a)},getAssignments:function(t){return n.getFragments({addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.assignments=t}))},getAssignment:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsAssignment",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateAssignment:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteAssignment:function(t){return n.deleteFragment(t)},createShortcut:function(t,e){var a={addon:"forms",kind:"FormsShortcut",with_filters:!0,tags:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],filters:[{context:"members",name:"".concat(t.first_name," ").concat(t.last_name),user_id:t.id}],data:JSON.stringify(Object.assign({},e))};return n.createFragment(a)},getShortcuts:function(t){return n.getFragments({addon:"forms",kind:"FormsShortcut",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1}).then((function(t){return i.cache.assignments=t}))},getShortcut:function(t,e){return n.getFragment(e,{addon:"forms",kind:"FormsShortcut",with_filters:!0,with_permission_to:!0,user_id:t.id},{cache:!1})},updateShortcut:function(t){return t.data=JSON.stringify(t.data),n.updateFragment(t.id,t)},deleteShortcut:function(t){return n.deleteFragment(t)}},r=i;function l(t,e,a,s,n,i,r,l){var o,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=a,c._compiled=!0),s&&(c.functional=!0),i&&(c._scopeId="data-v-"+i),r?(o=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=o):n&&(o=l?function(){n.call(this,this.$root.$options.shadowRoot)}:n),o)if(c.functional){c._injectStyles=o;var m=c.render;c.render=function(t,e){return o.call(e),m(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,o):[o]}return{exports:t,options:c}}var o=l({data:function(){return{fabBackdropVisible:!1,templates:null,assignments:null,completed:null,shortcuts:null,my_forms:null}},mounted:function(){var t=this;t.getTemplates(),t.getAssignments(),t.getShortcuts(),t.$events.$on("forms:assignmentcreated",t.getAssignments),t.$events.$on("forms:assignmentupdated",t.getAssignments),t.$events.$on("forms:assignmentdeleted",t.getAssignments),t.$events.$on("forms:templatecreated",t.getTemplates),t.$events.$on("forms:templateupdated",t.getTemplates),t.$events.$on("forms:templatedeleted",t.getTemplates),t.$events.$on("forms:shortcutcreated",t.getShortcuts),t.$events.$on("forms:shortcutupdated",t.getShortcuts),t.$events.$on("forms:shortcutdeleted",t.getShortcuts)},beforeDestroy:function(){var t=this;t.$events.$off("forms:assignmentcreated",t.getAssignments),t.$events.$off("forms:assignmentupdated",t.getAssignments),t.$events.$off("forms:assignmentdeleted",t.getAssignments),t.$events.$off("forms:templatecreated",t.getTemplates),t.$events.$off("forms:templateupdated",t.getTemplates),t.$events.$off("forms:templatedeleted",t.getTemplates),t.$events.$off("forms:shortcutcreated",t.getShortcuts),t.$events.$off("forms:shortcutupdated",t.getShortcuts),t.$events.$off("forms:shortcutdeleted",t.getShortcuts)},methods:{getTemplateById:function(t){var e;return this.templates?(this.templates.forEach((function(a){a.id===t&&(e=a)})),e):""},getTemplateNameById:function(t){if(!this.templates)return"";var e="";return this.templates.forEach((function(a){a.id===t&&(e=a.data.name)})),e},getTemplateDescriptionById:function(t){if(!this.templates)return"";var e="";return this.templates.forEach((function(a){a.id===t&&(e=a.data.description)})),e},getAssignments:function(){var t=this;r.getAssignments(t.$root.user).then((function(e){t.assignments=e}))},getTemplates:function(){var t=this;r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},getShortcuts:function(){var t=this;r.getShortcuts(t.$root.user).then((function(e){t.shortcuts=e}))}}},s,[],!1,null,null,null);function c(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.template_details.template_new_title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("forms.template_edit.template_icon_label"),link:""}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),a("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[a("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_name_label"),placeholder:t.$t("forms.template_edit.template_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_description_label"),placeholder:t.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:t.description},on:{input:function(e){t.description=e.target.value}}})],1)],1)}o.options.__file="addons/forms/1.0.0/src/pages/index.vue";var m=o.exports;c._withStripped=!0;var f=l({data:function(){return{iconUrl:"",name:"",description:""}},computed:{allowSave:function(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},methods:{save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,a=t.description;r.createTemplate(t.$root.user,{name:e,description:a}).then((function(){t.$f7router.back(),t.$events.$emit("forms:templatecreated")}))}}}},c,[],!1,null,null,null);function p(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.template_details.template_view_title")))])],1),t._v(" "),a("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.template.data.name}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.template.iconUrl?"url("+t.template.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])],1),t._v(" "),a("f7-list",{attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{header:t.$t("forms.template_edit.template_description_label")}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.template.data.description))])]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_created_label"),after:t.$moment(t.template.created_at).format("DD MMM YYYY")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.index.version_label"),after:"???"}})],1)],1)}f.options.__file="addons/forms/1.0.0/src/pages/template-create.vue";var d=f.exports;p._withStripped=!0;var u=l({props:{template:Object,id:[String,Number]}},p,[],!1,null,null,null);function _(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.template_edit.title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),t.template?a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("forms.template_edit.template_icon_label"),link:""}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1):t._e(),t._v(" "),t.template?a("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[a("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_name_label"),placeholder:t.$t("forms.template_edit.template_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-input",{attrs:{label:t.$t("forms.template_edit.template_description_label"),placeholder:t.$t("forms.template_edit.template_description_label"),type:"textarea",resizable:"",value:t.description},on:{input:function(e){t.description=e.target.value}}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_completes_label"),after:199}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_assignments_label"),after:10}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_shortcuts_label"),after:2}})],1):t._e(),t._v(" "),t.template?a("f7-list",{attrs:{"no-hairlines":""}},[a("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteTemplate}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1):t._e()],1)}u.options.__file="addons/forms/1.0.0/src/pages/template-details.vue";var v=u.exports;_._withStripped=!0;var h=l({props:{id:[String,Number]},data:function(){return{template:null,iconUrl:"",name:"",description:""}},computed:{allowSave:function(){var t=this.name,e=this.description;return!!(t&&t.trim().length&&e&&e.trim().length)}},mounted:function(){this.getTemplate()},methods:{deleteTemplate:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.template_delete_confirm.text"),(function(){r.deleteTemplate(t.template.id).then((function(){t.$f7router.back(),t.$events.$emit("forms:templatedeleted")}))}))},getTemplate:function(){var t=this;r.getTemplate(t.$root.user,t.id).then((function(e){var a=e.data,s=a.name,n=a.description,i=a.iconUrl;t.template=e,t.name=s,t.description=n,t.iconUrl=i}))},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.name,a=t.description;Object.assign(t.template.data,{name:e,description:a}),r.updateTemplate(t.template).then((function(){t.$f7router.back(),t.$events.$emit("forms:templateupdated")}))}}}},_,[],!1,null,null,null);function g(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.create_title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.deadline).format("DD MMM YYYY")},on:{click:function(e){return t.openDeadLineCalendar()}}}),t._v(" "),a("f7-list-item",{attrs:{divider:"",title:t.$t("forms.assignment.repeat_label")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.repeat},on:{change:function(e){t.repeat=e.target.checked}},slot:"after"})],1),t._v(" "),t.repeat?a("f7-list-item",{staticClass:"assignment-frequency-selector",attrs:{link:"",title:t.$t("forms.assignment.frequency_label"),after:t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverFrequencyOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverFrequencyOpened},on:{"popover:close":function(e){t.popoverFrequencyOpened=!1}}},[a("f7-list",t._l(["minutes","hours","days"],(function(e,s){return a("f7-list-item",{key:s,attrs:{radio:"",title:t.$t("forms.assignment.frequency_"+e+"_label"),checked:t.repeatFrequency===e},on:{change:function(){t.repeatFrequency=e,t.popoverFrequencyOpened=!1}}})})),1)],1)],1):t._e(),t._v(" "),t.repeat?a("f7-list-item",{staticClass:"assignment-every-selector",attrs:{link:"",title:t.$t("forms.assignment.every_label"),after:t.repeatEvery+" "+t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverEveryOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverEveryOpened},on:{"popover:close":function(e){t.popoverEveryOpened=!1}}},[a("f7-list",{staticStyle:{height:"300px"}},t._l(60,(function(e){return a("f7-list-item",{key:e,attrs:{radio:"",title:e,checked:t.repeatEvery===e},on:{change:function(){t.repeatEvery=e,t.popoverEveryOpened=!1}}})})),1)],1)],1):t._e()],1),t._v(" "),a("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,s){return[a("f7-list",{key:s,attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),a("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),a("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)}h.options.__file="addons/forms/1.0.0/src/pages/template-edit.vue";var b=h.exports;g._withStripped=!0;var y=l({data:function(){var t=this.$f7route.query.templateId;return{typeSelectOpened:!1,templateSelectOpened:!1,popoverFrequencyOpened:!1,popoverEveryOpened:!1,templates:r.cache.templates,templateId:t?parseInt(t,10):null,type:"single",deadline:(new Date).getTime()+6048e5,repeat:!1,repeatFrequency:"hours",repeatEvery:2}},computed:{allowSave:function(){return!!this.templateId},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e})),t.calendar=t.$f7.calendar.create({value:[new Date(t.deadline)],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,a){t.deadline=a[0]}}})},methods:{openDeadLineCalendar:function(){this.calendar.open()},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.templateId,a=t.type,s=t.deadline,n=t.repeat,i=t.repeatFrequency,l=t.repeatEvery;r.createAssignment(t.$root.user,{templateId:e,type:a,deadline:s,repeat:n,repeatFrequency:i,repeatEvery:l}).then((function(){t.$f7router.back(),t.$events.$emit("forms:assignmentcreated")}))}}}},g,[],!1,null,null,null);function $(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.assignment_label")))])],1),t._v(" "),a("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[t.template?a("f7-list-item",{attrs:{title:t.template.data.name}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.template.iconUrl?"url("+t.template.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})]):t._e()],1),t._v(" "),a("f7-list",{attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[a("f7-toggle",{attrs:{checked:t.assignment.data.enabled||void 0===t.assignment.data.enabled},on:{change:function(e){return t.toggleEnabled(e.target.checked)}}})],1),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.assignment.data.type+"_label")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_created_label"),after:t.$moment(t.assignment.created_at).format("DD MMM YYYY")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.assignment.data.deadline).format("DD MMM YYYY")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.template_details.template_details_anonymous_label"),after:t.$t("label."+(t.assignment.data.anonymous?"yes":"no"))}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.template_edit.template_completes_label"),after:"5"}})],1),t._v(" "),a("f7-list",{attrs:{"no-hairlines":""}},[a("f7-list-button",{attrs:{href:"/forms/assignment-edit/"+t.assignment.id+"/","route-props":{assignment:t.assignment}}},[t._v("\n      "+t._s(t.$t("forms.index.edit_button"))+"\n    ")]),t._v(" "),a("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteAssignment}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1)],1)}y.options.__file="addons/forms/1.0.0/src/pages/assignment-create.vue";var k=y.exports;$._withStripped=!0;var C=l({props:{template:Object,assignment:Object,id:[String,Number]},methods:{toggleEnabled:function(t){var e=this,a=Object.assign({},e.assignment);a.data.enabled=t,r.updateAssignment(a).then((function(){e.$events.$emit("forms:assignmentupdated")}))},deleteAssignment:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.assignment_delete_confirm.text"),(function(){r.deleteAssignment(t.assignment.id).then((function(){t.$events.$emit("forms:assignmentdeleted"),t.$f7router.back()}))}))}}},$,[],!1,null,null,null);function S(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.create_title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.assignment.deadline_label"),after:t.$moment(t.deadline).format("DD MMM YYYY")},on:{click:function(e){return t.openDeadLineCalendar()}}}),t._v(" "),a("f7-list-item",{attrs:{divider:"",title:t.$t("forms.assignment.repeat_label")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.assignment.enabled_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.repeat},on:{change:function(e){t.repeat=e.target.checked}},slot:"after"})],1),t._v(" "),t.repeat?a("f7-list-item",{staticClass:"assignment-frequency-selector",attrs:{link:"",title:t.$t("forms.assignment.frequency_label"),after:t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverFrequencyOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverFrequencyOpened},on:{"popover:close":function(e){t.popoverFrequencyOpened=!1}}},[a("f7-list",t._l(["minutes","hours","days"],(function(e,s){return a("f7-list-item",{key:s,attrs:{radio:"",title:t.$t("forms.assignment.frequency_"+e+"_label"),checked:t.repeatFrequency===e},on:{change:function(){t.repeatFrequency=e,t.popoverFrequencyOpened=!1}}})})),1)],1)],1):t._e(),t._v(" "),t.repeat?a("f7-list-item",{staticClass:"assignment-every-selector",attrs:{link:"",title:t.$t("forms.assignment.every_label"),after:t.repeatEvery+" "+t.$t("forms.assignment.frequency_"+t.repeatFrequency+"_label")},on:{click:function(e){t.popoverEveryOpened=!0}}},[a("f7-popover",{attrs:{target:".assignment-frequency-selector",opened:t.popoverEveryOpened},on:{"popover:close":function(e){t.popoverEveryOpened=!1}}},[a("f7-list",{staticStyle:{height:"300px"}},t._l(60,(function(e){return a("f7-list-item",{key:e,attrs:{radio:"",title:e,checked:t.repeatEvery===e},on:{change:function(){t.repeatEvery=e,t.popoverEveryOpened=!1}}})})),1)],1)],1):t._e()],1),t._v(" "),a("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,s){return[a("f7-list",{key:s,attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),a("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),a("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)}C.options.__file="addons/forms/1.0.0/src/pages/assignment-details.vue";var O=C.exports;S._withStripped=!0;var x=l({props:{assignment:Object},data:function(){var t=this.assignment;return{typeSelectOpened:!1,templateSelectOpened:!1,popoverFrequencyOpened:!1,popoverEveryOpened:!1,templates:r.cache.templates,templateId:t.data.templateId,type:t.data.type,deadline:t.data.deadline,repeat:t.data.repeat,repeatFrequency:t.data.repeatFrequency,repeatEvery:t.data.repeatEvery}},computed:{allowSave:function(){return!!this.templateId},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e})),t.calendar=t.$f7.calendar.create({value:[new Date(t.deadline)],openIn:"customModal",backdrop:!0,closeOnSelect:!0,on:{change:function(e,a){t.deadline=a[0]}}})},methods:{openDeadLineCalendar:function(){this.calendar.open()},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.templateId,a=t.type,s=t.deadline,n=t.repeat,i=t.repeatFrequency,l=t.repeatEvery;r.updateAssignment({id:t.assignment.id,data:Object.assign({},t.assignment.data,{templateId:e,type:a,deadline:s,repeat:n,repeatFrequency:i,repeatEvery:l})}).then((function(){t.$f7router.back("/forms/",{force:!0}),t.$events.$emit("forms:assignmentupdated")}))}}}},S,[],!1,null,null,null);function w(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details.title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_icon_label"),link:""}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),a("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[a("f7-list-input",{attrs:{"inline-label":"",label:t.$t("forms.shortcut_details.shortcut_name_label"),placeholder:t.$t("forms.shortcut_details.shortcut_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_availbale_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.available},on:{change:function(e){t.available=e.target.checked}},slot:"after"})],1),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_display_label"),"smart-select":"","smart-select-params":{openIn:"sheet",on:{change:function(e,a){t.setDisplay(a)}}},after:t.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")}},[a("select",{attrs:{multiple:""}},[a("option",{attrs:{value:"menu"},domProps:{selected:0<=t.display.indexOf("menu")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.menu_label")))]),t._v(" "),a("option",{attrs:{value:"team"},domProps:{selected:0<=t.display.indexOf("team")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.team_label")))]),t._v(" "),a("option",{attrs:{value:"contact"},domProps:{selected:0<=t.display.indexOf("contact")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.contact_label")))])])]),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_anonymous_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.anonymous},on:{change:function(e){t.anonymous=e.target.checked}},slot:"after"})],1)],1),t._v(" "),a("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,s){return[a("f7-list",{key:s,attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),a("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),a("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)}x.options.__file="addons/forms/1.0.0/src/pages/assignment-edit.vue";var I=x.exports;w._withStripped=!0;var F=l({data:function(){var t=this.$f7route.query.templateId;return{typeSelectOpened:!1,templateSelectOpened:!1,templates:r.cache.templates,iconUrl:"",name:"",available:!0,templateId:t?parseInt(t,10):null,display:["menu"],type:"single",anonymous:!0}},computed:{allowSave:function(){var t=this.templateId,e=this.name;return!(!t||!e.trim().length)},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},methods:{setDisplay:function(t){this.display=t},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.iconUrl,a=t.name,s=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous,c=t.deadline;r.createShortcut(t.$root.user,{iconUrl:e,name:a,available:s,templateId:n,display:i,type:l,anonymous:o,deadline:c}).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutcreated")}))}}}},w,[],!1,null,null,null);function T(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",[a("f7-navbar",{attrs:{innerClass:"forms-blue-navbar-inner"}},[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details.edit_title")))]),t._v(" "),a("f7-nav-right",[t.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:t.save}},[a("i",{staticClass:"icon f7-icons"},[t._v("check")])]):t._e()],1)],1),t._v(" "),a("f7-list",{staticClass:"no-margin forms-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_icon_label"),link:""}},[a("div",{staticClass:"forms-template-icon s60",style:{"background-image":t.iconUrl?"url("+t.iconUrl+")":null}})])],1),t._v(" "),a("f7-list",{staticClass:"forms-list forms-inputs-list",attrs:{"no-hairlines":""}},[a("f7-list-input",{attrs:{"inline-label":"",label:t.$t("forms.shortcut_details.shortcut_name_label"),placeholder:t.$t("forms.shortcut_details.shortcut_name_label"),type:"text",value:t.name},on:{input:function(e){t.name=e.target.value}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_availbale_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.available},on:{change:function(e){t.available=e.target.checked}},slot:"after"})],1),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_template_label"),after:t.templateName},on:{click:function(e){t.templateSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_display_label"),"smart-select":"","smart-select-params":{openIn:"sheet",on:{change:function(e,a){t.setDisplay(a)}}},after:t.display.map((function(e){return t.$t("forms.shortcuts_display_options."+e+"_label")})).join(", ")}},[a("select",{attrs:{multiple:""}},[a("option",{attrs:{value:"menu"},domProps:{selected:0<=t.display.indexOf("menu")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.menu_label")))]),t._v(" "),a("option",{attrs:{value:"team"},domProps:{selected:0<=t.display.indexOf("team")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.team_label")))]),t._v(" "),a("option",{attrs:{value:"contact"},domProps:{selected:0<=t.display.indexOf("contact")}},[t._v(t._s(t.$t("forms.shortcuts_display_options.contact_label")))])])]),t._v(" "),a("f7-list-item",{attrs:{link:"",title:t.$t("forms.shortcut_details.shortcut_type_label"),after:t.$t("forms.shortcuts_type_options."+t.type+"_label")},on:{click:function(e){t.typeSelectOpened=!0}}}),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("forms.shortcut_details.shortcut_anonymous_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.anonymous},on:{change:function(e){t.anonymous=e.target.checked}},slot:"after"})],1)],1),t._v(" "),a("f7-list",{attrs:{"no-hairlines":""}},[a("f7-list-button",{attrs:{color:"red"},on:{click:t.deleteShortcut}},[t._v("\n      "+t._s(t.$t("forms.template_edit.delete_button"))+"\n    ")])],1),t._v(" "),a("f7-popup",{attrs:{opened:t.typeSelectOpened},on:{"popup:close":function(e){t.typeSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.assignment.type_label")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),t._l(["single","multi","recent"],(function(e,s){return[a("f7-list",{key:s,attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{radio:"",checked:t.type===e,title:t.$t("forms.shortcuts_type_options."+e+"_label")},on:{change:function(){t.type=e,t.typeSelectOpened=!1}}}),t._v(" "),a("f7-block-footer",[t._v(t._s(t.$t("forms.shortcuts_type_options."+e+"_text")))])],1)]}))],2)],1),t._v(" "),a("f7-popup",{attrs:{opened:t.templateSelectOpened},on:{"popup:close":function(e){t.templateSelectOpened=!1}}},[a("f7-page",[a("f7-navbar",[a("f7-nav-title",[t._v(t._s(t.$t("forms.shortcut_details_template_select.title")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{"popup-close":"","icon-f7":"close"}})],1)],1),t._v(" "),a("f7-list",{staticClass:"forms-templates-list",attrs:{"media-list":"","no-hairlines":""}},t._l(t.templates,(function(e){return a("f7-list-item",{key:e.id,attrs:{title:e.data.name,text:e.data.description,radio:"",checked:e.id===t.templateId},on:{change:function(){t.templateId=e.id,t.templateSelectOpened=!1}}},[a("div",{staticClass:"forms-template-icon s70",style:{"background-image":e.iconUrl?"url("+e.iconUrl+")":null},attrs:{slot:"media"},slot:"media"})])})),1)],1)],1)],1)}F.options.__file="addons/forms/1.0.0/src/pages/shortcut-create.vue";var q=F.exports;T._withStripped=!0;var E=l({props:{shortcut:Object},data:function(){var t=this.shortcut.data,e=t.iconUrl,a=t.name,s=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous;return{typeSelectOpened:!1,templateSelectOpened:!1,templates:r.cache.templates,iconUrl:e,name:a,available:s,templateId:n,display:i,type:l,anonymous:o}},computed:{allowSave:function(){var t=this.templateId,e=this.name;return!(!t||!e.trim().length)},templateName:function(){var t=this;if(!t.templateId)return t.$t("forms.index.notset_label");if(!t.templates)return"";var e=t.templates.filter((function(e){return e.id===t.templateId}))[0];return e?e.data.name:""}},mounted:function(){var t=this;t.templates||r.getTemplates(t.$root.user).then((function(e){t.templates=e}))},methods:{setDisplay:function(t){this.display=t},deleteShortcut:function(){var t=this;t.$f7.dialog.confirm(t.$t("forms.shortcut_delete_confirm.text"),(function(){r.deleteShortcut(t.shortcut.id).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutdeleted")}))}))},save:function(){var t=this;if(!t.saving){t.saving=!0;var e=t.iconUrl,a=t.name,s=t.available,n=t.templateId,i=t.display,l=t.type,o=t.anonymous;r.updateShortcut({id:t.shortcut.id,data:Object.assign({},t.shortcut.data,{iconUrl:e,name:a,available:s,templateId:n,display:i,type:l,anonymous:o})}).then((function(){t.$f7router.back(),t.$events.$emit("forms:shortcutupdated")}))}}}},T,[],!1,null,null,null);E.options.__file="addons/forms/1.0.0/src/pages/shortcut-edit.vue";var U=[{path:"/forms/",component:m},{path:"/forms/template-create/",component:d},{path:"/forms/template-details/:id/",component:v},{path:"/forms/template-edit/:id/",component:b},{path:"/forms/assignment-create/",component:k},{path:"/forms/assignment-details/:id/",component:O},{path:"/forms/assignment-edit/:id/",component:I},{path:"/forms/shortcut-create/",component:q},{path:"/forms/shortcut-edit/:id/",component:E.exports}];e.default=U}]).default;