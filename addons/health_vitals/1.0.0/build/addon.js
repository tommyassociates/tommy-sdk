var addon=function(){var o={id:void 0,user:void 0},i=window.tommy.api,t=function getWaterTracker(t){return i.getFragments({addon:"health_vitals",kind:"VitalsWaterTrackerItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},a=function getTemperature(t){return i.getFragments({addon:"health_vitals",kind:"VitalsTemperatureItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},n=function getPedometer(t){return i.getFragments({addon:"health_vitals",kind:"VitalsPedometerItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},s=function getHeight(t){return i.getFragments({addon:"health_vitals",kind:"VitalsHeightItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},l=function getWeight(t){return i.getFragments({addon:"health_vitals",kind:"VitalsWeightItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},r=function getHeartRate(t){return i.getFragments({addon:"health_vitals",kind:"VitalsHeartRateItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},d=function getBloodPressure(t){return i.getFragments({addon:"health_vitals",kind:"VitalsBloodPressureItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},c=function getBloodGlucose(t){return i.getFragments({addon:"health_vitals",kind:"VitalsBloodGlucoseItem",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,page:1,limit:1,per:1},{cache:!1})},v=function getMedicationReminder(a){return new Promise(function(r,d){var t=i.getFragments({addon:"health_vitals",kind:"VitalsMedicationReminderMedication",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||a.id,actor_id:o.id},{cache:!1}),e=i.getFragments({addon:"health_vitals",kind:"VitalsMedicationReminderTaken",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||a.id,actor_id:o.id},{cache:!1});Promise.all([t,e]).then(function(t){var e=t[0],s=t[1],o={};e.forEach(function(e){var t,a=new Date(e.data.startDate);if(!(a.getTime()>(new Date).getTime())){var i=new Date(e.data.endDate);i.getTime()>(new Date).getTime()&&(i=new Date).setHours(0,0,0,0);for(var n=(i.getTime()-a.getTime())/864e5+1,s=0;s<n;s+=1){var l=new Date(a).getTime()+864e5*s,r=new Date(l).toJSON();o[r]||(o[r]=[]),(t=o[r]).push.apply(t,e.data.dosage.map(function(t){return{id:e.id,name:e.data.name,time:t.time}}))}}}),Object.keys(o).forEach(function(t){o[t].sort(function(t,e){return 60*parseInt(t.time.split(":")[0],10)+parseInt(t.time.split(":")[1],10)<60*parseInt(e.time.split(":")[0],10)+parseInt(e.time.split(":")[1],10)?-1:1})});var a=Object.keys(o).sort(function(t,e){return new Date(t).getTime()<new Date(e).getTime()?-1:1}),l=a[a.length-1];if(l){var i=o[l],n=i.filter(function(a){var i,n=new Date(l);return n.setHours(0,0,0,0),s.forEach(function(t){if(!i){var e=new Date(t.data.date||t.start_at);e.setHours(0,0,0,0),a.id===t.data.medication_id&&a.time===t.data.time&&n.getTime()===e.getTime()&&t.data.taken&&(i=!0)}}),i});r({date:new Date(l),takenPercentage:Math.round(n.length/i.length*100)})}else d()})})},u={water_tracker:null,temperature:null,pedometer:null,height:null,weight:null,heart_rate:null,blood_pressure:null,blood_glucose:null,medication_reminder:null},e={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{attrs:{id:"health_vitals__index"}},[a("f7-navbar",[a("tommy-nav-menu"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title","Health Vitals")))]),t._v(" "),a("f7-nav-right",[a("f7-link",{attrs:{href:"/health_vitals/panel/","icon-only":""}},[a("i",{staticClass:"icon health-vitals-icon-settings"})])],1)],1),t._v(" "),a("div",{staticClass:"health-vitals-cards"},[t.user?a("div",{staticClass:"health-vitals-card health-vitals-user-card"},[t.user?a("tommy-circle-avatar",{attrs:{data:t.user}}):t._e(),t._v(" "),a("div",{staticClass:"health-vitals-user-card-content"},[a("div",{staticClass:"name"},[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),t._v(" "),a("div",{staticClass:"props"},[t.userAge?a("div",{staticClass:"prop"},[a("div",{staticClass:"prop-label"},[t._v(t._s(t.t("profile_age_label")))]),t._v(" "),a("div",{staticClass:"prop-value"},[t._v(t._s(t.userAge))])]):t._e()])])],1):t._e(),t._v(" "),t.blood_glucose?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/blood_glucose/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.2")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.blood_glucose.date).format("DD MMM YYYY"))+" "+t._s(t.blood_glucose.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"blood-glucose-icon-"+t.blood_glucose.state+".svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.blood_glucose.value)+" "),a("sub",[t._v(t._s(t.t("blood_glucose_units")))])])])])]):t._e(),t._v(" "),t.water_tracker||!1===t.water_tracker?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/water_tracker/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.4")))]),t._v(" "),t.water_tracker?a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.water_tracker.date).format("DD MMM YYYY"))+" "+t._s(t.water_tracker.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[t.water_tracker.value<200?a("img",{attrs:{src:t.$addonAssetsUrl+"water-tracker-icon-cup.svg"}}):t.water_tracker.value<350?a("img",{attrs:{src:t.$addonAssetsUrl+"water-tracker-icon-glass.svg"}}):a("img",{attrs:{src:t.$addonAssetsUrl+"water-tracker-icon-bottle.svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.water_tracker.value)+" "),a("sub",[t._v(t._s(t.t("water_units.5")))])])])]):t._e(),t._v(" "),!1===t.water_tracker?a("div",{staticClass:"health-vitals-subcard health-vitals-subcard-empty"},[t._v(t._s(t.t("no_data")))]):t._e()]):t._e(),t._v(" "),t.medication_reminder?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/medication_reminder/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.0")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.medication_reminder.date).format("DD MMM YYYY")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[100===t.medication_reminder.takenPercentage?a("img",{attrs:{src:t.$addonAssetsUrl+"icon-check.svg"}}):a("f7-gauge",{attrs:{size:46,value:t.medication_reminder.takenPercentage/100,"border-bg-color":"#FAE1C9","border-color":"#FF4500","border-width":8}})],1),t._v(" "),a("span",{staticClass:"health-vitals-card-icon-text"},[t._v(t._s(t.t("taken","Taken")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.medication_reminder.takenPercentage)+"%")])])])]):t._e(),t._v(" "),t.temperature||!1===t.temperature?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/temperature/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.5")))]),t._v(" "),t.temperature?a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.temperature.date).format("DD MMM YYYY"))+" "+t._s(t.temperature.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"temperature-icon.svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.temperature.value)+" "),a("sub",[t._v(t._s(t.t("body_temperature_units.0")))])])])]):t._e(),t._v(" "),!1===t.temperature?a("div",{staticClass:"health-vitals-subcard health-vitals-subcard-empty"},[t._v(t._s(t.t("no_data")))]):t._e()]):t._e(),t._v(" "),t.pedometer?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/pedometer/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.6")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.pedometer.date).format("DD MMM YYYY"))+" "+t._s(t.pedometer.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"pedometer-icon.svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.pedometer.value)+" "),a("sub",[t._v(t._s(t.t("pedometer_units")))])])])])]):t._e(),t._v(" "),t.height||!1===t.height?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/height/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.7")))]),t._v(" "),t.height?a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.height.date).format("DD MMM YYYY"))+" "+t._s(t.height.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"height-icon.svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.height.value)+" "),a("sub",[t._v(t._s(t.t("height_units.0")))])])])]):t._e(),t._v(" "),!1===t.height?a("div",{staticClass:"health-vitals-subcard health-vitals-subcard-empty"},[t._v(t._s(t.t("no_data")))]):t._e()]):t._e(),t._v(" "),t.heart_rate?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/heart_rate/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.3")))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.heart_rate.date).format("DD MMM YYYY"))+" "+t._s(t.heart_rate.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"heart-rate-icon-"+t.heart_rate.state+".svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.heart_rate.value)+" "),a("sub",[t._v(t._s(t.t("heart_rate_units")))])])])])]):t._e(),t._v(" "),t.blood_pressure||!1===t.blood_pressure?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/blood_pressure/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.1")))]),t._v(" "),t.blood_pressure?a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.blood_pressure.date).format("DD MMM YYYY"))+" "+t._s(t.blood_pressure.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.blood_pressure.value[0])+"/"+t._s(t.blood_pressure.value[1]))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[a("sub",[t._v(t._s(t.t("blood_pressure_units")))])])])]):t._e(),t._v(" "),!1===t.blood_pressure?a("div",{staticClass:"health-vitals-subcard health-vitals-subcard-empty"},[t._v(t._s(t.t("no_data")))]):t._e()]):t._e(),t._v(" "),t.weight||!1===t.weight?a("a",{staticClass:"health-vitals-card",attrs:{href:"/health_vitals/weight/"}},[a("div",{staticClass:"health-vitals-card-title"},[t._v(t._s(t.t("vital_types.8")))]),t._v(" "),t.weight?a("div",{staticClass:"health-vitals-subcard"},[a("div",{staticClass:"health-vitals-subcard-title"},[t._v(t._s(t.$moment(t.weight.date).format("DD MMM YYYY"))+" "+t._s(t.weight.time))]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-content"},[a("div",{staticClass:"health-vitals-card-icon"},[a("img",{attrs:{src:t.$addonAssetsUrl+"weight-icon.svg"}})]),t._v(" "),a("div",{staticClass:"health-vitals-subcard-value"},[t._v(t._s(t.weight.value)+" "),a("sub",[t._v(t._s(t.t("weight_units.0")))])])])]):t._e(),t._v(" "),!1===t.weight?a("div",{staticClass:"health-vitals-subcard health-vitals-subcard-empty"},[t._v(t._s(t.t("no_data")))]):t._e()]):t._e()])],1)},staticRenderFns:[],data:function data(){return{actorId:this.$f7route.query.actor_id,user:null,water_tracker:u.water_tracker,temperature:u.temperature,pedometer:u.pedometer,height:u.height,weight:u.weight,heart_rate:u.heart_rate,blood_pressure:u.blood_pressure,blood_glucose:u.blood_glucose,medication_reminder:u.medication_reminder}},mounted:function mounted(){var e=this;e.actorId?(o.id=parseInt(e.actorId,10),e.$api.getContact(e.actorId).then(function(t){e.user=t,o.user=t,e.getData()}).catch(function(){e.getData()})):(e.user=e.$root.user,delete o.id,delete o.user,e.getData())},computed:{userAge:function userAge(){if(this.user){var t=this.user.dob;if(t){var e=this.$moment(new Date(t));return this.$moment(new Date).diff(e,"years")}}}},methods:{t:function t(e,a){return this.$t("health_vitals.index."+e,a)},getData:function getData(){var e=this;t(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.water_tracker=!1,void(u.water_tracker=!1);e.water_tracker=t[0].data,u.water_tracker=e.water_tracker}),a(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.temperature=!1,void(u.temperature=!1);e.temperature=t[0].data,u.temperature=e.temperature}),n(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.pedometer=!1,void(u.pedometer=!1);e.pedometer=t[0].data,u.pedometer=e.pedometer}),s(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.height=!1,void(u.height=!1);e.height=t[0].data,u.height=e.height}),l(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.weight=!1,void(u.weight=!1);e.weight=t[0].data,u.weight=e.weight}),r(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.heart_rate=!1,void(u.heart_rate=!1);e.heart_rate=t[0].data,u.heart_rate=e.heart_rate}),d(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.blood_pressure=!1,void(u.blood_pressure=!1);e.blood_pressure=t[0].data,u.blood_pressure=e.blood_pressure}),c(e.$root.user).then(function(t){if(!t||!t.length||!t[0].data)return e.blood_glucose=!1,void(u.blood_glucose=!1);e.blood_glucose=t[0].data,u.blood_glucose=e.blood_glucose}),v(e.$root.user).then(function(t){if(!t)return e.medication_reminder=!1,void(u.medication_reminder=!1);e.medication_reminder=t,u.medication_reminder=e.medication_reminder}).catch(function(){})}}},m=window.tommy.api,h=function getRecords(t,e,a){void 0===a&&(a={});var i,n=a.page,s=a.limit,l=a.dateFrom,r=a.dateTo;return t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join(""),l&&r&&(i=[new Date(l).toJSON(),new Date(r).toJSON()]),m.getFragments({addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||e.id,actor_id:o.id,page:n||1,limit:s||50,date_range:i},{cache:!1})},_=function addRecord(t,e,a){t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join("");var i=new Date(a.date);i.setHours(parseInt(a.time.split(":")[0],10),parseInt(a.time.split(":")[1],10));var n=o.user||e,s={addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,start_at:i.toJSON(),tags:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],filters:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],data:JSON.stringify(a)};return o.id&&(s.actor_id=o.id,s.actor_type="User"),m.createFragment(s)},f=function getSettings(t){return m.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"GET",cache:!1}).then(function(t){return t?t.data?t.data:null:t})},g=function saveSettings(t,e){return void 0===e&&(e={}),m.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"PUT",data:{data:JSON.stringify(e)}})},p={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-elment-index-page vitals-"+a.vitalsElement+"-index-page",attrs:{id:"vitals_element__index"},on:{"page:beforein":a.onPageBeforeIn,"page:beforeout":a.onPageBeforeOut},nativeOn:{"!scroll":function(t){return a.onPageScroll(t)}}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/settings/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-settings vitals-"+a.vitalsElement+"-icon-settings"})]),a._v(" "),i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/history/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-chart vitals-"+a.vitalsElement+"-icon-chart"})])],1)],1),a._v(" "),i("f7-fab",{class:"vitals-element-fab vitals-"+a.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+a.vitalsElement+"/add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),a._v(" "),i("div",{class:"vitals-element-index-header vitals-"+a.vitalsElement+"-index-header"},[i("div",{class:"vitals-element-index-header-icon vitals-"+a.vitalsElement+"-index-header-icon"}),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.data[0].data.value)),i("span",[a._v(a._s(a.t("vital_unit."+(a.data[0].data.unit||0))))])]),a._v(" "),i("div",{class:"vitals-element-index-header-date vitals-"+a.vitalsElement+"-index-header-date"},[a._v(a._s(a.$moment(a.data[0].data.date).format("DD MMM YYYY"))+" "+a._s(a.data[0].data.time))])]):a._e(),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.t("vital_label")))])]):a._e()]),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available")))])]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.data,function(t,e){return i("div",{key:e,class:"vitals-element-card vitals-"+a.vitalsElement+"-card "+a.cardExtraClass(t)},[i("div",{class:"vitals-element-card-title vitals-"+a.vitalsElement+"-card-title"},[a._v(a._s(a.$moment(t.data.date).format("DD MMM YYYY"))+" "+a._s(t.data.time))]),a._v(" "),i("div",{class:"vitals-element-card-content vitals-"+a.vitalsElement+"-card-content"},[i("div",{class:"vitals-element-card-icon vitals-"+a.vitalsElement+"-card-icon"},[a.cardCustomIconName(t)?i("img",{attrs:{src:a.$addonAssetsUrl+"/"+a.vitalsElement+"/"+a.cardCustomIconName(t)+".svg"}}):i("img",{attrs:{src:a.$addonAssetsUrl+"/"+a.vitalsElement+"/card-icon.svg"}})]),a._v(" "),i("div",{class:"vitals-element-card-value vitals-"+a.vitalsElement+"-card-value"},[a._v(a._s(t.data.value)+" "),i("sub",[a._v(a._s(a.t("vital_unit."+(t.data.unit||0))))])])])])})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String,indexCardExtraClass:[String,Function],indexCardCustomIconName:[String,Function]},data:function data(){return{data:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},methods:{cardCustomIconName:function cardCustomIconName(t){return this.indexCardCustomIconName?"function"==typeof this.indexCardCustomIconName?this.indexCardCustomIconName(t):this.indexCardCustomIconName:""},cardExtraClass:function cardExtraClass(t){return this.indexCardExtraClass?"function"==typeof this.indexCardExtraClass?this.indexCardExtraClass(t):this.indexCardExtraClass:""},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".index."+e,a)},getData:function getData(){var e=this;h(e.vitalsElement,e.$root.user).then(function(t){e.data=t.filter(function(t){return t.data&&t.data.value}).sort(function(t,e){var a=new Date(t.data.date),i=t.data.time.split(":"),n=i[0],s=i[1];a.setHours(parseInt(n,10),parseInt(s,10));var l=new Date(e.data.date),r=e.data.time.split(":"),o=r[0],d=r[1];return l.setHours(parseInt(o,10),parseInt(d,10)),l-a})})},onPageScroll:function onPageScroll(t){var e=this,a=e.$$(t.target).closest(".page-content");a.length&&(100<a[0].scrollTop?e.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"):e.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"))},onPageBeforeIn:function onPageBeforeIn(){this.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")},onPageBeforeOut:function onPageBeforeOut(){this.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")}}},D={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-element-manual-add-page vitals-"+a.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[a.allowSave?i("f7-link",{attrs:{href:"#","icon-only":""},on:{click:a.save}},[i("i",{staticClass:"icon f7-icons"},[a._v("check")])]):a._e()],1)],1),a._v(" "),i("f7-list",[i("f7-list-input",{attrs:{type:"number","inline-label":"",value:a.value,min:"1",label:a.t("vital_label")},on:{input:function(t){a.value=t.target.value}}},[i("span",{staticClass:"vitals-element-input-unit",attrs:{slot:"inner"},slot:"inner"},[a._v(a._s(a.t("vital_unit.0")))])]),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input",label:a.t("date_label")}}),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"time-input",label:a.t("time_label")}}),a._v(" "),a._l(a.manualAddExtraFields,function(e,t){return["smartselect"===e.type?i("f7-list-item",{key:t,attrs:{title:e.label(a.$t),"smart-select":"","smart-select-params":{openIn:"popover",closeOnSelect:!0}}},[i("select",{on:{change:function(t){a.onExtraFieldChange(t,e)}}},a._l(e.values(a.$t),function(t,e){return i("option",{key:e,domProps:{value:t.value}},[a._v(a._s(t.display))])}))]):a._e(),a._v(" "),"select"===e.type?i("f7-list-input",{key:t,attrs:{type:e.type,value:this[e.propName],label:e.label(a.$t),"input-style":e.inputStyle,"inline-label":""},on:{change:function(t){a.onExtraFieldChange(t,e)}}},a._l(e.values(a.$t),function(t,e){return i("option",{key:e,domProps:{value:t.value}},[a._v(a._s(t.display))])})):a._e()]})],2)],1)},staticRenderFns:[],props:{vitalsElement:String,manualAddExtraFields:Array},data:function data(){var e={};return this.manualAddExtraFields&&this.manualAddExtraFields.forEach(function(t){e[t.propName]=t.defaultValue}),Object.assign({},{value:"",date:"",time:""},e)},computed:{allowSave:function allowSave(){return this.value&&0<this.value}},mounted:function mounted(){var a=this;a.$f7.calendar.create({inputEl:a.$el.querySelector("#date-input"),value:[new Date],on:{change:function change(t,e){a.date=new Date(e[0]),a.date.setHours(0,0,0,0)}}});var t=(new Date).getHours();t<10&&(t="0"+t);var e=(new Date).getMinutes();e<10&&(e="0"+e),a.$f7.picker.create({inputEl:a.$el.querySelector("#time-input"),value:[t.toString(),e.toString()],formatValue:function formatValue(t){return t[0]+":"+t[1]},cols:[{values:function(){for(var t=[],e=0;e<24;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()}],on:{change:function change(t,e){a.time=e.join(":")}}})},methods:{onExtraFieldChange:function onExtraFieldChange(t,e){this[e.propName]=t.target.value},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".manual_enter."+e,a)},save:function save(){var e=this,t=e.value,a=e.date,i=e.time,n={};e.manualAddExtraFields&&e.manualAddExtraFields.forEach(function(t){n[t.propName]=e[t.propName]}),_(e.vitalsElement,e.$root.user,Object.assign({},{value:t,date:new Date(a).toJSON(),time:i,unit:0},n)).then(function(){e.$events.$emit(e.vitalsElement+":updateRecords"),e.$f7router.back()})}}},b={receiveMessage:!1},k={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-settings-page vitals-"+t.vitalsElement+"-settings-page",attrs:{id:"vitals_element__settings"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title")))])],1),t._v(" "),a("div",{class:"vitals-element-settings-header vitals-"+t.vitalsElement+"-settings-header"},[a("div",{class:"vitals-element-settings-icon vitals-"+t.vitalsElement+"-settings-icon"}),t._v(" "),a("div",{class:"vitals-element-settings-center-icon vitals-"+t.vitalsElement+"-settings-center-icon"})]),t._v(" "),a("div",{class:"vitals-element-settings-text vitals-"+t.vitalsElement+"-settings-text"},[a("p",[t._v(t._s(t.t("vital_text")))])]),t._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:t.t("chat_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.settings.receiveMessage},on:{"toggle:change":t.onMessagesChanges},slot:"after"})],1)],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{settings:b}},mounted:function mounted(){var e=this;f(e.vitalsElement).then(function(t){t&&(e.settings=t,b=e.settings)})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".settings."+e,a)},onMessagesChanges:function onMessagesChanges(t){this.settings.receiveMessage=t,b=this.settings,g(this.vitalsElement,this.settings)}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-history-page vitals-"+e.vitalsElement+"-history-page",attrs:{id:"vitals_element__history"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))])],1),e._v(" "),a("f7-block",[a("f7-segmented",[a("f7-button",{attrs:{active:"day"===e.range},on:{click:function(t){e.range="day"}}},[e._v(e._s(e.t("date_options.0")))]),e._v(" "),a("f7-button",{attrs:{active:"week"===e.range},on:{click:function(t){e.range="week"}}},[e._v(e._s(e.t("date_options.1")))]),e._v(" "),a("f7-button",{attrs:{active:"month"===e.range},on:{click:function(t){e.range="month"}}},[e._v(e._s(e.t("date_options.2")))])],1)],1),e._v(" "),a("div",{class:"vitals-element-chart-clicked vitals-"+e.vitalsElement+"-chart-clicked"},[a("span",[e._v(e._s(e.clickedDate))]),e._v(" "),a("span",[e._v(e._s(e.clickedValue))]),e._v(" "),e.clickedExtra?a("span",{domProps:{innerHTML:e._s(e.clickedExtra)}}):e._e()]),e._v(" "),e.data&&e.data.length?["day"===e.range?a("div",{key:"chart-day",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartDay"})]):e._e(),e._v(" "),"week"===e.range?a("div",{key:"chart-week",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartWeek"})]):e._e(),e._v(" "),"month"===e.range?a("div",{key:"chart-month",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartMonth"})]):e._e()]:e._e()],2)},staticRenderFns:[],props:{vitalsElement:String,chartType:{type:String,default:"line"},chartColor:{type:String,default:"#5FA81A"},chartMarkerColor:String,chartClickedExtra:Function,chartWeekSumsDays:Boolean,chartMonthSumsDays:Boolean},data:function data(){return{data:null,clicked:null,range:"day"}},mounted:function mounted(){var n=this,t=(new Date).setMonth((new Date).getMonth()-1),e=new Date;h(n.vitalsElement,n.$root.user,{dateFrom:t,dateTo:e}).then(function(t){n.data=(t||[]).sort(function(t,e){var a=n.itemDate(t),i=n.itemDate(e);return a.getTime()-i.getTime()}),n.$nextTick(function(){n.initChart()})})},watch:{range:function range(){var t=this;t.clicked=null,t.$nextTick(function(){t.initChart()})}},computed:{clickedDate:function clickedDate(){var t=this;return t.clicked?t.chartWeekSumsDays&&"week"===t.range?t.$moment(t.clicked.x).format("DD MMM YYYY"):t.chartMonthSumsDays&&"month"===t.range?t.$moment(t.clicked.x).format("DD MMM YYYY"):t.$moment(t.clicked.x).format("DD MMM YYYY HH:mm"):""},clickedValue:function clickedValue(){var t=this;if(!t.clicked)return"";var e=t.data[t.clicked.id];return t.clicked.y+" "+t.t("vital_unit."+e.data.unit)},clickedExtra:function clickedExtra(){var t=this;if(!t.clicked)return"";if(t.chartClickedExtra){var e=t.data[t.clicked.id];return t.chartClickedExtra(e,t.$t)}return""},todayValues:function todayValues(){var a=this;if(!a.data)return null;var e=new Date;return e.setHours(0,0,0,0),a.data.filter(function(t){return a.itemDate(t).getTime()>e.getTime()}).map(function(t){var e=a.itemDate(t);return{y:parseInt(t.data.value,10),x:e,id:a.data.indexOf(t)}})},weekValues:function weekValues(){var a=this;if(!a.data)return null;var e=new Date;e.setHours(0,0,0,0),e.setMonth(e.getMonth(),e.getDate()-7);var t=a.data.filter(function(t){return a.itemDate(t).getTime()>e.getTime()});return a.chartWeekSumsDays?a.sumValuesByDay(t):t.map(function(t){var e=a.itemDate(t);return{y:parseInt(t.data.value,10),x:e,id:a.data.indexOf(t)}})},monthValues:function monthValues(){var a=this;if(!a.data)return null;var e=new Date;e.setHours(0,0,0,0),e.setMonth(e.getMonth()-1,e.getDate());var t=a.data.filter(function(t){return a.itemDate(t).getTime()>e.getTime()});return a.chartWeekSumsDays?a.sumValuesByDay(t):t.map(function(t){var e=a.itemDate(t);return{y:parseInt(t.data.value,10),x:e,id:a.data.indexOf(t)}})}},methods:{sumValuesByDay:function sumValuesByDay(t){var a=this,i=[],n=a.itemDate(t[0]);n.setHours(0,0,0,0);var s=0;return t.forEach(function(t){var e=a.itemDate(t);e.setHours(0,0,0,0),e.getTime()!==n.getTime()&&(s+=1,n=e),i[s]||(i[s]={x:n,y:0,id:a.data.indexOf(t)}),i[s].y+=parseInt(t.data.value,10)}),i},itemDate:function itemDate(t){var e=new Date(t.data.date),a=parseInt(t.data.time.split(":")[0],10),i=parseInt(t.data.time.split(":")[1],10);return e.setHours(a,i),e},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".history."+e,a)},initChart:function initChart(){var t=this,e=t.range;if(t.data&&t.data.length){var a={chart:{type:t.chartType||"line"},credits:{enabled:!1},legend:{enabled:!1},title:null,tooltip:{enabled:!1},xAxis:{type:"datetime"},yAxis:{title:null},time:{timezoneOffset:(new Date).getTimezoneOffset()},plotOptions:{line:{marker:{enabled:!0,fillColor:t.chartMarkerColor||t.chartColor}}}},i={color:t.chartColor,cursor:"pointer",point:{events:{click:function click(){t.clicked=this},select:function select(){t.clicked=this}}}};"day"===e&&t.$highcharts.chart(t.$refs.chartDay,Object.assign({},a,{series:[Object.assign({},i,{data:t.todayValues})]})),"week"===e&&t.$highcharts.chart(t.$refs.chartWeek,Object.assign({},a,{series:[Object.assign({},i,{data:t.weekValues})]})),"month"===e&&t.$highcharts.chart(t.$refs.chartMonth,Object.assign({},a,{series:[Object.assign({},i,{data:t.monthValues})]}))}}}},y=[{path:"/health_vitals/blood_glucose/",component:p},{path:"/health_vitals/blood_glucose/add/",component:D},{path:"/health_vitals/blood_glucose/settings/",component:k},{path:"/health_vitals/blood_glucose/history/",component:E}];y.forEach(function(t){t.options={props:{vitalsElement:"blood_glucose",indexCardCustomIconName:function indexCardCustomIconName(t){return t&&t.data&&t.data.state?"card-icon-"+t.data.state:""},manualAddExtraFields:[{type:"smartselect",propName:"state",defaultValue:"none",label:function label(t){return t("health_vitals.blood_glucose.manual_enter.vital_variants_label")},values:function values(t){return[{value:"none",display:t("health_vitals.blood_glucose.manual_enter.vital_variants.0")},{value:"beforemeal",display:t("health_vitals.blood_glucose.manual_enter.vital_variants.1")},{value:"aftermeal",display:t("health_vitals.blood_glucose.manual_enter.vital_variants.2")}]}}],chartColor:"#FEBFB8",chartMarkerColor:"#FD7E70",chartClickedExtra:function chartClickedExtra(t,e){var a=t.data.state;return('\n          <span class="vitals-blood_glucose-chart-clicked-state-icon-'+a+'"></span>\n          <span class="vitals-blood_glucose-chart-clicked-state-text">'+e("health_vitals.blood_glucose.history.vital_variants."+["none","beforemeal","aftermeal"].indexOf(a))+"</span>\n        ").trim()}}}});var $=window.tommy.api,w=function getRecords(t,e,a){void 0===a&&(a={});var i,n=a.page,s=a.limit,l=a.dateFrom,r=a.dateTo;return t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join(""),l&&r&&(i=[new Date(l).toJSON(),new Date(r).toJSON()]),$.getFragments({addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||e.id,actor_id:o.id,page:n||1,limit:s||50,date_range:i},{cache:!1})},x=function addRecord(t,e,a){t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join("");var i=new Date(a.date);i.setHours(parseInt(a.time.split(":")[0],10),parseInt(a.time.split(":")[1],10));var n=o.user||e,s={addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,start_at:i.toJSON(),tags:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],filters:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],data:JSON.stringify(a)};return o.id&&(s.actor_id=o.id,s.actor_type="User"),$.createFragment(s)},C=function getSettings(t){return $.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"GET",cache:!1}).then(function(t){return t?t.data?t.data:null:t})},M=function saveSettings(t,e){return void 0===e&&(e={}),$.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"PUT",data:{data:JSON.stringify(e)}})},T={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-elment-index-page vitals-"+a.vitalsElement+"-index-page",attrs:{id:"vitals_element__index"},on:{"page:beforein":a.onPageBeforeIn,"page:beforeout":a.onPageBeforeOut},nativeOn:{"!scroll":function(t){return a.onPageScroll(t)}}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/settings/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-settings vitals-"+a.vitalsElement+"-icon-settings"})]),a._v(" "),i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/history/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-chart vitals-"+a.vitalsElement+"-icon-chart"})])],1)],1),a._v(" "),i("f7-fab",{class:"vitals-element-fab vitals-"+a.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+a.vitalsElement+"/add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),a._v(" "),i("div",{class:"vitals-element-index-header vitals-"+a.vitalsElement+"-index-header"},[i("div",{class:"vitals-element-index-header-icon vitals-"+a.vitalsElement+"-index-header-icon"}),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.data[0].data.value[0])+"/"+a._s(a.data[0].data.value[1])),i("span",[a._v(a._s(a.t("vital_unit."+(a.data[0].data.unit[0]||0))))])]),a._v(" "),i("div",{class:"vitals-element-index-header-date vitals-"+a.vitalsElement+"-index-header-date"},[a._v(a._s(a.$moment(a.data[0].data.date).format("DD MMM YYYY"))+" "+a._s(a.data[0].data.time))])]):a._e(),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.t("vital_label")))])]):a._e()]),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available")))])]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.data,function(t,e){return i("div",{key:e,class:"vitals-element-card vitals-"+a.vitalsElement+"-card"},[i("div",{class:"vitals-element-card-title vitals-"+a.vitalsElement+"-card-title"},[a._v(a._s(a.$moment(t.data.date).format("DD MMM YYYY"))+" "+a._s(t.data.time))]),a._v(" "),i("div",{class:"vitals-element-card-content vitals-"+a.vitalsElement+"-card-content"},[i("div",{class:"vitals-element-card-value vitals-"+a.vitalsElement+"-card-value"},[a._v(a._s(t.data.value[0])+"/"+a._s(t.data.value[1])+" "),i("sub",[a._v(a._s(a.t("vital_unit."+(t.data.unit[0]||0))))])]),a._v(" "),i("div",{class:"vitals-element-card-value vitals-"+a.vitalsElement+"-card-value"},[a._v(a._s(t.data.value[2])+" "),i("sub",[a._v(a._s(a.t("bpm_unit."+(t.data.unit[2]||0))))])])])])})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String,indexCardCustomIconName:[String,Function]},data:function data(){return{data:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".index."+e,a)},getData:function getData(){var e=this;w(e.vitalsElement,e.$root.user).then(function(t){e.data=t.filter(function(t){return t.data&&t.data.value}).sort(function(t,e){var a=new Date(t.data.date),i=t.data.time.split(":"),n=i[0],s=i[1];a.setHours(parseInt(n,10),parseInt(s,10));var l=new Date(e.data.date),r=e.data.time.split(":"),o=r[0],d=r[1];return l.setHours(parseInt(o,10),parseInt(d,10)),l-a})})},onPageScroll:function onPageScroll(t){var e=this,a=e.$$(t.target).closest(".page-content");a.length&&(100<a[0].scrollTop?e.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"):e.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"))},onPageBeforeIn:function onPageBeforeIn(){this.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")},onPageBeforeOut:function onPageBeforeOut(){this.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")}}},S={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-manual-add-page vitals-"+e.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))]),e._v(" "),a("f7-nav-right",[e.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:e.save}},[a("i",{staticClass:"icon f7-icons"},[e._v("check")])]):e._e()],1)],1),e._v(" "),a("f7-list",[a("f7-list-input",{attrs:{type:"number","inline-label":"",value:e.sys,min:"1",label:e.t("sys_label")},on:{input:function(t){e.sys=t.target.value}}},[a("span",{staticClass:"vitals-element-input-unit",attrs:{slot:"inner"},slot:"inner"},[e._v(e._s(e.t("sys_unit.0")))])]),e._v(" "),a("f7-list-input",{attrs:{type:"number","inline-label":"",value:e.dia,min:"1",label:e.t("dia_label")},on:{input:function(t){e.dia=t.target.value}}},[a("span",{staticClass:"vitals-element-input-unit",attrs:{slot:"inner"},slot:"inner"},[e._v(e._s(e.t("dia_unit.0")))])]),e._v(" "),a("f7-list-input",{attrs:{type:"number","inline-label":"",value:e.bpm,min:"1",label:e.t("bpm_label")},on:{input:function(t){e.bpm=t.target.value}}},[a("span",{staticClass:"vitals-element-input-unit",attrs:{slot:"inner"},slot:"inner"},[e._v(e._s(e.t("bpm_unit.0")))])]),e._v(" "),a("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input",label:e.t("date_label")}}),e._v(" "),a("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"time-input",label:e.t("time_label")}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{sys:"",dia:"",bpm:"",date:"",time:""}},computed:{allowSave:function allowSave(){var t=this;return t.sys&&0<t.sys&&t.dia&&0<t.dia&&t.bpm&&0<t.bpm}},mounted:function mounted(){var a=this;a.$f7.calendar.create({inputEl:a.$el.querySelector("#date-input"),value:[new Date],on:{change:function change(t,e){a.date=new Date(e[0]),a.date.setHours(0,0,0,0)}}});var t=(new Date).getHours();t<10&&(t="0"+t);var e=(new Date).getMinutes();e<10&&(e="0"+e),a.$f7.picker.create({inputEl:a.$el.querySelector("#time-input"),value:[t.toString(),e.toString()],formatValue:function formatValue(t){return t[0]+":"+t[1]},cols:[{values:function(){for(var t=[],e=0;e<24;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()}],on:{change:function change(t,e){a.time=e.join(":")}}})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".manual_enter."+e,a)},save:function save(){var t=this,e=t.sys,a=t.dia,i=t.bpm,n=t.date,s=t.time;x(t.vitalsElement,t.$root.user,{value:[e,a,i],date:new Date(n).toJSON(),time:s,unit:[0,0,0]}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})}}},O={receiveMessage:!1},V=[{path:"/health_vitals/blood_pressure/",component:T},{path:"/health_vitals/blood_pressure/add/",component:S},{path:"/health_vitals/blood_pressure/settings/",component:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-settings-page vitals-"+t.vitalsElement+"-settings-page",attrs:{id:"vitals_element__settings"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title")))])],1),t._v(" "),a("div",{class:"vitals-element-settings-header vitals-"+t.vitalsElement+"-settings-header"},[a("div",{class:"vitals-element-settings-icon vitals-"+t.vitalsElement+"-settings-icon"}),t._v(" "),a("div",{class:"vitals-element-settings-center-icon vitals-"+t.vitalsElement+"-settings-center-icon"})]),t._v(" "),a("div",{class:"vitals-element-settings-text vitals-"+t.vitalsElement+"-settings-text"},[a("p",[t._v(t._s(t.t("vital_text")))])]),t._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:t.t("chat_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.settings.receiveMessage},on:{"toggle:change":t.onMessagesChanges},slot:"after"})],1)],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{settings:O}},mounted:function mounted(){var e=this;C(e.vitalsElement).then(function(t){t&&(e.settings=t,O=e.settings)})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".settings."+e,a)},onMessagesChanges:function onMessagesChanges(t){this.settings.receiveMessage=t,O=this.settings,M(this.vitalsElement,this.settings)}}}},{path:"/health_vitals/blood_pressure/history/",component:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-history-page vitals-"+e.vitalsElement+"-history-page",attrs:{id:"vitals_element__history"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))])],1),e._v(" "),a("f7-block",[a("f7-segmented",[a("f7-button",{attrs:{active:"day"===e.range},on:{click:function(t){e.range="day"}}},[e._v(e._s(e.t("date_options.0")))]),e._v(" "),a("f7-button",{attrs:{active:"week"===e.range},on:{click:function(t){e.range="week"}}},[e._v(e._s(e.t("date_options.1")))]),e._v(" "),a("f7-button",{attrs:{active:"month"===e.range},on:{click:function(t){e.range="month"}}},[e._v(e._s(e.t("date_options.2")))])],1)],1),e._v(" "),a("div",{class:"vitals-element-chart-clicked vitals-"+e.vitalsElement+"-chart-clicked"},[a("span",[e._v(e._s(e.clickedDate))]),e._v(" "),a("span",[e._v(e._s(e.clickedValue))])]),e._v(" "),e.data&&e.data.length?["day"===e.range?a("div",{key:"chart-day",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartDay"})]):e._e(),e._v(" "),"week"===e.range?a("div",{key:"chart-week",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartWeek"})]):e._e(),e._v(" "),"month"===e.range?a("div",{key:"chart-month",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartMonth"})]):e._e()]:e._e()],2)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null,clicked:null,range:"day",chartColors:["#5FA81A","#F5A623","#FF4500"]}},mounted:function mounted(){var n=this,t=(new Date).setMonth((new Date).getMonth()-1),e=new Date;w(n.vitalsElement,n.$root.user,{dateFrom:t,dateTo:e}).then(function(t){n.data=(t||[]).sort(function(t,e){var a=n.itemDate(t),i=n.itemDate(e);return a.getTime()-i.getTime()}),n.$nextTick(function(){n.initChart()})})},watch:{range:function range(){var t=this;t.clicked=null,t.$nextTick(function(){t.initChart()})}},computed:{clickedDate:function clickedDate(){var t=this;return t.clicked?t.chartWeekSumsDays&&"week"===t.range?t.$moment(t.clicked.x).format("DD MMM YYYY"):t.chartMonthSumsDays&&"month"===t.range?t.$moment(t.clicked.x).format("DD MMM YYYY"):t.$moment(t.clicked.x).format("DD MMM YYYY HH:mm"):""},clickedValue:function clickedValue(){var t=this;if(!t.clicked)return"";var e=t.data[t.clicked.id].data.value;return e[0]+"/"+e[1]+" "+t.t("vital_units.0")+" "+e[2]+" "+t.t("vital_units.2")}},methods:{todayValues:function todayValues(a){var i=this;if(!i.data)return null;var e=new Date;return e.setHours(0,0,0,0),i.data.filter(function(t){return i.itemDate(t).getTime()>e.getTime()}).map(function(t){var e=i.itemDate(t);return{y:parseInt(t.data.value[a],10),x:e,id:i.data.indexOf(t)}})},weekValues:function weekValues(a){var i=this;if(!i.data)return null;var e=new Date;return e.setHours(0,0,0,0),e.setMonth(e.getMonth(),e.getDate()-7),i.data.filter(function(t){return i.itemDate(t).getTime()>e.getTime()}).map(function(t){var e=i.itemDate(t);return{y:parseInt(t.data.value[a],10),x:e,id:i.data.indexOf(t)}})},monthValues:function monthValues(a){var i=this;if(!i.data)return null;var e=new Date;return e.setHours(0,0,0,0),e.setMonth(e.getMonth()-1,e.getDate()),i.data.filter(function(t){return i.itemDate(t).getTime()>e.getTime()}).map(function(t){var e=i.itemDate(t);return{y:parseInt(t.data.value[a],10),x:e,id:i.data.indexOf(t)}})},itemDate:function itemDate(t){var e=new Date(t.data.date),a=parseInt(t.data.time.split(":")[0],10),i=parseInt(t.data.time.split(":")[1],10);return e.setHours(a,i),e},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".history."+e,a)},initChart:function initChart(){var t=this,e=t.range;if(t.data&&t.data.length){var a={chart:{type:"line"},credits:{enabled:!1},legend:{enabled:!1},title:null,tooltip:{enabled:!1},xAxis:{type:"datetime"},yAxis:{title:null},time:{timezoneOffset:(new Date).getTimezoneOffset()},plotOptions:{line:{marker:{enabled:!0}}}},i={cursor:"pointer",marker:{symbol:"circle"},point:{events:{click:function click(){t.clicked=this},select:function select(){t.clicked=this}}}};"day"===e&&t.$highcharts.chart(t.$refs.chartDay,Object.assign({},a,{series:[Object.assign({},i,{color:t.chartColors[0],data:t.todayValues(0)}),Object.assign({},i,{color:t.chartColors[1],data:t.todayValues(1)}),Object.assign({},i,{color:t.chartColors[2],data:t.todayValues(2)})]})),"week"===e&&t.$highcharts.chart(t.$refs.chartWeek,Object.assign({},a,{series:[Object.assign({},i,{color:t.chartColors[0],data:t.weekValues(0)}),Object.assign({},i,{color:t.chartColors[1],data:t.weekValues(1)}),Object.assign({},i,{color:t.chartColors[2],data:t.weekValues(2)})]})),"month"===e&&t.$highcharts.chart(t.$refs.chartMonth,Object.assign({},a,{series:[Object.assign({},i,{color:t.chartColors[0],data:t.monthValues(0)}),Object.assign({},i,{color:t.chartColors[1],data:t.monthValues(1)}),Object.assign({},i,{color:t.chartColors[2],data:t.monthValues(2)})]}))}}}}}];V.forEach(function(t){t.options={props:{vitalsElement:"blood_pressure"}}});var Y=[{path:"/health_vitals/heart_rate/",component:p},{path:"/health_vitals/heart_rate/add/",component:D},{path:"/health_vitals/heart_rate/settings/",component:k},{path:"/health_vitals/heart_rate/history/",component:E}];Y.forEach(function(t){t.options={props:{vitalsElement:"heart_rate",indexCardCustomIconName:function indexCardCustomIconName(t){return t&&t.data&&t.data.state?"card-icon-"+t.data.state:""},manualAddExtraFields:[{type:"smartselect",propName:"state",defaultValue:"rest",label:function label(t){return t("health_vitals.heart_rate.manual_enter.vital_variants_label")},values:function values(t){return[{value:"rest",display:t("health_vitals.heart_rate.manual_enter.vital_variants.0")},{value:"walk",display:t("health_vitals.heart_rate.manual_enter.vital_variants.1")},{value:"run",display:t("health_vitals.heart_rate.manual_enter.vital_variants.2")}]}}],chartColor:"#FEBFB8",chartMarkerColor:"#FD7E70",chartClickedExtra:function chartClickedExtra(t,e){var a=t.data.state;return('\n          <span class="vitals-heart_rate-chart-clicked-state-icon-'+a+'"></span>\n          <span class="vitals-heart_rate-chart-clicked-state-text">'+e("health_vitals.heart_rate.history.vital_variants."+["rest","walk","run"].indexOf(a))+"</span>\n        ").trim()}}}});var I=[{path:"/health_vitals/height/",component:p},{path:"/health_vitals/height/add/",component:D},{path:"/health_vitals/height/settings/",component:k},{path:"/health_vitals/height/history/",component:E}];I.forEach(function(t){t.options={props:{vitalsElement:"height"}}});var F=window.tommy.api,P=function getVaccines(t){return F.getFragments({addon:"health_vitals",kind:"VitalsImmunisationsVaccine",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id},{cache:!1})},j=function addVaccine(t,e){var a=o.user||t,i={addon:"health_vitals",kind:"VitalsImmunisationsVaccine",with_filters:!0,start_at:new Date(e.scheduledDate).toJSON(),tags:[{context:"members",name:a.first_name+" "+a.last_name,user_id:a.id}],filters:[{context:"members",name:a.first_name+" "+a.last_name,user_id:a.id}],data:JSON.stringify(e)};return o.id&&(i.actor_id=o.id,i.actor_type="User"),F.createFragment(i)},R=function updateVaccine(t,e,a){var i=o.user||t,n={addon:"health_vitals",kind:"VitalsImmunisationsVaccine",with_filters:!0,start_at:new Date(a.scheduledDate).toJSON(),tags:[{context:"members",name:i.first_name+" "+i.last_name,user_id:i.id}],filters:[{context:"members",name:i.first_name+" "+i.last_name,user_id:i.id}],data:JSON.stringify(a)};return o.id&&(n.actor_id=o.id,n.actor_type="User"),F.updateFragment(e,n)},N=function deleteVaccine(t,e){return F.deleteFragment(e)},H=function getSettings(t){return F.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"GET",cache:!1}).then(function(t){return t?t.data?t.data:null:t})},A=function saveSettings(t,e){return void 0===e&&(e={}),F.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"PUT",data:{data:JSON.stringify(e)}})},B={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-elment-index-page vitals-"+a.vitalsElement+"-index-page",attrs:{id:"vitals_element__index"},on:{"page:beforein":a.onPageBeforeIn,"page:beforeout":a.onPageBeforeOut},nativeOn:{"!scroll":function(t){return a.onPageScroll(t)}}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/settings/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-settings vitals-"+a.vitalsElement+"-icon-settings"})]),a._v(" "),i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/history/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-chart vitals-"+a.vitalsElement+"-icon-chart"})])],1)],1),a._v(" "),i("f7-fab",{class:"vitals-element-fab vitals-"+a.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+a.vitalsElement+"/add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),a._v(" "),i("div",{class:"vitals-element-index-header vitals-"+a.vitalsElement+"-index-header"},[i("div",{class:"vitals-element-index-header-icon vitals-"+a.vitalsElement+"-index-header-icon"}),a._v(" "),a.data&&a.closestVaccine?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-date vitals-"+a.vitalsElement+"-index-header-date"},[a._v(a._s(a.t("next_label")))]),a._v(" "),i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.daysDiff(a.closestVaccine))),i("span",[a._v(a._s(a.t("days_label")))])]),a._v(" "),i("div",{class:"vitals-element-index-header-date vitals-"+a.vitalsElement+"-index-header-date"},[a._v(a._s(a.$moment(a.closestVaccine.data.scheduledDate||a.closestVaccine.data.sheduledDate).format("DD MMM YYYY"))+", "+a._s(a.closestVaccine.data.name))])]):a._e(),a._v(" "),a.data&&!a.closestVaccine?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.t("vital_label")))])]):a._e()]),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available")))])]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.orderedData,function(e){return i("a",{key:e.id,staticClass:"immunisations-card",attrs:{href:"#"},on:{click:function(t){a.$f7router.navigate("/health_vitals/immunisations/details/",{props:{vaccine:e}})}}},[i("div",{staticClass:"immunisations-card-icon",class:{injected:a.isInjected(e),overdue:a.isOverDue(e)}}),a._v(" "),i("div",{staticClass:"immunisations-card-content"},[i("div",{staticClass:"immunisations-card-name"},[a._v(a._s(e.data.name))]),a._v(" "),i("div",{staticClass:"immunisations-card-date"},[a._v(a._s(a.$moment(e.data.scheduledDate||e.data.sheduledDate).format("DD MMM, YYYY")))])]),a._v(" "),i("f7-icon",{attrs:{f7:"chevron_right"}})],1)})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},computed:{closestVaccine:function closestVaccine(){if(!this.data)return null;var a,t=[].concat(this.data);t.sort(function(t,e){return new Date(t.data.scheduledDate||t.data.sheduledDate).getTime()<new Date(e.data.scheduledDate||e.data.sheduledDate).getTime()?-1:1});var i=(new Date).getTime();return t.forEach(function(t){if(!a){var e=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime();i<e&&(a=t)}}),a},orderedData:function orderedData(){return this.data?this.data.sort(function(t,e){var a=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime();return new Date(e.data.scheduledDate||e.data.sheduledDate).getTime()<a?-1:1}):null}},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".index."+e,a)},daysDiff:function daysDiff(t){var e=(new Date).getTime(),a=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime();return Math.ceil((a-e)/1e3/60/60/25)},isOverDue:function isOverDue(t){if(this.isInjected(t))return!1;var e=new Date,a=new Date(t.data.scheduledDate||t.data.sheduledDate);return e.getTime()>=a.getTime()},isInjected:function isInjected(t){return t.data.injected},checkReminders:function checkReminders(){var e=this;e.data.forEach(function(t){e.isOverDue(t)&&e.$f7.dialog.create({text:'\n            <div class="text-align-center">\n              <img src="'+e.$addonAssetsUrl+e.vitalsElement+'/remind.svg" height="85"/>\n            </div>\n            <p class="text-align-center">'+e.$t("health_vitals.immunisations.due_alert.text")+"<br><b>"+t.data.name+"</b></p>\n          ",buttons:[{text:e.$t("health_vitals.immunisations.due_alert.confirm_button")}]}).open()})},getData:function getData(){var e=this;P(e.$root.user).then(function(t){e.data=t.filter(function(t){return!t.data.archived}),e.checkReminders()})},onPageScroll:function onPageScroll(t){var e=this,a=e.$$(t.target).closest(".page-content");a.length&&(100<a[0].scrollTop?e.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"):e.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"))},onPageBeforeIn:function onPageBeforeIn(){this.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")},onPageBeforeOut:function onPageBeforeOut(){this.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-manual-add-page vitals-"+e.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.tAdd("title")))]),e._v(" "),a("f7-nav-right",[e.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:e.save}},[a("i",{staticClass:"icon f7-icons"},[e._v("check")])]):e._e()],1)],1),e._v(" "),a("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[a("f7-list-input",{attrs:{type:"text","inline-label":"",value:e.name,label:e.tAdd("vaccine_label")},on:{input:function(t){e.name=t.target.value}}}),e._v(" "),a("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input",label:e.tAdd("date_label")}}),e._v(" "),a("f7-list-item",{attrs:{divider:"",title:e.tDetails("prevent_disease_title")}}),e._v(" "),a("f7-list-input",{attrs:{type:"text",inputStyle:"text-align: left",value:e.prevent,placeholder:e.tDetails("prevent_disease_title")},on:{input:function(t){e.prevent=t.target.value}}}),e._v(" "),a("f7-list-item",{attrs:{divider:"",title:e.tDetails("precautions_title")}}),e._v(" "),a("f7-list-input",{attrs:{type:"textarea",resizable:"",inputStyle:"text-align: left",value:e.precautions,placeholder:e.tDetails("precautions_title")},on:{input:function(t){e.precautions=t.target.value}}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{name:"",prevent:"",precautions:"",scheduledDate:new Date}},computed:{allowSave:function allowSave(){return this.name&&0<this.name.length}},mounted:function mounted(){var a=this;a.$f7.calendar.create({inputEl:a.$el.querySelector("#date-input"),value:[a.scheduledDate],closeOnSelect:!0,on:{change:function change(t,e){a.scheduledDate=new Date(e[0]),a.scheduledDate.setHours(0,0,0,0)}}})},methods:{tAdd:function tAdd(t,e){return this.$t("health_vitals."+this.vitalsElement+".add_vaccine."+t,e)},tDetails:function tDetails(t,e){return this.$t("health_vitals."+this.vitalsElement+".immunisation_details."+t,e)},save:function save(){var t=this,e=t.name,a=t.scheduledDate,i=t.prevent,n=t.precautions;j(t.$root.user,{name:e,scheduledDate:new Date(a).toJSON(),prevent:i,precautions:n}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})}}},J={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-manual-add-page vitals-"+t.vitalsElement+"-manual-add-page vitals-"+t.vitalsElement+"-details-page",attrs:{id:"vitals_element__add"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.tDetails("title")))])],1),t._v(" "),a("f7-list",{staticClass:"no-margin",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.tDetails("vaccine_label"),after:t.name}}),t._v(" "),a("f7-list-item",{attrs:{title:t.tDetails("date_label"),after:t.$moment(t.scheduledDate).format("DD MMM, YYYY")}}),t._v(" "),a("f7-list-item",{attrs:{title:t.tDetails("status_label"),after:t.statusText()}}),t._v(" "),t.injected&&t.injectedDate?a("f7-list-item",{attrs:{title:t.tDetails("injection_date_label"),after:t.$moment(t.injectedDate).format("DD MMM, YYYY")}}):t._e(),t._v(" "),a("f7-list-item",{attrs:{divider:"",title:t.tDetails("prevent_disease_title")}}),t._v(" "),a("f7-list-item",[t._v(t._s(t.prevent))]),t._v(" "),a("f7-list-item",{attrs:{divider:"",title:t.tDetails("precautions_title")}}),t._v(" "),a("f7-list-item",[t._v(t._s(t.precautions))])],1),t._v(" "),t.archived?t._e():a("div",{staticClass:"immunisations-details-buttons"},[!t.injected&&t.isOverDue()?a("a",{staticClass:"immunisations-details-button-red",attrs:{href:"#"},on:{click:t.injectVaccine}},[t._v(t._s(t.tDetails("confirm_injection_button")))]):t._e(),t._v(" "),a("a",{attrs:{href:"#"},on:{click:t.archiveVaccine}},[t._v(t._s(t.tDetails("archive_button")))])]),t._v(" "),t.archived?a("div",{staticClass:"immunisations-details-buttons"},[a("a",{staticClass:"immunisations-details-button-red",attrs:{href:"#"},on:{click:t.deleteVaccine}},[t._v(t._s(t.$t("health_vitals.immunisations.archive.delete_button")))])]):t._e()],1)},staticRenderFns:[],props:{vitalsElement:String,vaccine:Object},data:function data(){var t=this.vaccine.data,e=t.name,a=t.prevent,i=t.precautions,n=t.scheduledDate,s=t.sheduledDate,l=t.injected,r=t.injectedDate,o=t.archived;return{id:this.vaccine.id,name:e,prevent:a,precautions:i,scheduledDate:n||s,injected:l,injectedDate:r,archived:o}},mounted:function mounted(){var a=this;a.$f7.calendar.create({inputEl:a.$el.querySelector("#date-input"),value:[a.scheduledDate],closeOnSelect:!0,on:{change:function change(t,e){a.scheduledDate=new Date(e[0]),a.scheduledDate.setHours(0,0,0,0)}}})},methods:{tAdd:function tAdd(t,e){return this.$t("health_vitals."+this.vitalsElement+".add_vaccine."+t,e)},tDetails:function tDetails(t,e){return this.$t("health_vitals."+this.vitalsElement+".immunisation_details."+t,e)},statusText:function statusText(){var t=this;return t.injected?t.tDetails("status_options.1"):t.isOverDue()?t.tDetails("status_options.0"):t.tDetails("status_options.2")},isOverDue:function isOverDue(){if(this.injected)return!1;var t=new Date,e=new Date(this.scheduledDate||this.sheduledDate);return t.getTime()>=e.getTime()},archiveVaccine:function archiveVaccine(){var t=this,e=t.name,a=t.prevent,i=t.precautions,n=t.scheduledDate,s=t.injected,l=t.injectedDate;t.$f7.dialog.confirm(t.$t("health_vitals.immunisations.archive_delete_confirm_prompt.text"),function(){R(t.$root.user,t.id,{name:e,prevent:a,precautions:i,scheduledDate:n,injected:s,injectedDate:l,archived:!0}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})})},deleteVaccine:function deleteVaccine(){var t=this;t.$f7.dialog.confirm(t.$t("health_vitals.immunisations.archive_delete_confirm_prompt.text"),function(){N(t.$root.user,t.id).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})})},injectVaccine:function injectVaccine(){var r,o=this;var t=o.$f7.dialog.create({title:o.$t("health_vitals.immunisations.injection_confirm.date_label"),text:'<div class="immunisations-dialog-calendar"></div>',buttons:[{text:o.$t("health_vitals.immunisations.injection_confirm.cancel_button")},{text:o.$t("health_vitals.immunisations.injection_confirm.confirm_button"),bold:!0,onClick:function onClick(){!function inject(){o.injected=!0,o.injectedDate=r.value[0];var t=o.name,e=o.prevent,a=o.precautions,i=o.scheduledDate,n=o.injected,s=o.injectedDate,l=o.archived;R(o.$root.user,o.id,{name:t,prevent:e,precautions:a,scheduledDate:i,injected:n,injectedDate:s.toJSON(),archived:l}).then(function(){o.$events.$emit(o.vitalsElement+":updateRecords"),o.$f7router.back()})}()}}]});t.open(),r=o.$f7.calendar.create({containerEl:t.$el.find(".immunisations-dialog-calendar"),value:[new Date]})},save:function save(){var t=this,e=t.name,a=t.scheduledDate,i=t.prevent,n=t.precautions;j(t.$root.user,{name:e,scheduledDate:new Date(a).toJSON(),prevent:i,precautions:n}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})}}},q={receiveMessage:!1},G=[{path:"/health_vitals/immunisations/",component:B},{path:"/health_vitals/immunisations/add/",component:U},{path:"/health_vitals/immunisations/details/",component:J},{path:"/health_vitals/immunisations/settings/",component:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-settings-page vitals-"+t.vitalsElement+"-settings-page",attrs:{id:"vitals_element__settings"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title")))])],1),t._v(" "),a("div",{class:"vitals-element-settings-header vitals-"+t.vitalsElement+"-settings-header"},[a("div",{class:"vitals-element-settings-icon vitals-"+t.vitalsElement+"-settings-icon"}),t._v(" "),a("div",{class:"vitals-element-settings-center-icon vitals-"+t.vitalsElement+"-settings-center-icon"})]),t._v(" "),a("div",{class:"vitals-element-settings-text vitals-"+t.vitalsElement+"-settings-text"},[a("p",[t._v(t._s(t.t("vital_text")))])]),t._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:t.t("chat_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.settings.receiveMessage},on:{"toggle:change":t.onMessagesChanges},slot:"after"})],1),t._v(" "),a("f7-list-item",{attrs:{link:"/vitals_immunisations/archive/",title:t.t("archive_label")}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{settings:q}},mounted:function mounted(){var e=this;H(e.vitalsElement).then(function(t){t&&(e.settings=t,q=e.settings)})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".settings."+e,a)},onMessagesChanges:function onMessagesChanges(t){this.settings.receiveMessage=t,q=this.settings,A(this.vitalsElement,this.settings)}}}},{path:"/health_vitals/immunisations/history/",component:{render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-element-history-page vitals-"+a.vitalsElement+"-history-page"},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title","History")))])],1),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available","When you have previous records, they will show here.")))])]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.orderedData,function(e){return i("a",{key:e.id,staticClass:"immunisations-card",attrs:{href:"#"},on:{click:function(t){a.$f7router.navigate("/health_vitals/immunisations/details/",{props:{vaccine:e}})}}},[i("div",{staticClass:"immunisations-card-icon",class:{injected:a.isInjected(e),overdue:a.isOverDue(e)}}),a._v(" "),i("div",{staticClass:"immunisations-card-content"},[i("div",{staticClass:"immunisations-card-name"},[a._v(a._s(e.data.name))]),a._v(" "),i("div",{staticClass:"immunisations-card-date"},[a._v(a._s(a.$moment(e.data.scheduledDate||e.data.sheduledDate).format("DD MMM, YYYY")))])]),a._v(" "),i("f7-icon",{attrs:{f7:"chevron_right"}})],1)})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},computed:{orderedData:function orderedData(){return this.data?this.data.sort(function(t,e){var a=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime();return new Date(e.data.scheduledDate||e.data.sheduledDate).getTime()<a?-1:1}):null}},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".history."+e,a)},isOverDue:function isOverDue(t){if(this.isInjected(t))return!1;var e=new Date,a=new Date(t.data.scheduledDate||t.data.sheduledDate);return e.getTime()>=a.getTime()},isInjected:function isInjected(t){return t.data.injected},getData:function getData(){var e=this;P(e.$root.user).then(function(t){e.data=[],e.data=t.filter(function(t){var e=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime(),a=(new Date).getTime();return!t.data.archived&&e<a})})}}}},{path:"/health_vitals/immunisations/archive/",component:{render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-"+a.vitalsElement+"-archive-page"},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))])],1),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"})]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.orderedData,function(e){return i("a",{key:e.id,staticClass:"immunisations-card",attrs:{href:"#"},on:{click:function(t){a.$f7router.navigate("/health_vitals/immunisations/details/",{props:{vaccine:e}})}}},[i("div",{staticClass:"immunisations-card-icon",class:{injected:a.isInjected(e),overdue:a.isOverDue(e)}}),a._v(" "),i("div",{staticClass:"immunisations-card-content"},[i("div",{staticClass:"immunisations-card-name"},[a._v(a._s(e.data.name))]),a._v(" "),i("div",{staticClass:"immunisations-card-date"},[a._v(a._s(a.$moment(e.data.scheduledDate||e.data.sheduledDate).format("DD MMM, YYYY")))])]),a._v(" "),i("f7-icon",{attrs:{f7:"chevron_right"}})],1)})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},computed:{orderedData:function orderedData(){return this.data?this.data.sort(function(t,e){var a=new Date(t.data.scheduledDate||t.data.sheduledDate).getTime();return new Date(e.data.scheduledDate||e.data.sheduledDate).getTime()<a?-1:1}):null}},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".archive."+e,a)},isOverDue:function isOverDue(t){if(this.isInjected(t))return!1;var e=new Date,a=new Date(t.data.scheduledDate||t.data.sheduledDate);return e.getTime()>=a.getTime()},isInjected:function isInjected(t){return t.data.injected},getData:function getData(){var e=this;P(e.$root.user).then(function(t){e.data=t.filter(function(t){return t.data.archived})})}}}}];G.forEach(function(t){t.options={props:{vitalsElement:"immunisations"}}});var W=window.tommy.api,z=function takeMedication(t,e,a,i){var n=(new Date).toJSON(),s=o.user||t,l={addon:"health_vitals",kind:"VitalsMedicationReminderTaken",with_filters:!0,start_at:n,tags:[{context:"members",name:s.first_name+" "+s.last_name,user_id:t.id}],filters:[{context:"members",name:s.first_name+" "+s.last_name,user_id:s.id}],data:JSON.stringify({medication_id:e,taken:i,time:a,date:n})};return o.id&&(l.actor_id=o.id,l.actor_type="User"),W.createFragment(l)},L=function getTaken(t,e){void 0===e&&(e={});var a,i=e.dateFrom,n=e.dateTo;return i&&n&&(a=[new Date(i).toJSON(),new Date(n).toJSON()]),W.getFragments({addon:"health_vitals",kind:"VitalsMedicationReminderTaken",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id,date_range:a},{cache:!1})},K=function getMedication(t,e){return W.getFragment(e,{addon:"health_vitals",kind:"VitalsMedicationReminderMedication",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id},{cache:!1})},Q=function getMedications(t){return W.getFragments({addon:"health_vitals",kind:"VitalsMedicationReminderMedication",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||t.id,actor_id:o.id},{cache:!1})},X=function addMedication(t,e){var a=o.user||t,i={addon:"health_vitals",kind:"VitalsMedicationReminderMedication",with_filters:!0,start_at:new Date(e.startDate).toJSON(),end_at:new Date(e.endDate).toJSON(),tags:[{context:"members",name:a.first_name+" "+a.last_name,user_id:a.id}],filters:[{context:"members",name:a.first_name+" "+a.last_name,user_id:a.id}],data:JSON.stringify(e)};return o.id&&(i.actor_id=o.id,i.actor_type="User"),W.createFragment(i)},Z=function updateMedication(t,e,a){var i=o.user||t,n={addon:"health_vitals",kind:"VitalsMedicationReminderMedication",with_filters:!0,start_at:new Date(a.startDate).toJSON(),tags:[{context:"members",name:i.first_name+" "+i.last_name,user_id:i.id}],filters:[{context:"members",name:i.first_name+" "+i.last_name,user_id:i.id}],data:JSON.stringify(a)};return o.id&&(n.actor_id=o.id,n.actor_type="User"),W.updateFragment(e,n)},tt=function deleteMedication(t,e){return W.deleteFragment(e)},et=function getSettings(t){return W.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"GET",cache:!1}).then(function(t){return t?t.data?t.data:null:t})},at=function saveSettings(t,e){return void 0===e&&(e={}),W.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"PUT",data:{data:JSON.stringify(e)}})},it={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-elment-index-page vitals-"+a.vitalsElement+"-index-page",attrs:{id:"vitals_element__index"},on:{"page:beforein":a.onPageBeforeIn,"page:beforeout":a.onPageBeforeOut},nativeOn:{"!scroll":function(t){return a.onPageScroll(t)}}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/settings/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-settings vitals-"+a.vitalsElement+"-icon-settings"})]),a._v(" "),i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/history/","icon-only":"","route-props":{goalValue:a.settings?a.settings.goal_value:0}}},[i("i",{class:"icon vitals-element-icon-chart vitals-"+a.vitalsElement+"-icon-chart"})])],1)],1),a._v(" "),i("f7-fab",{class:"vitals-element-fab vitals-"+a.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+a.vitalsElement+"/plan/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),a._v(" "),i("div",{class:"vitals-element-index-header vitals-"+a.vitalsElement+"-index-header"},[i("div",{staticClass:"vitals-medicaton_reminder-header-date"},[i("span",{staticClass:"month"},[a._v(a._s(a.$moment().format("MMMM")))]),a._v(" "),i("span",{staticClass:"day"},[a._v(a._s(a.$moment().format("D")))])])]),a._v(" "),a.data&&!a.todayData?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available")))])]):a._e(),a._v(" "),a.data&&a.todayData?i("div",{staticClass:"medication-index-cards"},a._l(a.todayData,function(t,e){return i("div",{key:e,staticClass:"medication-index-card"},[i("div",{staticClass:"medication-index-card-icon",class:{taken:a.isTaken(t),"not-taken":a.isNotTaken(t),"need-to-take":a.isNeedToTake(t)}}),a._v(" "),i("div",{staticClass:"medication-index-card-content"},[i("div",{staticClass:"medication-index-card-name"},[a._v(a._s(t.name))]),a._v(" "),i("div",{staticClass:"medication-index-card-dosage"},[a._v(a._s(t.value)+" "+a._s(a.t("dosage_unit."+t.unit)))])]),a._v(" "),i("div",{staticClass:"medication-index-card-time"},[a._v(a._s(t.time))])])})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null,takenData:null}},mounted:function mounted(){this.getData(),this.$events.$on(this.vitalsElement+":updateRecords",this.getData)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},computed:{todayData:function todayData(){if(!this.data)return null;var i=(new Date).getTime(),todayData=[];return this.data.forEach(function(e){if(e.data.reminder){var t=new Date(e.data.startDate).getTime(),a=new Date(e.data.endDate).getTime();t<=i&&i<=a&&e.data.dosage.forEach(function(t){todayData.push({id:e.id,name:e.data.name,time:t.time,unit:t.unit,value:t.value})})}}),todayData.sort(function(t,e){return 60*parseInt(t.time.split(":")[0],10)+parseInt(t.time.split(":")[1],10)<60*parseInt(e.time.split(":")[0],10)+parseInt(e.time.split(":")[1],10)?-1:1}),todayData.length?todayData:null}},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".index."+e,a)},getData:function getData(){var i=this,t=new Date;function getData(){return new Promise(function(e,a){Q(i.$root.user).then(function(t){e(t)}).catch(function(t){a(t)})})}t.setHours(0,0,0,0),Promise.all([getData(),function getTaken(){return new Promise(function(e,a){L(i.$root.user,{dateFrom:t,dateTo:new Date(t.getTime()+864e5)}).then(function(t){e(t)}).catch(function(t){a(t)})})}()]).then(function(t){var e=t[0],a=t[1];i.takenData=a,i.data=e,i.checkReminders()}).catch(function(t){console.log(t)})},isNeedToTake:function isNeedToTake(t){if(!this.todayData)return!1;if(this.isTaken(t)||this.isNotTaken(t))return!1;var e,a=t.time.split(":").map(function(t){return parseInt(t,10)}),i=new Date,n=i.getHours(),s=i.getMinutes();return n>a[0]?e=!0:n===a[0]&&s>=a[1]&&(e=!0),e},isTaken:function isTaken(a){var i;if(!this.takenData)return!1;var n=new Date;return n.setHours(0,0,0,0),this.takenData.forEach(function(t){if(!i){var e=new Date(t.data.date||t.start_at);e.setHours(0,0,0,0),a.id===t.data.medication_id&&a.time===t.data.time&&n.getTime()===e.getTime()&&t.data.taken&&(i=!0)}}),i},isNotTaken:function isNotTaken(a){var i;if(!this.takenData)return!1;var n=new Date;return n.setHours(0,0,0,0),this.takenData.forEach(function(t){if(!i){var e=new Date(t.data.date||t.start_at);e.setHours(0,0,0,0),a.id!==t.data.medication_id||a.time!==t.data.time||n.getTime()!==e.getTime()||t.data.taken||(i=!0)}}),i},checkReminders:function checkReminders(){var e=this;e.todayData&&e.todayData.forEach(function(t){e.isNeedToTake(t)&&e.$f7.dialog.create({text:'\n            <div class="text-align-center">\n              <img src="'+e.$addonAssetsUrl+e.vitalsElement+'/remind.svg" height="80"/>\n            </div>\n            <p class="text-align-center">'+e.$t("health_vitals.medication_reminder.medication_time.text")+" "+t.name+"</p>\n          ",buttons:[{text:e.$t("health_vitals.medication_reminder.medication_time.snooze_button"),onClick:function onClick(){z(e.$root.user,t.id,t.time,!1).then(function(){e.getData()})}},{text:e.$t("health_vitals.medication_reminder.medication_time.confirm_button"),bold:!0,onClick:function onClick(){z(e.$root.user,t.id,t.time,!0).then(function(){e.getData()})}}]}).open()})},onPageScroll:function onPageScroll(t){var e=this,a=e.$$(t.target).closest(".page-content");a.length&&(100<a[0].scrollTop?e.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"):e.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"))},onPageBeforeIn:function onPageBeforeIn(){this.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")},onPageBeforeOut:function onPageBeforeOut(){this.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")}}},nt={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-element-manual-add-page vitals-"+a.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[a.allowSave?i("f7-link",{attrs:{href:"#","icon-only":""},on:{click:a.save}},[i("i",{staticClass:"icon f7-icons"},[a._v("check")])]):a._e()],1)],1),a._v(" "),i("f7-list",{attrs:{"no-hairlines":""}},[i("f7-list-input",{attrs:{type:"text","inline-label":"",value:a.name,label:a.t("vital_label")},on:{input:function(t){a.name=t.target.value}}}),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input-start",label:a.t("startdate_label")}}),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input-end",label:a.t("enddate_label")}}),a._v(" "),i("f7-list-item",{attrs:{"smart-select":"","smart-select-params":{openIn:"popover",closeOnSelect:!0},title:a.t("frequency_label"),after:a.t("frequency_units.0")}},[i("select",{domProps:{value:a.frequency},on:{change:function(t){a.frequency=parseInt(t.target.value,10)}}},a._l(8,function(t){return i("option",{key:t,domProps:{value:t}},[a._v(a._s(a.t("frequency_units."+(t-1))))])}))]),a._v(" "),a._l(a.frequency,function(e){return i("f7-list-item",{key:e,staticClass:"vitals-medication_reminder-dosage-input"},[i("div",{staticClass:"input"},[i("input",{staticClass:"time-input",attrs:{type:"text"},domProps:{value:a.dosage[e-1].time}})]),a._v(" "),i("div",{staticClass:"input",staticStyle:{width:"100px"}},[i("input",{attrs:{type:"number",placeholder:a.t("dosage_label")},domProps:{value:a.dosage[e-1].value},on:{input:function(t){a.dosage[e-1].value=t.target.value}}})]),a._v(" "),i("div",{staticClass:"input input-dropdown"},[i("select",{domProps:{value:a.dosage[e-1].unit||"bag"},on:{change:function(t){a.dosage[e-1].unit=t.target.value}}},[i("option",{attrs:{value:"bag"}},[a._v(a._s(a.t("dosage_unit.bag")))]),a._v(" "),i("option",{attrs:{value:"ml"}},[a._v(a._s(a.t("dosage_unit.ml")))]),a._v(" "),i("option",{attrs:{value:"pill"}},[a._v(a._s(a.t("dosage_unit.pill")))]),a._v(" "),i("option",{attrs:{value:"mg"}},[a._v(a._s(a.t("dosage_unit.mg")))]),a._v(" "),i("option",{attrs:{value:"drop"}},[a._v(a._s(a.t("dosage_unit.drop")))])])])])})],2)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){var t=new Date;return t.setHours(0,0,0,0),{name:"",frequency:1,startDate:t,endDate:new Date(t.getTime()+864e6),dosage:[{value:"",unit:"bag",time:"10:00"}]}},computed:{allowSave:function allowSave(){if(this.name&&this.name.trim().length){var e=!0;if(this.dosage.forEach(function(t){(!t.value||t.value<1)&&(e=!1)}),e)return!0}return!1}},watch:{frequency:function frequency(){for(var t=this,e=t.dosage[t.dosage.length-1].value,a=t.dosage[t.dosage.length-1].unit,i=t.dosage[t.dosage.length-1].time,n=0;n<t.frequency;n+=1)t.dosage[n]||(t.dosage[n]={value:e,unit:a,time:i});t.$nextTick(function(){t.createPickers()})}},mounted:function mounted(){var a,i=this;i.$f7.calendar.create({inputEl:i.$el.querySelector("#date-input-start"),value:[i.startDate],minDate:new Date,on:{change:function change(t,e){(i.startDate=new Date(e[0]),i.startDate.setHours(0,0,0,0),a)&&(a.params.minDate=i.startDate,new Date(a.value[0]).getTime()<new Date(i.startDate).getTime()&&a.setValue([i.startDate]))}}}),a=i.$f7.calendar.create({inputEl:i.$el.querySelector("#date-input-end"),value:[i.endDate],on:{change:function change(t,e){i.endDate=new Date(e[0]),i.endDate.setHours(0,0,0,0)}}}),i.createPickers()},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".medication_add."+e,a)},createPickers:function createPickers(){var i=this;i.$$(i.$el).find(".vitals-medication_reminder-dosage-input .time-input").each(function(a,t){t.f7PickerCreated||(t.f7PickerCreated=!0,i.$f7.picker.create({inputEl:t,value:[i.dosage[a].time.split(":")[0],i.dosage[a].time.split(":")[1]],formatValue:function formatValue(t){return t[0]+":"+t[1]},cols:[{values:function(){for(var t=[],e=0;e<24;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()}],on:{change:function change(t,e){i.dosage[a].time=e.join(":")}}}))})},save:function save(){var t=this,e=t.name,a=t.startDate,i=t.endDate,n=t.dosage,s=t.frequency;X(t.$root.user,{name:e,startDate:new Date(a).toJSON(),endDate:new Date(i).toJSON(),dosage:n.filter(function(t,e){return e<s}),frequency:s,reminder:!0}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})}}},st={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-element-manual-add-page vitals-"+a.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[a.allowSave?i("f7-link",{attrs:{href:"#","icon-only":""},on:{click:a.save}},[i("i",{staticClass:"icon f7-icons"},[a._v("check")])]):a._e()],1)],1),a._v(" "),a.loaded?i("div",{staticClass:"medication-toolbar",attrs:{slot:"fixed"},slot:"fixed"},[i("a",{attrs:{href:"#"},on:{click:a.deleteMedication}},[a._v(a._s(a.t("delete_button")))]),a._v(" "),i("a",{attrs:{href:"#"},on:{click:function(){return a.reminder?a.stopReminder():a.startReminder()}}},[a._v(a._s(a.t(a.reminder?"pause_button":"start_button")))])]):a._e(),a._v(" "),a.loaded?i("f7-list",{attrs:{"no-hairlines":""}},[i("f7-list-input",{attrs:{type:"text","inline-label":"",value:a.name,label:a.t("vital_label")},on:{input:function(t){a.name=t.target.value}}}),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input-start",label:a.t("startdate_label")}}),a._v(" "),i("f7-list-input",{attrs:{type:"text","inline-label":"","input-id":"date-input-end",label:a.t("enddate_label")}}),a._v(" "),i("f7-list-item",{attrs:{"smart-select":"","smart-select-params":{openIn:"popover",closeOnSelect:!0},title:a.t("frequency_label"),after:a.t("frequency_units.0")}},[i("select",{domProps:{value:a.frequency},on:{change:function(t){a.frequency=parseInt(t.target.value,10)}}},a._l(8,function(t){return i("option",{key:t,domProps:{value:t}},[a._v(a._s(a.t("frequency_units."+(t-1))))])}))]),a._v(" "),a._l(a.frequency,function(e){return i("f7-list-item",{key:e,staticClass:"vitals-medication_reminder-dosage-input"},[i("div",{staticClass:"input"},[i("input",{staticClass:"time-input",attrs:{type:"text"},domProps:{value:a.dosage[e-1].time}})]),a._v(" "),i("div",{staticClass:"input",staticStyle:{width:"100px"}},[i("input",{attrs:{type:"number",placeholder:a.t("dosage_label")},domProps:{value:a.dosage[e-1].value},on:{input:function(t){a.dosage[e-1].value=t.target.value}}})]),a._v(" "),i("div",{staticClass:"input input-dropdown"},[i("select",{domProps:{value:a.dosage[e-1].unit||"bag"},on:{change:function(t){a.dosage[e-1].unit=t.target.value}}},[i("option",{attrs:{value:"bag"}},[a._v(a._s(a.t("dosage_unit.bag")))]),a._v(" "),i("option",{attrs:{value:"ml"}},[a._v(a._s(a.t("dosage_unit.ml")))]),a._v(" "),i("option",{attrs:{value:"pill"}},[a._v(a._s(a.t("dosage_unit.pill")))]),a._v(" "),i("option",{attrs:{value:"mg"}},[a._v(a._s(a.t("dosage_unit.mg")))]),a._v(" "),i("option",{attrs:{value:"drop"}},[a._v(a._s(a.t("dosage_unit.drop")))])])])])})],2):a._e()],1)},staticRenderFns:[],props:{id:String,vitalsElement:String},data:function data(){var t=new Date;return t.setHours(0,0,0,0),{loaded:!1,name:"",frequency:1,startDate:t,endDate:new Date(t.getTime()+864e6),reminder:!0,dosage:[{value:"",unit:"bag",time:"10:00"}]}},computed:{allowSave:function allowSave(){if(this.name&&this.name.trim().length){var e=!0;if(this.dosage.forEach(function(t){(!t.value||t.value<1)&&(e=!1)}),e)return!0}return!1}},watch:{frequency:function frequency(){for(var t=this,e=t.dosage[t.dosage.length-1].value,a=t.dosage[t.dosage.length-1].unit,i=t.dosage[t.dosage.length-1].time,n=0;n<t.frequency;n+=1)t.dosage[n]||(t.dosage[n]={value:e,unit:a,time:i});t.$nextTick(function(){t.createPickers()})}},mounted:function mounted(){var a,i=this;K(i.$root.user,i.id).then(function(t){i.name=t.data.name,i.frequency=t.data.frequency,i.startDate=t.data.startDate,i.endDate=t.data.endDate,i.dosage=t.data.dosage,i.reminder=t.data.reminder,i.loaded=!0,i.$nextTick(function(){i.$f7.calendar.create({inputEl:i.$el.querySelector("#date-input-start"),value:[i.startDate],minDate:new Date,on:{change:function change(t,e){(i.startDate=new Date(e[0]),i.startDate.setHours(0,0,0,0),a)&&(a.params.minDate=i.startDate,new Date(a.value[0]).getTime()<new Date(i.startDate).getTime()&&a.setValue([i.startDate]))}}}),a=i.$f7.calendar.create({inputEl:i.$el.querySelector("#date-input-end"),value:[i.endDate],on:{change:function change(t,e){i.endDate=new Date(e[0]),i.endDate.setHours(0,0,0,0)}}}),i.createPickers()})})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".medication_edit."+e,a)},createPickers:function createPickers(){var i=this;i.$$(i.$el).find(".vitals-medication_reminder-dosage-input .time-input").each(function(a,t){t.f7PickerCreated||(t.f7PickerCreated=!0,i.$f7.picker.create({inputEl:t,value:[i.dosage[a].time.split(":")[0],i.dosage[a].time.split(":")[1]],formatValue:function formatValue(t){return t[0]+":"+t[1]},cols:[{values:function(){for(var t=[],e=0;e<24;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()}],on:{change:function change(t,e){i.dosage[a].time=e.join(":")}}}))})},deleteMedication:function deleteMedication(){var t=this;tt(t.$root.user,t.id).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})},stopReminder:function stopReminder(){var t=this,e=t.name,a=t.startDate,i=t.endDate,n=t.dosage,s=t.frequency;Z(t.$root.user,t.id,{name:e,startDate:new Date(a).toJSON(),endDate:new Date(i).toJSON(),dosage:n,frequency:s,reminder:!1}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})},startReminder:function startReminder(){var t=this,e=t.name,a=t.startDate,i=t.endDate,n=t.dosage,s=t.frequency;Z(t.$root.user,t.id,{name:e,startDate:new Date(a).toJSON(),endDate:new Date(i).toJSON(),dosage:n,frequency:s,reminder:!0}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})},save:function save(){var t=this,e=t.name,a=t.startDate,i=t.endDate,n=t.dosage,s=t.frequency,l=t.reminder;void 0===l&&(l=!0),Z(t.$root.user,t.id,{name:e,startDate:new Date(a).toJSON(),endDate:new Date(i).toJSON(),dosage:n,frequency:s,reminder:l}).then(function(){t.$events.$emit(t.vitalsElement+":updateRecords"),t.$f7router.back()})}}},lt={receiveMessage:!1},rt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-settings-page vitals-"+t.vitalsElement+"-settings-page",attrs:{id:"vitals_element__settings"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title")))])],1),t._v(" "),a("div",{class:"vitals-element-settings-header vitals-"+t.vitalsElement+"-settings-header"},[a("div",{class:"vitals-element-settings-center-icon vitals-"+t.vitalsElement+"-settings-center-icon"})]),t._v(" "),a("div",{class:"vitals-element-settings-text vitals-"+t.vitalsElement+"-settings-text"},[a("p",[t._v(t._s(t.t("vital_text")))])]),t._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:t.t("chat_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.settings.receiveMessage},on:{"toggle:change":t.onMessagesChanges},slot:"after"})],1)],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{settings:lt}},mounted:function mounted(){var e=this;et(e.vitalsElement).then(function(t){t&&(e.settings=t,lt=e.settings)})},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".settings."+e,a)},onMessagesChanges:function onMessagesChanges(t){this.settings.receiveMessage=t,lt=this.settings,at(this.vitalsElement,this.settings)}}},ot={render:function(){var i=this,t=i.$createElement,n=i._self._c||t;return n("f7-page",{class:"vitals-"+i.vitalsElement+"-history-page",attrs:{id:"vitals_element__history"}},[n("f7-navbar",[n("tommy-nav-back"),i._v(" "),n("f7-nav-title",[i._v(i._s(i.t("title")))])],1),i._v(" "),n("div",{staticClass:"medication-history-header"},[i.data&&i.takenData?[n("div",{staticClass:"medication-history-header-icon",class:{"not-taken":!i.isLastDayTaken}}),i._v(" "),n("div",{staticClass:"medication-history-header-text"},[i._v(i._s(i.isLastDayTaken?i.t("notice_text.0"):i.t("notice_text.1")))])]:i._e()],2),i._v(" "),i._l(i.orderedData,function(t,a){return n("div",{key:a,staticClass:"medication-history-card",on:{click:function(t){i.toggleCard(a)}}},[n("div",{staticClass:"medication-history-card-date"},[n("span",[i._v(i._s(i.$moment(a).format("DD MMM YYYY")))]),i._v(" "),i.isOpenedCard(a)?n("span",[i._v(i._s(i.percentageTaken(t,a))+"%")]):i._e(),i._v(" "),n("f7-icon",{attrs:{f7:i.isOpenedCard(a)?"chevron_up":"chevron_right",size:"16"}})],1),i._v(" "),i.isOpenedCard(a)?i._l(t,function(t,e){return n("div",{key:e,staticClass:"medication-history-card-content"},[n("div",{staticClass:"medication-history-card-icon",class:{taken:i.isTaken(t,a),"not-taken":i.isNotTaken(t,a)}}),i._v(" "),n("div",{staticClass:"medication-history-card-title"},[i._v(i._s(t.name))]),i._v(" "),n("div",{staticClass:"medication-history-card-value"},[i._v(i._s(t.time))])])}):n("div",{staticClass:"medication-history-card-content"},[100===i.percentageTaken(t,a)?n("div",{staticClass:"medication-history-card-icon taken"}):n("f7-gauge",{attrs:{size:46,value:i.percentageTaken(t,a)/100,"border-bg-color":"#FAE1C9","border-color":"#FF4500","border-width":8}}),i._v(" "),n("div",{staticClass:"medication-history-card-title"},[i._v(i._s(i.t("dosage_status")))]),i._v(" "),n("div",{staticClass:"medication-history-card-value"},[i._v(i._s(i.percentageTaken(t,a))+"%")])],1)],2)})],2)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null,takenData:null,openedCards:[]}},mounted:function mounted(){this.getData()},computed:{isLastDateTaken:function isLastDateTaken(){var t=this,e=t.$moment().format("YYYY-MM-DD");return!t.orderedData||(!t.orderedData[e]||100===t.percentageTaken(t.orderedData[e]))},orderedData:function orderedData(){var o=this;if(o.data){var d={};o.data.forEach(function(e){var t,a=new Date(e.data.startDate);if(!(a.getTime()>(new Date).getTime())){var i=new Date(e.data.endDate);i.getTime()>(new Date).getTime()&&(i=new Date).setHours(0,0,0,0);for(var n=(i.getTime()-a.getTime())/864e5+1,s=0;s<n;s+=1){var l=new Date(a).getTime()+864e5*s,r=o.$moment(l).format("YYYY-MM-DD");d[r]||(d[r]=[]),(t=d[r]).push.apply(t,e.data.dosage.map(function(t){return{id:e.id,name:e.data.name,time:t.time}}))}}}),Object.keys(d).forEach(function(t){d[t].sort(function(t,e){return 60*parseInt(t.time.split(":")[0],10)+parseInt(t.time.split(":")[1],10)<60*parseInt(e.time.split(":")[0],10)+parseInt(e.time.split(":")[1],10)?-1:1})});var t=Object.keys(d).sort(function(t,e){var a=new Date(t).getTime();return new Date(e).getTime()<a?-1:1}),e={};return t.forEach(function(t){e[t]=d[t]}),e}}},methods:{isOpenedCard:function isOpenedCard(t){return 0<=this.openedCards.indexOf(t)},toggleCard:function toggleCard(t){0<=this.openedCards.indexOf(t)?this.openedCards.splice(this.openedCards.indexOf(t),1):this.openedCards.push(t)},percentageTaken:function percentageTaken(t,e){var a=this,i=t.filter(function(t){return a.isTaken(t,e)});return Math.round(i.length/t.length*100)},isTaken:function isTaken(a,t){var i;if(!this.takenData)return!1;var n=new Date(t);return n.setHours(0,0,0,0),this.takenData.forEach(function(t){if(!i){var e=new Date(t.data.date||t.start_at);e.setHours(0,0,0,0),a.id===t.data.medication_id&&a.time===t.data.time&&n.getTime()===e.getTime()&&t.data.taken&&(i=!0)}}),i},isNotTaken:function isNotTaken(a,t){var i;if(!this.takenData)return!1;var n=new Date(t);return n.setHours(0,0,0,0),this.takenData.forEach(function(t){if(!i){var e=new Date(t.data.date||t.start_at);e.setHours(0,0,0,0),a.id!==t.data.medication_id||a.time!==t.data.time||n.getTime()!==e.getTime()||t.data.taken||(i=!0)}}),i},getData:function getData(){var i=this;function getData(){return new Promise(function(e,a){Q(i.$root.user).then(function(t){e(t)}).catch(function(t){a(t)})})}Promise.all([getData(),function getTaken(){return new Promise(function(e,a){L(i.$root.user).then(function(t){e(t)}).catch(function(t){a(t)})})}()]).then(function(t){var e=t[0],a=t[1];i.takenData=a,i.data=e}).catch(function(t){console.log(t)})},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".history."+e,a)}}},dt=[{path:"/health_vitals/medication_reminder/",component:it},{path:"/health_vitals/medication_reminder/plan/",component:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-"+e.vitalsElement+"-plan-page"},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))])],1),e._v(" "),a("f7-fab",{class:"vitals-element-fab vitals-"+e.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+e.vitalsElement+"/add/"}},[a("f7-icon",{attrs:{f7:"add"}})],1),e._v(" "),e._l(e.medications,function(t){return a("a",{key:t.id,staticClass:"medication-card",attrs:{href:"/health_vitals/"+e.vitalsElement+"/edit/"+t.id+"/"}},[a("div",{staticClass:"medication-card-date"},[e._v(e._s(e.$moment(t.data.startDate).format("D MMM YYYY"))+" - "+e._s(e.$moment(t.data.endDate).format("D MMM YYYY")))]),e._v(" "),a("div",{staticClass:"medication-card-content"},[a("div",{staticClass:"medication-card-icon"}),e._v(" "),a("div",{staticClass:"medication-card-name"},[e._v(e._s(t.data.name))])])])})],2)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{medications:null}},mounted:function mounted(){this.getMedications(),this.$events.$on(this.vitalsElement+":updateRecords",this.getMedications)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getMedications)},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".medication_plan."+e,a)},getMedications:function getMedications(){var e=this;Q(e.$root.user).then(function(t){e.medications=t})}}}},{path:"/health_vitals/medication_reminder/add/",component:nt},{path:"/health_vitals/medication_reminder/edit/:id/",component:st},{path:"/health_vitals/medication_reminder/settings/",component:rt},{path:"/health_vitals/medication_reminder/history/",component:ot}];dt.forEach(function(t){t.options={props:{vitalsElement:"medication_reminder"}}});var ct=[{path:"/health_vitals/pedometer/",component:p},{path:"/health_vitals/pedometer/add/",component:D},{path:"/health_vitals/pedometer/settings/",component:k},{path:"/health_vitals/pedometer/history/",component:E}];ct.forEach(function(t){t.options={props:{vitalsElement:"pedometer",chartType:"column",chartColor:"#1498CE",chartWeekSumsDays:!0,chartMonthSumsDays:!0}}});var vt=[{path:"/health_vitals/temperature/",component:p},{path:"/health_vitals/temperature/add/",component:D},{path:"/health_vitals/temperature/settings/",component:k},{path:"/health_vitals/temperature/history/",component:E}];vt.forEach(function(t){t.options={props:{vitalsElement:"temperature"}}});var ut=window.tommy.api,mt=function getRecords(t,e,a){void 0===a&&(a={});var i,n=a.page,s=a.limit,l=a.dateFrom,r=a.dateTo;return t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join(""),l&&r&&(i=[new Date(l).toJSON(),new Date(r).toJSON()]),ut.getFragments({addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,with_permission_to:!0,user_id:(o.user?o.user.user_id:o.id)||e.id,actor_id:o.id,page:n||1,limit:s||50,date_range:i},{cache:!1})},ht=function addRecord(t,e,a){t=t.split(/[-_]/g).map(function(t){return t[0].toUpperCase()+t.substr(1)}).join("");var i=new Date(a.date);i.setHours(parseInt(a.time.split(":")[0],10),parseInt(a.time.split(":")[1],10));var n=o.user||e,s={addon:"health_vitals",kind:"Vitals"+t+"Item",with_filters:!0,start_at:i.toJSON(),tags:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],filters:[{context:"members",name:n.first_name+" "+n.last_name,user_id:n.id}],data:JSON.stringify(a)};return o.id&&(s.actor_id=o.id,s.actor_type="User"),ut.createFragment(s)},_t=function getSettings(t){return ut.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"GET",cache:!1}).then(function(t){return t?t.data?t.data:null:t})},ft=function saveSettings(t,e){return void 0===e&&(e={}),ut.call({endpoint:"addons/health_vitals/install/settings/"+t,method:"PUT",data:{data:JSON.stringify(e)}})},gt={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("f7-page",{class:"vitals-elment-index-page vitals-"+a.vitalsElement+"-index-page",attrs:{id:"vitals_element__index"},on:{"page:beforein":a.onPageBeforeIn,"page:beforeout":a.onPageBeforeOut},nativeOn:{"!scroll":function(t){return a.onPageScroll(t)}}},[i("f7-navbar",[i("tommy-nav-back"),a._v(" "),i("f7-nav-title",[a._v(a._s(a.t("title")))]),a._v(" "),i("f7-nav-right",[i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/settings/","icon-only":""}},[i("i",{class:"icon vitals-element-icon-settings vitals-"+a.vitalsElement+"-icon-settings"})]),a._v(" "),i("f7-link",{attrs:{href:"/health_vitals/"+a.vitalsElement+"/history/","icon-only":"","route-props":{goalValue:a.settings?a.settings.goal_value:0}}},[i("i",{class:"icon vitals-element-icon-chart vitals-"+a.vitalsElement+"-icon-chart"})])],1)],1),a._v(" "),i("f7-fab",{class:"vitals-element-fab vitals-"+a.vitalsElement+"-fab",attrs:{href:"/health_vitals/"+a.vitalsElement+"/add/"}},[i("f7-icon",{attrs:{f7:"add"}})],1),a._v(" "),i("div",{class:"vitals-element-index-header vitals-"+a.vitalsElement+"-index-header"},[i("div",{class:"vitals-element-index-header-icon vitals-"+a.vitalsElement+"-index-header-icon"}),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[a.settings&&a.settings.goal_value?i("div",{class:"vitals-"+a.vitalsElement+"-index-header-data-row"},[i("div",{class:"vitals-"+a.vitalsElement+"-index-header-data-label"},[a._v(a._s(a.t("goal_label")))]),a._v(" "),i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.settings.goal_value)),i("span",[a._v(a._s(a.t("vital_unit."+(a.settings.goal_unit||5))))])])]):a._e(),a._v(" "),i("div",{class:"vitals-"+a.vitalsElement+"-index-header-data-row"},[i("div",{class:"vitals-"+a.vitalsElement+"-index-header-data-label"},[a._v(a._s(a.t("achieved_label")))]),a._v(" "),i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.todayValue)),i("span",[a._v(a._s(a.t("vital_unit."+(a.data[0].data.unit||5))))])])])]):a._e(),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-header-content vitals-"+a.vitalsElement+"-index-header-content"},[i("div",{class:"vitals-element-index-header-data vitals-"+a.vitalsElement+"-index-header-data"},[a._v(a._s(a.t("vital_label")))])]):a._e()]),a._v(" "),a.data&&!a.data.length?i("div",{class:"vitals-element-index-no-data vitals-"+a.vitalsElement+"-index-no-data"},[i("i",{class:"vitals-element-index-no-data-img vitals-"+a.vitalsElement+"-index-no-data-img"}),a._v(" "),i("span",[a._v(a._s(a.t("not_available")))])]):a._e(),a._v(" "),a.data&&a.data.length?i("div",{class:"vitals-element-index-cards vitals-"+a.vitalsElement+"-index-cards"},a._l(a.data,function(t,e){return i("div",{key:e,class:"vitals-element-card vitals-"+a.vitalsElement+"-card"},[i("div",{class:"vitals-element-card-title vitals-"+a.vitalsElement+"-card-title"},[a._v(a._s(a.$moment(t.data.date).format("DD MMM YYYY"))+" "+a._s(t.data.time))]),a._v(" "),i("div",{class:"vitals-element-card-content vitals-"+a.vitalsElement+"-card-content"},[i("div",{class:"vitals-element-card-icon vitals-"+a.vitalsElement+"-card-icon"},[t.data.value<200?i("img",{attrs:{src:""+a.$addonAssetsUrl+a.vitalsElement+"/card-icon-cup.svg"}}):t.data.value<350?i("img",{attrs:{src:""+a.$addonAssetsUrl+a.vitalsElement+"/card-icon-glass.svg"}}):i("img",{attrs:{src:""+a.$addonAssetsUrl+a.vitalsElement+"/card-icon-bottle.svg"}})]),a._v(" "),i("div",{class:"vitals-element-card-value vitals-"+a.vitalsElement+"-card-value"},[a._v(a._s(t.data.value)+" "),i("sub",[a._v(a._s(a.t("vital_unit."+(t.data.unit||0))))])])])])})):a._e()],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{data:null,settings:null}},mounted:function mounted(){var e=this;e.getData(),e.$events.$on(e.vitalsElement+":updateRecords",e.getData),_t(e.vitalsElement).then(function(t){t&&(e.settings=t)})},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateRecords",this.getData)},computed:{todayValue:function todayValue(){if(!this.data)return null;var e=0,a=new Date;return a.setHours(0,0,0,0),this.data.forEach(function(t){new Date(t.data.date).getTime()===a.getTime()&&(e+=t.data.value)}),e}},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".index."+e,a)},getData:function getData(){var e=this;mt(e.vitalsElement,e.$root.user).then(function(t){e.data=t.filter(function(t){return t.data&&t.data.value}).sort(function(t,e){var a=new Date(t.data.date),i=t.data.time.split(":"),n=i[0],s=i[1];a.setHours(parseInt(n,10),parseInt(s,10));var l=new Date(e.data.date),r=e.data.time.split(":"),o=r[0],d=r[1];return l.setHours(parseInt(o,10),parseInt(d,10)),l-a})})},onPageScroll:function onPageScroll(t){var e=this,a=e.$$(t.target).closest(".page-content");a.length&&(100<a[0].scrollTop?e.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"):e.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+e.vitalsElement+"-index-navbar"))},onPageBeforeIn:function onPageBeforeIn(){this.$f7router.view.$navbarEl.addClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")},onPageBeforeOut:function onPageBeforeOut(){this.$f7router.view.$navbarEl.removeClass("vitals-element-index-navbar vitals-"+this.vitalsElement+"-index-navbar")}}},pt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-manual-add-page vitals-"+e.vitalsElement+"-manual-add-page",attrs:{id:"vitals_element__add"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))])],1),e._v(" "),a("f7-list",{attrs:{"no-chevron":"","no-hairlines":"","no-hairlines-between":""}},[a("f7-list-item",{attrs:{link:"",title:""+e.t("option_a_label")+e.t("vital_unit.5")},on:{click:function(t){e.addValue(150)}}},[a("img",{attrs:{slot:"media",src:""+e.$addonAssetsUrl+e.vitalsElement+"/card-icon-cup.svg"},slot:"media"})]),e._v(" "),a("f7-list-item",{attrs:{link:"",title:""+e.t("option_b_label")+e.t("vital_unit.5")},on:{click:function(t){e.addValue(220)}}},[a("img",{attrs:{slot:"media",src:""+e.$addonAssetsUrl+e.vitalsElement+"/card-icon-glass.svg"},slot:"media"})]),e._v(" "),a("f7-list-item",{attrs:{link:"",title:""+e.t("option_c_label")+e.t("vital_unit.5")},on:{click:function(t){e.addValue(350)}}},[a("img",{attrs:{slot:"media",src:""+e.$addonAssetsUrl+e.vitalsElement+"/card-icon-bottle.svg"},slot:"media"})]),e._v(" "),a("f7-list-item",{attrs:{link:"",title:""+e.t("option_d_label")+e.t("vital_unit.5")},on:{click:function(t){e.addValue(400)}}},[a("img",{attrs:{slot:"media",src:""+e.$addonAssetsUrl+e.vitalsElement+"/card-icon-bottle.svg"},slot:"media"})]),e._v(" "),a("f7-list-item",{class:"vitals-"+e.vitalsElement+"-manual-add-custom-button",attrs:{link:"",title:""+e.t("custom_button")},on:{click:e.addCustom}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{}},computed:{allowSave:function allowSave(){return this.value&&0<this.value}},mounted:function mounted(){},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".manual_enter."+e,a)},addCustom:function addCustom(){var i=this;i.$f7.dialog.create({text:i.$t("health_vitals.water_tracker.custom_amount.text"),content:'<div class="dialog-input-field item-input"><div class="item-input-wrap"><input type="number" class="dialog-input"></div></div>',buttons:[{text:i.$t("health_vitals.water_tracker.custom_amount.cancel_button"),keyCodes:[27]},{text:i.$t("health_vitals.water_tracker.custom_amount.confirm_button"),bold:!0,color:"red",keyCodes:[13]}],onClick:function onClick(t,e){var a=t.$el.find(".dialog-input").val();1===e&&a&&i.addValue(parseFloat(a))},destroyOnClose:!0}).open()},addValue:function addValue(t){var e=this,a=new Date,i=(new Date).getHours();i<10&&(i="0"+i);var n=(new Date).getMinutes();n<10&&(n="0"+n);var s=i+":"+n;a.setHours(0,0,0,0),ht(e.vitalsElement,e.$root.user,{value:t,date:new Date(a).toJSON(),time:s,unit:5}).then(function(){e.$events.$emit(e.vitalsElement+":updateRecords"),e.$f7router.back()})}}},Dt={receiveMessage:!1,goal_value:0,goal_start_time:"08:00",goal_end_time:"22:00",goal_time_interval:60,goal_unit:5},bt=[{path:"/health_vitals/water_tracker/",component:gt},{path:"/health_vitals/water_tracker/add/",component:pt},{path:"/health_vitals/water_tracker/settings/",component:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-page",{class:"vitals-element-settings-page vitals-"+t.vitalsElement+"-settings-page",attrs:{id:"vitals_element__settings"}},[a("f7-navbar",[a("tommy-nav-back"),t._v(" "),a("f7-nav-title",[t._v(t._s(t.t("title")))])],1),t._v(" "),a("div",{class:"vitals-element-settings-header vitals-"+t.vitalsElement+"-settings-header"},[a("div",{class:"vitals-element-settings-icon vitals-"+t.vitalsElement+"-settings-icon"}),t._v(" "),a("div",{class:"vitals-element-settings-center-icon vitals-"+t.vitalsElement+"-settings-center-icon"})]),t._v(" "),a("div",{class:"vitals-element-settings-text vitals-"+t.vitalsElement+"-settings-text"},[a("p",[t._v(t._s(t.t("vital_text")))])]),t._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:t.t("chat_label")}},[a("f7-toggle",{attrs:{slot:"after",checked:t.settings.receiveMessage},on:{"toggle:change":t.onMessagesChanges},slot:"after"})],1),t._v(" "),a("f7-list-item",{attrs:{title:t.t("plan_label"),link:"/vitals_water_tracker/plan/",after:t.settings.goal_value?""+t.settings.goal_value+t.t("vital_unit."+t.settings.goal_unit):"","route-props":{settings:t.settings}}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String},data:function data(){return{settings:Dt}},mounted:function mounted(){var e=this;_t(e.vitalsElement).then(function(t){t&&(e.settings=t,Dt=e.settings)}),e.$events.$on(e.vitalsElement+":updateGoal",e.updateGoal)},beforeDestroy:function beforeDestroy(){this.$events.$off(this.vitalsElement+":updateGoal",this.updateGoal)},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".settings."+e,a)},updateGoal:function updateGoal(t){var e=this;e.settings.goal_value=t.value,e.settings.goal_start_time=t.start_time,e.settings.goal_end_time=t.end_time,e.settings.goal_time_interval=t.time_interval,e.settings.goal_unit=t.unit,Dt=e.settings,ft(e.vitalsElement,e.settings)},onMessagesChanges:function onMessagesChanges(t){this.settings.receiveMessage=t,Dt=this.settings,ft(this.vitalsElement,this.settings)}}}},{path:"/health_vitals/water_tracker/history/",component:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-element-history-page vitals-"+e.vitalsElement+"-history-page",attrs:{id:"vitals_element__history"}},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))])],1),e._v(" "),a("f7-block",[a("f7-segmented",[a("f7-button",{attrs:{active:"day"===e.range},on:{click:function(t){e.range="day"}}},[e._v(e._s(e.t("date_options.0")))]),e._v(" "),a("f7-button",{attrs:{active:"week"===e.range},on:{click:function(t){e.range="week"}}},[e._v(e._s(e.t("date_options.1")))]),e._v(" "),a("f7-button",{attrs:{active:"month"===e.range},on:{click:function(t){e.range="month"}}},[e._v(e._s(e.t("date_options.2")))])],1)],1),e._v(" "),a("div",{class:"vitals-element-chart-clicked vitals-"+e.vitalsElement+"-chart-clicked"},[a("span",[e._v(e._s(e.clickedDate))]),e._v(" "),a("span",[e._v(e._s(e.clickedValue))])]),e._v(" "),e.data&&e.data.length?["day"===e.range?a("div",{key:"chart-day",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartDay"})]):e._e(),e._v(" "),"week"===e.range?a("div",{key:"chart-week",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartWeek"})]):e._e(),e._v(" "),"month"===e.range?a("div",{key:"chart-month",class:"vitals-element-chart vitals-"+e.vitalsElement+"-chart"},[a("div",{ref:"chartMonth"})]):e._e()]:e._e()],2)},staticRenderFns:[],props:{vitalsElement:String,goalValue:Number},data:function data(){return{data:null,clicked:null,range:"day"}},mounted:function mounted(){var n=this,t=(new Date).setMonth((new Date).getMonth()-1),e=new Date;mt(n.vitalsElement,n.$root.user,{dateFrom:t,dateTo:e}).then(function(t){n.data=(t||[]).sort(function(t,e){var a=n.itemDate(t),i=n.itemDate(e);return a.getTime()-i.getTime()}),n.$nextTick(function(){n.initChart()})})},watch:{range:function range(){var t=this;t.clicked=null,t.$nextTick(function(){t.initChart()})}},computed:{clickedDate:function clickedDate(){return this.clicked?this.$moment(this.clicked.x).format("DD MMM YYYY"):""},clickedValue:function clickedValue(){var t=this;if(!t.clicked)return"";var e=t.data[t.clicked.id];return t.clicked.y+" "+t.t("vital_unit."+e.data.unit)},todayValues:function todayValues(){var e=this;if(!e.data)return null;var a=new Date;a.setHours(0,0,0,0);var t=e.data.filter(function(t){return e.itemDate(t).getTime()>a.getTime()});return e.sumValuesByDay(t)},weekValues:function weekValues(){var e=this;if(!e.data)return null;var a=new Date;a.setHours(0,0,0,0),a.setMonth(a.getMonth(),a.getDate()-7);var t=e.data.filter(function(t){return e.itemDate(t).getTime()>a.getTime()});return e.sumValuesByDay(t)},monthValues:function monthValues(){var e=this;if(!e.data)return null;var a=new Date;a.setHours(0,0,0,0),a.setMonth(a.getMonth()-1,a.getDate());var t=e.data.filter(function(t){return e.itemDate(t).getTime()>a.getTime()});return e.sumValuesByDay(t)}},methods:{sumValuesByDay:function sumValuesByDay(t){var a=this,i=[],n=a.itemDate(t[0]);n.setHours(0,0,0,0);var s=0;return t.forEach(function(t){var e=a.itemDate(t);e.setHours(0,0,0,0),e.getTime()!==n.getTime()&&(s+=1,n=e),i[s]||(i[s]={x:n,y:0,id:a.data.indexOf(t)}),i[s].y+=parseInt(t.data.value,10)}),i},itemDate:function itemDate(t){var e=new Date(t.data.date),a=parseInt(t.data.time.split(":")[0],10),i=parseInt(t.data.time.split(":")[1],10);return e.setHours(a,i),e},t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".history."+e,a)},initChart:function initChart(){var t=this,e=t.range;if(t.data&&t.data.length){var a={chart:{type:"column"},credits:{enabled:!1},legend:{enabled:!1},title:null,tooltip:{enabled:!1},xAxis:{type:"datetime"},yAxis:Object.assign({},{title:null},t.goalValue?{plotLines:[{color:"#71A7E7",width:2,value:t.goalValue}]}:{}),time:{timezoneOffset:(new Date).getTimezoneOffset()}},i={color:"#71A7E7",cursor:"pointer",point:{events:{click:function click(){t.clicked=this},select:function select(){t.clicked=this}}}};"day"===e&&t.$highcharts.chart(t.$refs.chartDay,Object.assign({},a,{series:[Object.assign({},i,{data:t.todayValues})]})),"week"===e&&t.$highcharts.chart(t.$refs.chartWeek,Object.assign({},a,{series:[Object.assign({},i,{data:t.weekValues})]})),"month"===e&&t.$highcharts.chart(t.$refs.chartMonth,Object.assign({},a,{series:[Object.assign({},i,{data:t.monthValues})]}))}}}}},{path:"/health_vitals/water_tracker/plan/",component:{render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("f7-page",{class:"vitals-"+e.vitalsElement+"-plan-page"},[a("f7-navbar",[a("tommy-nav-back"),e._v(" "),a("f7-nav-title",[e._v(e._s(e.t("title")))]),e._v(" "),a("f7-nav-right",[e.allowSave?a("f7-link",{attrs:{href:"#","icon-only":""},on:{click:e.save}},[a("i",{staticClass:"icon f7-icons"},[e._v("check")])]):e._e()],1)],1),e._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-input",{attrs:{type:"number","inline-label":"",value:e.value,min:"1",label:e.t("vital_label")},on:{input:function(t){e.updateGoalValue("value",parseFloat(t.target.value))}}},[a("span",{staticClass:"vitals-element-input-unit",attrs:{slot:"inner"},slot:"inner"},[e._v(e._s(e.t("vital_unit."+e.unit)))])])],1),e._v(" "),a("f7-block-title",[e._v(e._s(e.t("reminder_label")))]),e._v(" "),a("f7-list",{staticClass:"no-hairlines"},[a("f7-list-item",{attrs:{title:e.t("start_label"),after:e.start_time,link:""},on:{click:function(t){e.openTimePicker("start_time",e.t("start_label"))}}}),e._v(" "),a("f7-list-item",{attrs:{title:e.t("end_label"),after:e.end_time,link:""},on:{click:function(t){e.openTimePicker("end_time",e.t("end_label"))}}}),e._v(" "),a("f7-list-item",{attrs:{title:e.t("interval_label"),after:e.formatTimeInterval(e.time_interval),link:""},on:{click:function(t){e.openTimePicker("time_interval",e.t("interval_label"))}}})],1)],1)},staticRenderFns:[],props:{vitalsElement:String,settings:Object},data:function data(){var t=this.settings;return{value:t.goal_value,start_time:t.goal_start_time,end_time:t.goal_end_time,time_interval:t.goal_time_interval,unit:t.goal_unit,allowSave:!1}},mounted:function mounted(){},methods:{t:function t(e,a){return this.$t("health_vitals."+this.vitalsElement+".drinking_plan."+e,a)},formatTimeInterval:function formatTimeInterval(t){var e=Math.floor(t/60),a=t-60*Math.floor(t/60);return e<10&&(e="0"+e),a<10&&(a="0"+a),e+":"+a},updateGoalValue:function updateGoalValue(t,e){this[t]=e,this.allowSave=!0},openTimePicker:function openTimePicker(e,t){var a,i=this,n=i[e],s=!1;"number"==typeof n&&(s=!0,n=i.formatTimeInterval(n)),i.$f7.dialog.create({title:t,text:'<div class="vitals-water_tracker-dialog-time-picker"></div>',buttons:[{text:i.$t("label.ok"),bold:!0,color:"red",onClick:function onClick(){var t=a.value[0]+":"+a.value[1];s&&(t=60*a.value[0]+parseInt(a.value[1],10)),i.updateGoalValue(e,t)}}],on:{open:function open(){a=i.$f7.picker.create({toolbar:!1,value:[n.split(":")[0],n.split(":")[1]],containerEl:".vitals-water_tracker-dialog-time-picker",cols:[{values:function(){for(var t=[],e=0;e<24;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()},{divider:!0,content:":"},{values:function(){for(var t=[],e=0;e<60;e+=1)e<10?t.push("0"+e):t.push(e.toString());return t}()}]})},close:function close(){a.destroy()}}}).open()},save:function save(){var t=this;t.$events.$emit(t.vitalsElement+":updateGoal",{value:t.value,start_time:t.start_time,end_time:t.end_time,time_interval:t.time_interval,unit:t.unit}),t.$f7router.back()}}}}];bt.forEach(function(t){t.options={props:{vitalsElement:"water_tracker"}}});var kt=[{path:"/health_vitals/weight/",component:p},{path:"/health_vitals/weight/add/",component:D},{path:"/health_vitals/weight/settings/",component:k},{path:"/health_vitals/weight/history/",component:E}];return kt.forEach(function(t){t.options={props:{vitalsElement:"weight"}}}),[{path:"/health_vitals/",component:e},{path:"/health_vitals/panel/",panel:{component:{render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("f7-panel",{staticClass:"health-vitals-panel",attrs:{right:"",cover:""}},[a("f7-view",{attrs:{init:!1}},[a("f7-page",[a("f7-navbar",[a("f7-nav-left",[a("f7-link",{attrs:{"panel-close":""}},[a("i",{staticClass:"material-icons md-36"},[t._v("keyboard_arrow_left")])])],1)],1),t._v(" "),a("f7-list",{staticClass:"health-vitals-panel-list",attrs:{"no-hairlines":""}},[a("f7-list-item",{attrs:{title:t.$t("health_vitals.blood_glucose.title"),link:"/health_vitals/blood_glucose/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"blood_glucose/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.blood_pressure.title"),link:"/health_vitals/blood_pressure/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"blood_pressure/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.heart_rate.title"),link:"/health_vitals/heart_rate/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"heart_rate/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.height.title"),link:"/health_vitals/height/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"height/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.temperature.title"),link:"/health_vitals/temperature/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"temperature/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.water_tracker.title"),link:"/health_vitals/water_tracker/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"water_tracker/icon.png"},slot:"media"})]),t._v(" "),a("f7-list-item",{attrs:{title:t.$t("health_vitals.weight.title"),link:"/health_vitals/weight/","panel-close":""}},[a("img",{attrs:{slot:"media",src:t.$addonAssetsUrl+"weight/icon.png"},slot:"media"})])],1)],1)],1)],1)},staticRenderFns:[]}}}].concat(y,V,Y,I,G,dt,ct,vt,bt,kt)}();